
\chapter{\label{multi}Multifuncoids and staroids}


\section{Product of two funcoids}


\subsection{Definition}
\begin{defn}
\index{category!quasi-invertible}I will call a \emph{quasi-invertible
category} a partially ordered dagger category such that it holds 
\begin{equation}
g\circ f\nasymp h\Leftrightarrow g\nasymp h\circ f^{\dagger}\label{invertible}
\end{equation}
for every morphisms $f\in\Hom(A,B)$, $g\in\Hom(B,C)$, $h\in\Hom(A,C)$,
where $A$, $B$, $C$ are objects of this category.
\end{defn}
Inverting this formula, we get $f^{\dagger}\circ g^{\dagger}\nasymp h^{\dagger}\Leftrightarrow g^{\dagger}\nasymp f\circ h^{\dagger}$.
After replacement of variables, this gives: $f^{\dagger}\circ g\nasymp h\Leftrightarrow g\nasymp f\circ h$.
\begin{xca}
Prove that every ordered groupoid is quasi-invertible category if
we define the dagger as the inverse morphism.
\end{xca}
As it follows from above, the categories $\mathbf{Rel}$ of binary
relations (proposition~\ref{rel-cross}), $\mathsf{FCD}$ of funcoids
(theorem~\ref{fcd-cross}) and $\mathsf{RLD}$ of reloids (theorem~\ref{rld-cross})
are quasi-invertible (taking $f^{\dagger}=f^{-1}$). Moreover the
category of pointfree funcoids between lattices of filters on boolean
lattices is quasi-invertible (theorem \ref{qi-bool}).
\begin{defn}
\index{product!cross-composition}The \emph{cross-composition product}
of morphisms $f$ and $g$ of a quasi-invertible category is the pointfree
funcoid $\Hom(\Src f,\Src g)\rightarrow\Hom(\Dst f,\Dst g)$ defined
by the formulas (for every $a\in\Hom(\Src f,\Src g)$ and $b\in\Hom(\Dst f,\Dst g)$):
\[
\supfun{f\times^{(C)}g}a=g\circ a\circ f^{\dagger}\hspace{1em}\text{and}\hspace{1em}\supfun{(f\times^{(C)}g)^{-1}}b=g^{\dagger}\circ b\circ f.
\]

\end{defn}
We need to prove that it is really a pointfree funcoid that is that
\[
b\nasymp\supfun{f\times^{(C)}g}a\Leftrightarrow a\nasymp\supfun{(f\times^{(C)}g)^{-1}}b.
\]
This formula means $b\nasymp g\circ a\circ f^{\dagger}\Leftrightarrow a\nasymp g^{\dagger}\circ b\circ f$
and can be easily proved applying formula (\ref{invertible})
twice.
\begin{prop}
$a\suprel{f\times^{(C)}g}b\Leftrightarrow a\circ f^{\dagger}\nasymp g^{\dagger}\circ b$.\end{prop}
\begin{proof}
From the definition.\end{proof}
\begin{prop}
$a\suprel{f\times^{(C)}g}b\Leftrightarrow f\suprel{a\times^{(C)}b}g$.\end{prop}
\begin{proof}
$f\suprel{a\times^{(C)}b}g\Leftrightarrow f\circ a^{\dagger}\nasymp b^{\dagger}\circ g\Leftrightarrow a\circ f^{\dagger}\nasymp g^{\dagger}\circ b\Leftrightarrow a\suprel{f\times^{(C)}g}b$.\end{proof}
\begin{thm}
$(f\times^{(C)}g)^{-1}=f^{\dagger}\times^{(C)}g^{\dagger}$.\end{thm}
\begin{proof}
For every morphisms $a\in\Hom(\Src f,\Src g)$ and $b\in\Hom(\Dst f,\Dst g)$
we have:

$\supfun{(f\times^{(C)}g)^{-1}}b=g^{\dagger}\circ b\circ f=\supfun{f^{\dagger}\times^{(C)}g^{\dagger}}b$.

$\supfun{((f\times^{(C)}g)^{-1})^{-1}}a=\supfun{f\times^{(C)}g}a=g\circ a\circ f^{\dagger}=\supfun{(f^{\dagger}\times^{(C)}g^{\dagger})^{-1}}a$.
\end{proof}
\begin{thm}
Let $f$, $g$ be pointfree funcoids between filters on boolean lattices.
Then for every filters $\mathcal{A}_{0}\in\mathscr{F}(\Src f)$, $\mathcal{B}_{0}\in\mathscr{F}(\Src g)$
\[
\supfun{f\times^{(C)}g}(\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0})=\supfun f\mathcal{A}_{0}\times^{\mathsf{FCD}}\supfun g\mathcal{B}_{0}.
\]
\end{thm}
\begin{proof}
For every atom $a_{1}\times^{\mathsf{FCD}}b_{1}$ ($a_{1}\in\atoms^{\Dst f}$,
$b_{1}\in\atoms^{\Dst g}$) (see theorem \ref{pf-atom}) of the lattice
of funcoids we have:
\begin{align*}
a_{1}\times^{\mathsf{FCD}}b_{1}\nasymp\supfun{f\times^{(C)}g}(\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0}) & \Leftrightarrow\\
\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0}\suprel{f\times^{(C)}g}a_{1}\times^{\mathsf{FCD}}b_{1} & \Leftrightarrow\\
(\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0})\circ f^{-1}\nasymp g^{-1}\circ(a_{1}\times^{\mathsf{FCD}}b_{1}) & \Leftrightarrow\\
\supfun f\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0}\nasymp a_{1}\times^{\mathsf{FCD}}\supfun{g^{-1}}b_{1} & \Leftrightarrow\\
\supfun f\mathcal{A}_{0}\nasymp a_{1}\land\supfun{g^{-1}}b_{1}\nasymp\mathcal{B}_{0} & \Leftrightarrow\\
\supfun f\mathcal{A}_{0}\nasymp a_{1}\land\supfun g\mathcal{B}_{0}\nasymp b_{1} & \Leftrightarrow\\
\supfun f\mathcal{A}_{0}\times^{\mathsf{FCD}}\supfun g\mathcal{B}_{0}\nasymp a_{1}\times^{\mathsf{FCD}}b_{1}.
\end{align*}
Thus $\supfun{f\times^{(C)}g}(\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0})=\supfun f\mathcal{A}_{0}\times^{\mathsf{FCD}}\supfun g\mathcal{B}_{0}$
because the lattice $\mathsf{pFCD}(\mathscr{F}(\Dst f),\mathscr{F}(\Dst g))$
is atomically separable (corollary \ref{pf-fcd-is-sep}).\end{proof}
\begin{cor}\label{cc-over-fcd}
$\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0}\suprel{f\times^{(C)}g}\mathcal{A}_{1}\times^{\mathsf{FCD}}\mathcal{B}_{1}\Leftrightarrow\mathcal{A}_{0}\suprel f\mathcal{A}_{1}\wedge\mathcal{B}_{0}\suprel g\mathcal{B}_{1}$
for every $\mathcal{A}_{0}\in\mathscr{F}(\Src f)$, $\mathcal{A}_{1}\in\mathscr{F}(\Dst f)$,
$\mathcal{B}_{0}\in\mathscr{F}(\Src g)$, $\mathcal{B}_{1}\in\mathscr{F}(\Dst g)$
where $\Src f$, $\Dst f$, $\Src g$, $\Dst g$ are boolean lattices.\end{cor}
\begin{proof}
~
\begin{align*}
\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0}\suprel{f\times^{(C)}g}\mathcal{A}_{1}\times^{\mathsf{FCD}}\mathcal{B}_{1} & \Leftrightarrow\\
\mathcal{A}_{1}\times^{\mathsf{FCD}}\mathcal{B}_{1}\nasymp\supfun{f\times^{(C)}g}\mathcal{A}_{0}\times^{\mathsf{FCD}}\mathcal{B}_{0} & \Leftrightarrow\\
\mathcal{A}_{1}\times^{\mathsf{FCD}}\mathcal{B}_{1}\nasymp\supfun f\mathcal{A}_{0}\times^{\mathsf{FCD}}\supfun g\mathcal{B}_{0} & \Leftrightarrow\\
\mathcal{A}_{1}\nasymp\supfun f\mathcal{A}_{0}\land\mathcal{B}_{1}\nasymp\supfun g\mathcal{B}_{0} & \Leftrightarrow\\
\mathcal{A}_{0}\suprel f\mathcal{A}_{1}\wedge\mathcal{B}_{0}\suprel g\mathcal{B}_{1}.
\end{align*}

\end{proof}

\section{Definition of staroids}

It follows from the above theorem~\ref{fcd-as-cont} that funcoids
are essentially the same as relations~$\delta$ between sets~$A$
and~$B$, such that $\setcond{Y\in\subsets B}{\exists X\in\subsets A:X\mathrel{\delta}Y}$
and $\setcond{X\in\subsets A}{\exists Y\in\subsets B:X\mathrel{\delta}Y}$
are free stars. This inspires the below definition of staroids (switching
from two sets~$X$ and~$Y$ to a (potentially infinite) family of
posets).

Whilst I have (mostly) thoroughly studied basic properties of funcoids,
\emph{staroids} (defined below) are yet much a mystery. For example,
we do not know whether the set of staroids on powersets is atomic.

Let $n$ be a set. As an example, $n$ may be an ordinal, $n$ may
be a natural number, considered as a set by the formula $n=\{0,\ldots,n-1\}$.
Let $\mathfrak{A}=\mathfrak{A}_{i\in n}$ be a family of posets indexed
by the set $n$.
\begin{defn}
\index{relation!anchored}\index{graph!of anchored relation}I will
call an \emph{anchored relation} a pair $f=(\form f,\GR f)$ of a
family $\form(f)$ of relational structures indexed by some index
set and a relation $\GR(f)\in\mathscr{P}\prod\form(f)$. I call $\GR(f)$
the \emph{graph} of the anchored relation $f$. I denote $\Anch(\mathfrak{A})$
the set of anchored relations of the form~$\mathfrak{A}$.
\end{defn}

\begin{defn}
\index{relation!anchored!infinitary}\index{relation!anchored!finitary}\index{infinitary!relation!anchored}\index{finitary!relation!anchored}\emph{Infinitary
anchored relation} is such an anchored relation whose arity is infinite;
\emph{finitary anchored relation} is such an anchored relation whose
arity is finite.
\end{defn}

\begin{defn}
\index{relation!anchored!on powersets}An anchored relation \emph{on
powersets} is an anchored relation $f$ such that every $(\form f)_{i}$
is a powerset.
\end{defn}
I will denote $\arity f=\dom\form f$.
\begin{defn}
$\rsuprel f$ is the relation between typed elements $\mathfrak{T}(\form f)_{i}$
(for $i\in\arity f$) defined by the formula $L\in\rsuprel f\Leftrightarrow\mathfrak{T}\circ L\in\GR f$.

Every set of anchored relations of the same form constitutes a poset
by the formula $f\sqsubseteq g\Leftrightarrow\GR f\subseteq\GR g$.
\end{defn}

\begin{defn}
\index{relation!anchored!between posets}An anchored relation is an
\emph{anchored relation between posets} when every $(\form f)_{i}$
is a poset.
\end{defn}

\begin{defn}
$(\val f)_{i}L=\setcond{X\in(\form f)_{i}}{L\cup\{(i,X)\}\in\GR f}.$\end{defn}
\begin{prop}
$f$ can be restored knowing $\form(f)$ and $(\val f)_{i}$ for some
$i\in\arity f$.\end{prop}
\begin{proof}
~
\begin{align*}
\GR f=\setcond{K\in\prod\form f}{K\in\GR f} & =\\
\setcond{L\cup\{(i,X)\}}{L\in\prod(\form f)|_{(\arity f)\setminus\{i\}},X\in(\form f)_{i},L\cup\{(i,X)\}\in\GR f} & =\\
\setcond{L\cup\{(i,X)\}}{L\in\prod(\form f)|_{(\arity f)\setminus\{i\}},X\in(\val f)_{i}L}.
\end{align*}
\end{proof}
\begin{defn}
\index{pre-staroid}A \emph{prestaroid} is an anchored relation $f$
between posets such that $(\val f)_{i}L$ is a free star for every
$i\in\arity f$, $L\in\prod(\form f)|_{(\arity f)\setminus\{i\}}$.
\end{defn}

\begin{defn}
\index{staroid}A \emph{staroid} is a prestaroid whose graph is an
upper set (on the poset $\prod\form(f)$).\end{defn}
\begin{defn}
A \emph{(pre)staroid on power sets} is such a (pre)staroid $f$ that every $(\form f)_{i}$
is a lattice of all subsets of some set.\end{defn}
\begin{prop}
If $L\in\prod\form f$ and $L_{i}=\bot^{(\form f)_{i}}$ for some
$i\in\arity f$ then $L\notin\GR f$ if $f$ is a prestaroid.\end{prop}
\begin{proof}
Let $K=L|_{(\arity f)\setminus\{i\}}$. We have $\bot\notin(\val f)_{i}K$;
$K\cup\{(i,\bot)\}\notin\GR f$; $L\notin\GR f$.
\end{proof}
Next we will define \emph{completary staroids}. First goes the general
case, next simpler case for the special case of join-semilattices
instead of arbitrary posets.
\begin{defn}
\index{staroid!completary}A \emph{completary staroid} is an anchored
relation between posets conforming to the formulas:
\begin{enumerate}
\item $\forall K\in\prod\form f:(K\sqsupseteq L_{0}\wedge K\sqsupseteq L_{1}\Rightarrow K\in\GR f)$
is equivalent to $\exists c\in\{0,1\}^{n}:(\mylambda in{L_{c(i)}i})\in\GR f$
for every $L_{0},L_{1}\in\prod\form f$.
\item If $L\in\prod\form f$ and $L_{i}=\bot^{(\form f)_{i}}$ for some
$i\in\arity f$ then $L\notin\GR f$.
\end{enumerate}
\end{defn}
\begin{lem}
Every graph of completary staroid is an upper set.\end{lem}
\begin{proof}
Let $f$ be a completary staroid. Let $L_{0}\sqsubseteq L_{1}$ for
some $L_{0},L_{1}\in\prod\form f$ and $L_{0}\in\GR f$. Then taking
$c=n\times\{0\}$ we get $\mylambda in{L_{c(i)}i}=\mylambda in{L_{0}i}=L_{0}\in\GR f$
and thus $L_{1}\in\GR f$ because $L_{1}\sqsupseteq L_{0}\wedge L_{1}\sqsupseteq L_{1}$.\end{proof}
\begin{prop}
\index{staroid!completary}An anchored relation~$f$ between posets whose form is
a family of join-semilattices is a completary staroid iff both:
\begin{enumerate}
\item \label{cary-main}$L_{0}\sqcup L_{1}\in\GR f\Leftrightarrow\exists c\in\{0,1\}^{n}:(\mylambda in{L_{c(i)}i})\in\GR f$
for every $L_{0},L_{1}\in\prod\form f$.
\item \label{cary-zero}If $L\in\prod\form f$ and $L_{i}=\bot^{(\form f)_{i}}$
for some $i\in\arity f$ then $L\notin\GR f$.
\end{enumerate}
\end{prop}
\begin{proof}
Let the formulas \ref{cary-main} and \ref{cary-zero} hold. Then
$f$ is an upper set: Let $L_{0}\sqsubseteq L_{1}$ for some $L_{0},L_{1}\in\prod\form f$
and $L_{0}\in f$. Then taking $c=n\times\{0\}$ we get $\mylambda in{L_{c(i)}i}=\mylambda in{L_{0}i}=L_{0}\in\GR f$
and thus $L_{1}=L_{0}\sqcup L_{1}\in\GR f$.

Thus to finish the proof it is enough to show that 
\[
L_{0}\sqcup L_{1}\in\GR f\Leftrightarrow\forall K\in\prod\form f:(K\sqsupseteq L_{0}\wedge K\sqsupseteq L_{1}\Rightarrow K\in\GR f)
\]
under condition that $\GR f$ is an upper set. But this equivalence is obvious in both directions.\end{proof}
\begin{prop}
Every completary staroid is a staroid.\end{prop}
\begin{proof}
Let $f$ be a completary staroid.

Let $i\in\arity f$, $K\in\prod_{i\in(\arity f)\setminus\{i\}}(\form f)_{i}$.
Let $L_{0}=K\cup\{(i,X_{0})\}$, $L_{1}=K\cup\{(i,X_{1})\}$ for some
$X_{0},X_{1}\in\mathfrak{A}_{i}$.

Let 
\[
\forall Z\in\mathfrak{A}_{i}:(Z\sqsupseteq X_{0}\wedge Z\sqsupseteq X_{1}\Rightarrow Z\in(\val f)_{i}K);
\]
then 
\[
\forall Z\in\mathfrak{A}_{i}:(Z\sqsupseteq X_{0}\wedge Z\sqsupseteq X_{1}\Rightarrow K\cup\{(i,Z)\}\in\GR f).
\]
If $z\sqsupseteq L_{0}\wedge z\sqsupseteq L_{1}$ then $z\sqsupseteq K\cup\{(i,z_{i})\}$,
thus taking into account that $\GR f$ is an upper set,
\begin{gather*}
\forall z\in\prod\mathfrak{A}:(z\sqsupseteq L_{0}\wedge z\sqsupseteq L_{1}\Rightarrow K\cup\{(i,z_{i})\}\in\GR f).\\
\forall z\in\prod\mathfrak{A}:(z\sqsupseteq L_{0}\wedge z\sqsupseteq L_{1}\Rightarrow z\in\GR f).
\end{gather*}
Thus, by the definition of completary staroid, $L_{0}\in\GR f\vee L_{1}\in\GR f$
that is 
\[
X_{0}\in(\val f)_{i}K\vee X_{1}\in(\val f)_{i}K.
\]
So $(\val f)_{i}K$ is a free star (taken into account that $z_{i}=\bot^{(\form f)_{i}}\Rightarrow z\notin\GR f$
and that $(\val f)_{i}K$ is an upper set).\end{proof}
\begin{xca}
Write a simplified proof for the case if every $(\form f)_{i}$ is
a join-semilattice.\end{xca}
\begin{lem}
Every finitary prestaroid is completary.\end{lem}
\begin{proof}
~
\begin{align*}
\exists c\in\{0,1\}^{n}:(\mylambda in{L_{c(i)}i})\in\GR f & \Leftrightarrow\\
\exists c\in\{0,1\}^{n-1}:\left(\begin{aligned}(\{(n-1,L_{0}(n-1))\}\cup(\mylambda i{n-1}{L_{c(i)}i}))\in\GR f & \lor\\
(\{(n-1,L_{1}(n-1))\}\cup(\mylambda i{n-1}{L_{c(i)}i}))\in\GR f
\end{aligned}
\right) & \Leftrightarrow\\
\exists c\in\{0,1\}^{n-1}:\left(\begin{aligned}L_{0}(n-1)\in(\val f)_{n-1}(\mylambda i{n-1}{L_{c(i)}i}) & \lor\\
L_{1}(n-1)\in(\val f)_{n-1}(\mylambda i{n-1}{L_{c(i)}i})
\end{aligned}
\right) & \Leftrightarrow\\
\exists c\in\{0,1\}^{n-1}\forall K\in(\form f)_{i}:\left(\begin{aligned}K\sqsupseteq L_{0}(n-1)\lor K\sqsupseteq L_{1}(n-1) & \Rightarrow\\
K\in(\val f)_{n-1}(\mylambda i{n-1}{L_{c(i)}i})
\end{aligned}
\right) & \Leftrightarrow\\
\exists c\in\{0,1\}^{n-1}\forall K\in(\form f)_{i}:\left(\begin{aligned}K\sqsupseteq L_{0}(n-1)\lor K\sqsupseteq L_{1}(n-1) & \Rightarrow\\
\{(n-1,K)\}\cup(\mylambda i{n-1}{L_{c(i)}i})\in\GR f
\end{aligned}
\right) & \Leftrightarrow\\
\dots\\
\forall K\in\prod\form f:(K\sqsupseteq L_{0}\wedge K\sqsupseteq L_{1}\Rightarrow K\in\GR f).
\end{align*}
\end{proof}
\begin{xca}
Prove the simpler special case of the above theorem when the form
is a family of join-semilattices.\end{xca}
\begin{thm}
For finite arity the following are the same:
\begin{enumerate}
\item prestaroids;
\item staroids;
\item completary staroids.
\end{enumerate}
\end{thm}
\begin{proof}
$f$ is a finitary prestaroid $\Rightarrow$ $f$ is a finitary completary
staroid.

$f$ is a finitary completary staroid $\Rightarrow$ $f$ is a finitary
staroid.

$f$ is a finitary staroid $\Rightarrow$ $f$ is a finitary prestaroid.\end{proof}
\begin{defn}
We will denote the set of staroids of a form $\mathfrak{A}$
as $\mathsf{Strd}(\mathfrak{A})$.
\end{defn}

\section{Upgrading and downgrading a set regarding a filtrator}

Let fix a filtrator $(\mathfrak{A},\mathfrak{Z})$.
\begin{defn}
\index{downgrading}$\downdownarrows f=f\cap\mathfrak{Z}$ for every
$f\in\mathscr{P}\mathfrak{A}$ (\emph{downgrading~}$f$).
\end{defn}

\begin{defn}
\index{upgrading}$\upuparrows f=\setcond{L\in\mathfrak{A}}{\up L\subseteq f}$
for every $f\in\mathscr{P}\mathfrak{Z}$ (\emph{upgrading~}$f$).\end{defn}
\begin{obvious}
$a\in\upuparrows f\Leftrightarrow\up a\subseteq f$ for every $f\in\mathscr{P}\mathfrak{Z}$
and $a\in\mathfrak{A}$.\end{obvious}
\begin{prop}
\label{up-and-back}$\downdownarrows\upuparrows f=f$ if $f$ is an
upper set for every $f\in\mathscr{P}\mathfrak{Z}$.\end{prop}
\begin{proof}
$\downdownarrows\upuparrows f=\upuparrows f\cap\mathfrak{Z}=\setcond{L\in\mathfrak{Z}}{\up L\subseteq f}=\setcond{L\in\mathfrak{Z}}{L\in f}=f\cap\mathfrak{Z}=f$.
\end{proof}

\subsection{\index{upgrading!anchored relation}\index{downgrading!anchored relation}Upgrading
and downgrading staroids}

Let fix a family $(\mathfrak{A},\mathfrak{Z})$ of filtrators.

For a graph $f$ of an anchored relation between posets define $\downdownarrows f$
and $\upuparrows f$ taking the filtrator of $\left(\prod\mathfrak{A},\prod\mathfrak{Z}\right)$.

For a anchored relation between posets $f$ define:
\begin{eqnarray*}
\form\downdownarrows f=\mathfrak{Z} & \text{and} & \GR\downdownarrows f=\downdownarrows\GR f;\\
\form\upuparrows f=\mathfrak{A} & \text{and} & \GR\upuparrows f=\upuparrows\GR f.
\end{eqnarray*}


Below we will show that under certain conditions upgraded staroid
is a staroid, see theorem~\ref{upg-is-strd}.
\begin{prop}
$(\val\downdownarrows f)_{i}L=(\val f)_{i}L\cap\mathfrak{Z}_{i}$
for every $L\in\prod\mathfrak{Z}|_{(\arity f)\setminus\{i\}}$.\end{prop}
\begin{proof}
$(\val\downdownarrows f)_{i}L=\setcond{X\in\mathfrak{Z}_{i}}{L\cup\{(i,X)\}\in\GR f\cap\prod\mathfrak{Z}}=\setcond{X\in\mathfrak{Z}_{i}}{L\cup\{(i,X)\}\in\GR f}=(\val f)_{i}L\cap\mathfrak{Z}_{i}.$\end{proof}
\begin{prop}
\label{down-staroid}Let $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ be
binarily join-closed filtrators with both the base and the core being
join-semilattices. If $f$ is a staroid of the form $\mathfrak{A}$,
then $\downdownarrows f$ is a staroid of the form $\mathfrak{Z}$.\end{prop}
\begin{proof}
Let $f$ be a staroid.

We need to prove that $(\val\downdownarrows f)_{i}L$ is a free star.
It follows from the last proposition and the fact that it is binarily
join-closed.\end{proof}
\begin{prop}
Let each $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ for $i\in n$ (where
$n$ is an index set) be a binarily join-closed filtrator, such that
each $\mathfrak{A}_{i}$ and each $\mathfrak{Z}_{i}$ are join-semilattices.
If $f$ is a completary staroid of the form $\mathfrak{A}$ then $\downdownarrows f$
\ is a completary staroid of the form $\mathfrak{Z}$.\end{prop}
\begin{proof}
~
\begin{multline*}
L_{0}\sqcup^{\mathfrak{Z}}L_{1}\in\GR\downdownarrows f\Leftrightarrow L_{0}\sqcup^{\mathfrak{Z}}L_{1}\in\GR f\Leftrightarrow L_{0}\sqcup^{\mathfrak{A}}L_{1}\in\GR f\Leftrightarrow\\
\exists c\in\{0,1\}^{n}:(\lambda i\in n:L_{c(i)}i)\in\GR f\Leftrightarrow\\
\exists c\in\{0,1\}^{n}:(\lambda i\in n:L_{c(i)}i)\in\GR\downdownarrows f
\end{multline*}
 for every $L_{0},L_{1}\in\prod\mathfrak{Z}$.
\end{proof}

\section{Principal staroids}
\begin{defn}
\index{staroid!generated}The \emph{staroid generated} by an anchored
relation $F$ is the staroid $f=\uparrow^{\mathsf{Strd}}F$ on powersets
such that $\uparrow\circ L\in\GR f\Leftrightarrow\prod L\nasymp F$
and $(\form f)_{i}=\mathscr{T}(\form F)_{i}$ for every $L\in\prod_{i\in\arity f}\mathscr{T}(\form F)_{i}$.\end{defn}
\begin{rem}
Below we will prove that staroid generated by an anchored relation
is a staroid and moreover a completary staroid.\end{rem}
\begin{defn}
\index{staroid!principal}A \emph{principal staroid} is a staroid
generated by some anchored relation.\end{defn}
\begin{prop}
Every principal staroid is a completary staroid.\end{prop}
\begin{proof}
That $L\notin\GR f$ if $L_{i}=\bot^{(\form f)_{i}}$ for some $i\in\arity f$
is obvious. It remains to prove 
\[
\prod(L_{0}\sqcup L_{1})\nasymp F\Leftrightarrow\exists c\in\{0,1\}^{\arity f}:\prod_{i\in n}L_{c(i)}i\nasymp F.
\]
Really
\begin{align*}
\prod(L_{0}\sqcup L_{1})\nasymp F & \Leftrightarrow\\
\exists x\in\prod(L_{0}\sqcup L_{1}):x\in F & \Leftrightarrow\\
\exists x\in\prod_{i\in\arity f}(\form f)_{i}\forall i\in\arity f:(x_{i}\in L_{0}i\sqcup L_{1}i\land x\in F) & \Leftrightarrow\\
\exists x\in\prod_{i\in\arity f}(\form f)_{i}\forall i\in\arity f:((x_{i}\in L_{0}i\lor x_{i}\in L_{1}i)\land x\in F) & \Leftrightarrow\\
\exists x\in\prod_{i\in\arity f}(\form f)_{i}\left(\exists c\in\{0,1\}^{\arity f}:x\in\prod_{i\in\arity f}L_{c(i)}i\land x\in F\right) & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity f}:\prod_{i\in n}L_{c(i)}i\nasymp F.
\end{align*}
\end{proof}
\begin{defn}
\index{upgraded staroid!generated}The \emph{upgraded staroid generated}
by an anchored relation $F$ is the anchored relation $\upuparrows\uparrow^{\mathsf{Strd}}F$.\end{defn}
\begin{prop}
$\uparrow^{\mathsf{Strd}}F=\downdownarrows\upuparrows\uparrow^{\mathsf{Strd}}F$.\end{prop}
\begin{proof}
Because $\GR\uparrow^{\mathsf{Strd}}F$ is an upper set.\end{proof}
\begin{example}
\label{non-completary}There is such anchored relation $f$ that $\upuparrows\uparrow f$
is not a completary staroid. This also proves existence of non-completary staroids (but not on powersets).\end{example}
\begin{proof}
(based on an \noun{Andreas Blass}'s proof) Take $f$ the set of functions
$x:\mathbb{N}\rightarrow\mathbb{N}$ where $x_{0}$ is an arbitrary natural
number and $x_{i}=\left\{ \begin{array}{ll}
0 & \text{if }n\leqslant x_{0}\\
1 & \text{if }n>x_{0}
\end{array}\right.$ for $i=1,2,3,\ldots$.
Thus $f$ is the graph of a staroid of the form $\mylambda{i}{\mathbb{N}}{\subsets\mathbb{N}}$ (on powersets).

Let $\mathcal{L}_{0}(0)=\mathcal{L}_{1}(0)=\Omega(\mathbb{N})$, $\mathcal{L}_{0}(i)=\uparrow\{0\}$
and $\mathcal{L}_{1}(i)=\uparrow\{1\}$ for $i>0$.

Let $X\in\up(\mathcal{L}_{0}\sqcup\mathcal{L}_{1})$ that is $X\in\up\mathcal{L}_{0}\cap\up\mathcal{L}_{1}$.

$X_{0}$ contains all but finitely many elements of $\mathbb{N}$.

For $i>0$ we have $\{0,1\}\subseteq X_i$.

Evidently, $\prod X$ contains an element of $f$,
that is $\up(\mathcal{L}_0\sqcup\mathcal{L}_1)\in f$ what means
$\mathcal{L}_0\sqcup\mathcal{L}_1\in\upuparrows\uparrow f$.

Now consider any fixed $c\in\{0,1\}^{\mathbb{N}}$. There is at most
one $k\in\mathbb{N}$ such that the sequence $x=\llbracket k,c(1),c(2),\ldots\rrbracket$
(i.e. $c$ with $c(0)$ replaced by $k$) is in $f$. Let $Q=\mathbb{N}\setminus\{k\}$
if there is such a $k$ and $Q=\mathbb{N}$ otherwise.

Take $Y_{i}=\left\{ \begin{array}{ll}
Q & \text{if }i=0\\
\{c(i)\} & \text{if }i>0
\end{array}\right.$ for $i=0,1,2,\ldots$. We have $Y\in\up(\lambda i\in\mathbb{N}:\mathcal{L}_{c(i)}(i))$ for every $c\in\{0,1\}^n$.

But evidently $\prod Y$ does not contain an element of $f$.
Thus, $\prod Y\asymp f$ that is
$Y\notin f$; $\up Y\nsubseteq f$; $Y\notin\GR\upuparrows\uparrow f$ what is impossible if $\upuparrows\uparrow f$ is completary.
\end{proof}
\begin{example}\label{no-intrs}
There exists such an (infinite) set $N$ and $N$-ary relation $f$
that $\mathcal{P}\in\GR\upuparrows\uparrow f$ but there is no indexed family
$a\in\prod_{i\in N}\atoms\mathcal{P}_{i}$ of atomic filters such
that $a\in\GR\upuparrows\uparrow f$ that is $\forall A\in\up a:f\nasymp\prod A$.\end{example}
\begin{proof}
Take $\mathcal{L}_{0}$, $\mathcal{L}_{1}$ and $f$ from the proof
of example \ref{non-completary}. Take $\mathcal{P}=\mathcal{L}_{0}\sqcup\mathcal{L}_{1}$.
If $a\in\prod_{i\in N}\atoms\mathcal{P}_{i}$ then there exists $c\in\{0,1\}^{N}$
such that $a_{i}\sqsubseteq\mathcal{L}_{c(i)}(i)$ (because $\mathcal{L}_{c(i)}(i)\neq\bot$).
Then from that example it follows that $(\lambda i\in N:\mathcal{L}_{c(i)}(i))\notin\GR\upuparrows\uparrow f$
and thus $a\notin\GR\upuparrows\uparrow f$.\end{proof}
\begin{conjecture}
Filtrators of staroids on powersets are join-closed.
\end{conjecture}

\section{Multifuncoids}
\begin{defn}
\index{mult}Let $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ (where $i\in n$
for an index set $n$) be an indexed family of filtrators.

I call a \emph{mult} $f$ of the form $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
the triple $f=(\base f,\core f,\rsupfun f)$ of $n$-indexed families
of posets $\base f$ and $\core f$ and $\rsupfun f$ of functions
where for every $i\in n$ 
\[
\rsupfun f_{i}:\prod(\core f)_{i}|_{(\dom\mathfrak{A})\setminus\{i\}}\rightarrow(\base f)_{i}.
\]
I call $(\base f,\core f)$ the \emph{form} of the mult~$f$.\end{defn}
\begin{rem}
I call it \emph{mult} because it comprises multiple functions~$\rsupfun f_{i}$.
\end{rem}

\begin{defn}
\index{mult!on powersets}A mult \emph{on powersets} is a mult such
that every $((\base f)_{i},(\core f)_{i})$ is a powerset filtrator.
\end{defn}

\begin{defn}
\index{multifuncoid}I will call a \emph{relational mult} a mult~$f$
such that every $(\base f)_{i}$ is a set and for every $i,j\in n$
and $L\in\prod\core f$ 
\[
L_{i}\in\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\in\rsupfun f_{j}L|_{(\dom L)\setminus\{j\}}.
\]
I denote $\arity f=n$.
\end{defn}

\begin{defn}
\emph{Prestaroidal mult} is a relational mult of the form $(\mathfrak{A},\mylambda i{\dom\mathfrak{A}}{\mathfrak{S}(\mathfrak{A}_{i})})$
(where $\mathfrak{A}$ is a poset), that is such that $\rsupfun f_{i}L$
is a free star for every $i\in n$ and $L\in\prod_{i\in(\dom L)\setminus\{i\}}\core f_i$.
\end{defn}

\begin{defn}
\index{multifuncoid}I will call a \emph{multifuncoid} a mult~$f$ such
that $(\core f)_{i}\subseteq(\base f)_{i}$ (thus having a filtrator
$((\base f)_{i},(\core f)_{i})$) for each $i\in n$ and for every
$i,j\in n$ and $L\in\prod\core f$ 
\begin{equation}
L_{i}\nasymp\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\nasymp\rsupfun f_{j}L|_{(\dom L)\setminus\{j\}}.\label{alpha-cond}
\end{equation}
I denote the set of multifuncoids for a family~$(\mathfrak{A},\mathfrak{Z})$ of filtrators as
$\mathsf{pFCD}(\mathfrak{A},\mathfrak{Z})$ or just $\mathsf{pFCD}(\mathfrak{A})$ when $\mathfrak{Z}$ is clear from context.
\end{defn}

\begin{defn}
To every multifuncoid~$f$ corresponds an anchored relation~$g$ by the
formula (with arbitrary $i\in\arity f$) 
\[
L\in\GR g\Leftrightarrow L_{i}\nasymp\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}.
\]
\end{defn}
\begin{prop}
Prestaroidal mults~$\Lambda g=f$ of the form $(\mathfrak{Z},\mylambda i{\dom\mathfrak{Z}}{\mathfrak{S}(\mathfrak{Z}_{i})})$
bijectively correspond to pre-staroids~$g$ of the form~$\mathfrak{Z}$
by the formulas (for every $K\in\prod\mathfrak{Z}$, $i\in\dom\mathfrak{Z}$,
$L\in\prod_{j\in(\dom\mathfrak{A})\setminus\{i\}}\mathfrak{Z}_{j}$,
$X\in\mathfrak{Z}_{i}$)
\begin{gather}
K\in\GR g\Leftrightarrow K_{i}\in\rsupfun f_{i}K|_{(\dom L)\setminus\{i\}};\label{mf-to-star}\\
X\in\rsupfun f_{i}L\Leftrightarrow L\cup\{(i,X)\}\in\GR g.\label{star-to-mf}
\end{gather}
\end{prop}
\begin{proof}
If $f$ is a prestaroidal mult, then obviously formula~(\ref{mf-to-star})
defines an anchored relation between posets. $(\val g)_{i}=\rsupfun f_{i}L$
is a free star. Thus $g$ is a prestaroid.

If $g$ is a prestaroid, then obviously formula~(\ref{star-to-mf})
defines a relational mult. This mult is obviously prestaroidal.

It remains to prove that these correspondences are inverse of each
other.

Let $f_{0}$ be a prestaroidal mult, $g$ be the pre-staroid corresponding
to~$f$ by formula~(\ref{mf-to-star}), and $f_{1}$ be the prestaroidal
mult corresponding to~$g$ by formula~(\ref{star-to-mf}). Let's
prove $f_{0}=f_{1}$. Really, 
\[
X\in\rsupfun{f_{1}}_{i}L\Leftrightarrow L\cup\{(i,X)\}\in\GR g\Leftrightarrow X\in\rsupfun{f_{0}}_{i}L.
\]


Let now $g_{0}$ be a prestaroid, $f$ be a prestaroidal mult corresponding
to~$g_{0}$ by formula~(\ref{star-to-mf}), and $g_{1}$ be a prestaroid
corresponding to~$f$ by formula~(\ref{mf-to-star}). Let's prove
$g_{0}=g_{1}$. Really, 
\[
K\in\GR g_{1}\Leftrightarrow K_{i}\in\rsupfun f_{i}K|_{(\dom L)\setminus\{i\}}\Leftrightarrow K|_{(\dom L)\setminus\{i\}}\cup\{(i,K_{i})\}\in\GR g_{0}\Leftrightarrow K\in\GR g_{0}.
\]
\end{proof}
\begin{defn}
I will denote $\rsuprel{f}=\GR g$ for the prestaroidal mult~$f$ corresponding to anchored relation~$g$.
\end{defn}

\begin{prop}
For a form $(\mathfrak{Z},\mylambda i{\dom\mathfrak{Z}}{\mathfrak{S}(\mathfrak{Z}_{i})})$
where each $\mathfrak{Z}_{i}$ is a boolean lattice, relational mults
are the same as multifuncoids (if we equate poset elements with principal
free stars).\end{prop}
\begin{proof}
~
\begin{multline*}
(L_{i}\nasymp\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\nasymp\rsupfun f_{j}L|_{(\dom L)\setminus\{j\}})\Leftrightarrow\\
(L_{i}\in\corestar\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\in\corestar\rsupfun f_{j}L|_{(\dom L)\setminus\{j\}})\Leftrightarrow\\
(L_{i}\in\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\in\rsupfun f_{j}L|_{(\dom L)\setminus\{j\}}).
\end{multline*}
\end{proof}
\begin{thm}
Fix some indexed family $\mathfrak{Z}$ of join semi-lattices.
\[
(\val f)_{j}(L\cup\{(i,X\sqcup Y)\})=(\val f)_{j}(L\cup\{(i,X)\})\sqcup(\val f)_{j}(L\cup\{(i,Y)\})
\]
for every prestaroid $f$ of the form~$\mathfrak{Z}$ and $i,j\in\arity f$,
$i\neq j$, $L\in\prod_{k\in L\setminus\{i,j\}}\mathfrak{Z}_{k}$,
$X,Y\in\mathfrak{Z}_{i}$.\end{thm}
\begin{proof}
Let $i,j\in\arity f$, $i\ne j$ and $L\in\prod_{k\in L\setminus\{i,j\}}\mathfrak{Z}_{k}$.
Let $Z\in\mathfrak{Z}_{i}$.
\begin{align*}
Z\in(\val f)_{j}(L\cup\{(i,X\sqcup Y)\}) & \Leftrightarrow\\
L\cup\{(i,X\sqcup Y),(j,Z)\}\in\GR f & \Leftrightarrow\\
X\sqcup Y\in(\val f)_{i}(L\cup\{(j,Z)\}) & \Leftrightarrow\\
X\in(\val f)_{i}(L\cup\{(j,Z)\})\lor Y\in(\val f)_{i}(L\cup\{(j,Z)\}) & \Leftrightarrow\\
L\cup\{(i,X),(j,Z)\}\in\GR f\lor L\cup\{(i,Y),(j,Z)\}\in\GR f & \Leftrightarrow\\
Z\in(\val f)_{j}(L\cup\{(i,X)\})\lor Z\in(\val f)_{j}(L\cup\{(i,Y)\}) & \Leftrightarrow\\
Z\in(\val f)_{j}(L\cup\{(i,X)\})\cup(\val f)_{j}(L\cup\{(i,Y)\}) & \Leftrightarrow\\
Z\in(\val f)_{j}(L\cup\{(i,X)\})\sqcup(\val f)_{j}(L\cup\{(i,Y)\})
\end{align*}
Thus $(\val f)_{j}(L\cup\{(i,X\sqcup Y)\})=(\val f)_{j}(L\cup\{(i,X)\})\sqcup(\val f)_{j}(L\cup\{(i,Y)\})$.
\end{proof}
Let us consider the filtrator $\left(\prod_{i\in\arity f}\mathfrak{S}((\form f)_{i}),\prod_{i\in\arity f}(\form f)_{i}\right)$.
\begin{conjecture}
A finitary anchored relation between join-semilattices is a staroid
iff $(\val f)_{j}(L\cup\{(i,X\sqcup Y)\})=(\val f)_{j}(L\cup\{(i,X)\})\sqcup(\val f)_{j}(L\cup\{(i,Y)\})$
for every $i,j\in\arity f$ ($i\ne j$) and $X,Y\in(\form f)_{i}$.\end{conjecture}
\begin{thm}
\label{upg-is-strd}Let $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ be
a family of join-closed down-aligned filtrators whose both base and
core are join-semilattices. Let $f$ be a staroid of the form $\mathfrak{Z}$.
Then $\upuparrows f$ is a staroid of the form $\mathfrak{A}$.
\end{thm}
\begin{proof}
First prove that $\upuparrows f$ is a prestaroid. We need to prove
that $\bot\notin(\GR\upuparrows f)_{i}$ (that is $\up\bot\nsubseteq(\GR f)_{i}$
that is $\bot\notin(\GR f)_{i}$ what is true by the theorem conditions)
and that for every $\mathcal{X},\mathcal{Y}\in\mathfrak{A}_{i}$ and
$\mathcal{L}\in\prod_{i\in(\arity f)\setminus\{i\}}\mathfrak{A}_{i}$
where $i\in\arity f$
\[
\mathcal{L}\cup\{(i,\mathcal{X}\sqcup\mathcal{Y})\}\in\GR\upuparrows f\Leftrightarrow\mathcal{L}\cup\{(i,\mathcal{X})\}\in\GR\upuparrows f\vee\mathcal{L}\cup\{(i,\mathcal{Y})\}\in\GR\upuparrows f.
\]
The reverse implication is obvious. Let $\mathcal{L}\cup\{(i,\mathcal{X}\sqcup\mathcal{Y})\}\in\GR\upuparrows f$.
Then for every $L\in\up\mathcal{L}$ and $X\in\up\mathcal{X}$, $Y\in\up\mathcal{Y}$
we have
% and $X\sqcup^{\mathfrak{Z}_{i}}Y\sqsupseteq\mathcal{X}\sqcup^{\mathfrak{A}_{i}}\mathcal{Y}$ thus
$L\cup\{(i,X\sqcup^{\mathfrak{Z}_{i}}Y)\}\in\GR f$ and thus
\[
L\cup\{(i,X)\}\in\GR f\vee L\cup\{(i,Y)\}\in\GR f
\]
consequently $\mathcal{L}\cup\{(i,\mathcal{X})\}\in\GR\upuparrows f\vee\mathcal{L}\cup\{(i,\mathcal{Y})\}\in\GR\upuparrows f$.

It is left to prove that $\upuparrows f$ is an upper set, but this
is obvious.
\end{proof}
There is a conjecture similar to the above theorems:
\begin{conjecture}
\label{strd-rel-atoms}$L\in\upuparrows\mathord{\rsuprel f}\Rightarrow\upuparrows\mathord{\rsuprel f}\cap\prod_{i\in\dom\mathfrak{A}}\atoms L_{i}\neq\emptyset$
for every multifuncoid $f$ for the filtrator $(\mathscr{F}^{n},\mathfrak{Z}^{n})$.
\end{conjecture}

\begin{conjecture}
Let $(\mathfrak{A},\mathfrak{Z})$ be a powerset filtrator, let $n$
be an index set. Consider the filtrator $(\mathscr{F}^{n},\mathfrak{Z}^{n})$.
Then if $f$ is a completary staroid of the form $\mathfrak{Z}^{n}$,
then $\upuparrows f$ is a completary staroid of the form $\mathfrak{A}^{n}$.
\end{conjecture}

\begin{example}
There is such an anchored relation $f$ that for some $k\in\dom f$
\[
\rsupfun{\upuparrows\uparrow f}{}_{k}\mathcal{L}\neq\bigsqcup_{a\in\prod_{i\in(\dom f)\setminus\{k\}}\atoms\mathcal{L_{}}_{i}}^{\mathscr{f}}\rsupfun{\upuparrows\uparrow f}_{k}a.
\]
\end{example}
\begin{proof}
Take $\mathcal{P}\in\GR f$ from the counter-example~\ref{no-intrs}. We
have 
\[
\forall a\in\prod_{i\in\dom f}\atoms\mathcal{P}_{i}:a\notin\GR\mathcal{P}.
\]
Take $k=1$.

Let $\mathcal{L}=\mathcal{P}|_{(\dom f)\setminus\{k\}}$. Then $a\notin\GR\upuparrows\uparrow f$
and thus $a_{k}\asymp\rsupfun{\upuparrows\uparrow f}{}_{k}a|_{(\dom f)\setminus\{k\}}$.

Consequently $\mathcal{P}_{k}\asymp\rsupfun{\upuparrows\uparrow f}{}_{k}a|_{(\dom f)\setminus\{k\}}$
and thus $\mathcal{P}_{k}\asymp\bigsqcup_{a\in\prod_{i\in(\dom f)\setminus\{k\}}\atoms\mathcal{L_{}}_{i}}^{\mathscr{f}}\rsupfun{\upuparrows\uparrow f}{}_{k}a$
because $\mathcal{P}_{k}$ is principal.

But $\mathcal{P}_{k}\nasymp\rsupfun{\upuparrows\uparrow f}{}_{k}\mathcal{L}$.
Thus follows $\langle\upuparrows\uparrow f\rangle_{k}^{\ast}\mathcal{L}\neq\bigsqcup_{a\in\prod_{i\in(\dom f)\setminus\{k\}}\atoms\mathcal{L}_{i}}^{\mathscr{f}}\rsupfun{\upuparrows\uparrow f}{}_{k}a$.\end{proof}
\section{Join of multifuncoids}

\index{order!of mults}Mults are ordered by the formula $f\sqsubseteq g\Leftrightarrow\rsupfun f\sqsubseteq\rsupfun g$
where $\sqsubseteq$ in the right part of this formula is the product
order. I will denote $\sqcap$, $\sqcup$, $\bigsqcap$, $\bigsqcup$
(without an index) the order poset operations on the poset of mults.
\begin{rem}
To describe this, the definition of product order is used twice. Let
$f$ and $g$ be mults of the same form $(\mathfrak{A},\mathfrak{Z})$
\begin{gather*}
\rsupfun f\sqsubseteq\rsupfun g\Leftrightarrow\forall i\in\dom\mathfrak{Z}:\rsupfun f_{i}\sqsubseteq\rsupfun g_{i};\\
\rsupfun f_{i}\sqsubseteq\rsupfun g_{i}\Leftrightarrow\forall L\in\prod\mathfrak{Z}|_{(\dom\mathfrak{Z})\setminus\{i\}}:\rsupfun f_{i}L\sqsubseteq\rsupfun g_{i}L.
\end{gather*}
\end{rem}
\begin{obvious}
$\left(\bigsqcup F\right)K=\bigsqcup_{f\in F}fK$ for every set $F$
of mults of the same form $\mathfrak{Z}$ and $K\in\prod\mathfrak{Z}$
whenever every $\bigsqcup_{f\in F}fK$ is defined.\end{obvious}
\begin{thm}
$f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g=f\sqcup g$ for every multifuncoids
$f$ and $g$ for the same indexed family of starrish join-semilattices
filtrators.\end{thm}
\begin{proof}
$\alpha_{i}x\eqdef \rsupfun{f_{i}}x\sqcup \rsupfun{g_{i}}x$. It is enough to prove that
$\alpha$ is a multifuncoid.

We need to prove: 
\[
L_{i}\nasymp\alpha_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\nasymp\alpha_{j}L|_{(\dom L)\setminus\{j\}}.
\]
Really,
\begin{align*}
L_{i}\nasymp\alpha_{i}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
L_{i}\nasymp \rsupfun{f_{i}}L|_{(\dom L)\setminus\{i\}}\sqcup \rsupfun{g_{i}}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
L_{i}\nasymp \rsupfun{f_{i}}L|_{(\dom L)\setminus\{i\}}\lor L_{i}\nasymp \rsupfun{g_{i}}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
L_{j}\nasymp \rsupfun{f_{j}}L|_{(\dom L)\setminus\{j\}}\lor L_{j}\nasymp \rsupfun{g_{j}}L|_{(\dom L)\setminus\{j\}} & \Leftrightarrow\\
L_{j}\nasymp \rsupfun{f_{j}}L|_{(\dom L)\setminus\{j\}}\sqcup \rsupfun{g_{j}}L|_{(\dom L)\setminus\{j\}} & \Leftrightarrow\\
L_{j}\nasymp\alpha_{j}L|_{(\dom L)\setminus\{j\}}.
\end{align*}
\end{proof}
\begin{thm}
$\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F=\bigsqcup F$ for every
set $F$ of multifuncoids for the same indexed family of join infinite
distributive complete lattices filtrators.\end{thm}
\begin{proof}
$\alpha_{i}x\eqdef\bigsqcup_{f\in F}\rsupfun{f}_{i}x$. It is enough to prove
that $\alpha$ is a multifuncoid.

We need to prove: 
\[
L_{i}\nasymp\alpha_{i}L|_{(\dom L)\setminus\{i\}}\Leftrightarrow L_{j}\nasymp\alpha_{j}L|_{(\dom L)\setminus\{j\}}.
\]
Really,
\begin{align*}
L_{i}\nasymp\alpha_{i}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
L_{i}\nasymp\bigsqcup_{f\in F}\rsupfun{f_{i}}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
\exists f\in F:L_{i}\nasymp \rsupfun{f_{i}}L|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
\exists f\in F:L_{j}\nasymp \rsupfun{f_{j}}L|_{(\dom L)\setminus\{j\}} & \Leftrightarrow\\
L_{j}\nasymp\bigsqcup_{f\in F}\rsupfun{f_{j}}L|_{(\dom L)\setminus\{j\}} & \Leftrightarrow\\
L_{j}\nasymp\alpha_{j}L|_{(\dom L)\setminus\{j\}}.
\end{align*}
\end{proof}
% \begin{prop}
% The mapping $f\mapsto\Lambda f$ is an order embedding, for multifuncoids
% for indexed families $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ of down-aligned
% starrish filtrators with separable binarily meet-closed core.\end{prop}
% \begin{proof}
% The mapping $f\mapsto\Lambda f$ is defined because $\mathfrak{A}_{i}$
% are starrish posets (and $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ is
% with binarily meet-closed core and down-aligned). The mapping is injective
% because the filtrators are with separable cores ($\setcond{X\in\mathfrak{Z}_{i}}{X\nasymp\supfun fA}=\setcond{X\in\mathfrak{Z}_{i}}{X\nasymp\supfun fB}$
% implies $\supfun{\Lambda f}A=\supfun{\Lambda f}B$). That $f\mapsto\Lambda f$
% is a monotone function is obvious.\end{proof}
% \begin{rem}
% This order embedding is useful to describe properties of posets of
% prestaroids.\end{rem}
\begin{thm}
If $f$, $g$ are multifuncoids for a primary filtrator $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
where $\mathfrak{Z}_{i}$ are separable starrish posets, then $f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g\in\mathsf{pFCD}(\mathfrak{A})$.\end{thm}
\begin{proof}
Let $A\in\mathord{\rsuprel{f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g}}$
and $B\sqsupseteq A$. Then for every $k\in\dom\mathfrak{A}$

$A_{k}\nasymp\rsupfun{f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g}A|_{(\dom\mathfrak{A})\setminus\{k\}}$;
$A_{k}\nasymp\rsupfun{f\sqcup g}A|_{(\dom\mathfrak{A})\setminus\{k\}}$; $A_{k}\nasymp \rsupfun{f}(A|_{(\dom\mathfrak{A})\setminus\{k\}})\sqcup\rsupfun{g}(A|_{(\dom\mathfrak{A})\setminus\{k\}})$.

Thus $A_{k}\nasymp\rsupfun{f}(A|_{(\dom\mathfrak{A})\setminus\{k\}})\lor A_{k}\nasymp\rsupfun{g}(A|_{(\dom\mathfrak{A})\setminus\{k\}})$;
$A\in\mathord{\rsuprel f}\lor A\in\mathord{\rsuprel g}$; $B\in\mathord{\rsuprel f}\lor B\in\mathord{\rsuprel g}$;
$B_{k}\nasymp\rsupfun{f}(B|_{(\dom\mathfrak{A})\setminus\{k\}})\lor B_{k}\nasymp\rsupfun{g}(B|_{(\dom\mathfrak{A})\setminus\{k\}})$;

$B_{k}\nasymp\rsupfun{f}(B|_{(\dom\mathfrak{A})\setminus\{k\}})\sqcup\rsupfun{g}(B|_{(\dom\mathfrak{A})\setminus\{k\}})$;
$B_{k}\nasymp\rsupfun{f\sqcup g}B|_{(\dom\mathfrak{A})\setminus\{k\}}=\rsupfun{f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g}B|_{(\dom\mathfrak{A})\setminus\{k\}}$.

Thus $B\in\mathord{\rsuprel{f\sqcup^{\mathsf{pFCD}(\mathfrak{A})}g}}$.\end{proof}
\begin{thm}
If $F$ is a set of multifuncoids for the same indexed family of join
infinite distributive complete lattices filtrators, then $\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F\in\mathsf{pFCD}(\mathfrak{A})$.\end{thm}
\begin{proof}
Let $A\in\mathord{\rsuprel{\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F}}$
and $B\sqsupseteq A$. Then for every $k\in\dom\mathfrak{A}$

$A_{k}\nasymp\rsupfun{\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F}A|_{(\dom\mathfrak{A})\setminus\{k\}}=\rsupfun{\bigsqcup F}A|_{(\dom\mathfrak{A})\setminus\{k\}}=\bigsqcup_{f\in F}\rsupfun{f}(A|_{(\dom\mathfrak{A})\setminus\{k\}})$.

Thus $\exists f\in F:A_{k}\nasymp\rsupfun{f}(A|_{(\dom\mathfrak{A})\setminus\{k\}})$;
$\exists f\in F:A\in\rsuprel{f}$; $B\in\rsuprel{f}$ for some
$f\in F$; $\exists f\in F:B_{k}\nasymp\rsupfun{f}(B|_{(\dom\mathfrak{A})\setminus\{k\}})$;
$B_{k}\nasymp\bigsqcup_{f\in F}\rsupfun{f}(B|_{(\dom\mathfrak{A})\setminus\{k\}})=\rsupfun{\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F}B|_{(\dom\mathfrak{A})\setminus\{k\}}$.
Thus $B\in\mathord{\rsuprel{\bigsqcup^{\mathsf{pFCD}(\mathfrak{A})}F}}$.
\end{proof}

\section{Infinite product of poset elements}

\index{product!staroidal}Let $A_{i}$ be a family of elements of
a family $\mathfrak{A}_{i}$ of posets. The \emph{staroidal product}
$\prod^{\mathsf{Strd}(\mathfrak{A})}A$ is defined by the formula
(for every $L\in\prod\mathfrak{A}$)
\[
\form\prod^{\mathsf{Strd}(\mathfrak{A})}A=\mathfrak{A}\hspace{1em}\text{and}\hspace{1em}L\in\GR\prod^{\mathsf{Strd}(\mathfrak{A})}A\Leftrightarrow\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}.
\]

\begin{prop}
If $\mathfrak{A}_{i}$ are powerset algebras, staroidal product of
principal filters is essentially equivalent to Cartesian product.
More precisely, $\prod_{i\in\dom A}^{\mathsf{Strd}}\uparrow^{\mathscr{F}}A_{i}=\upuparrows\uparrow^{\mathsf{Strd}}\prod A$
for an indexed family $A$ of sets.\end{prop}
\begin{proof}
~
\begin{align*}
L\in\GR\upuparrows\uparrow^{\mathsf{Strd}}\prod A & \Leftrightarrow\\
\up L\subseteq\GR\uparrow^{\mathsf{Strd}}\prod A & \Leftrightarrow\\
\forall X\in\up L:\prod X\nasymp\prod A & \Leftrightarrow\\
\forall X\in\up L,i\in\dom A:X_{i}\nasymp A_{i} & \Leftrightarrow\\
\forall i\in\dom A:L_{i}\nasymp\uparrow^{\mathscr{F}}A_{i} & \Leftrightarrow\\
L\in\GR\prod_{i\in\dom A}^{\mathsf{Strd}}\uparrow^{\mathscr{F}}A_{i}.
\end{align*}
\end{proof}
\begin{cor}
Staroidal product of principal filters is an upgraded principal staroid.\end{cor}
\begin{prop}
\label{up-down-fcd}$\prod^{\mathsf{Strd}}a=\upuparrows\downdownarrows\prod^{\mathsf{Strd}}a$
if each $a_{i}\in\mathfrak{A}_{i}$ (for $i\in n$ where $n$ is some
index set) where each $(\mathfrak{A}_{i\in n},\mathfrak{Z}_{i\in n})$
is a filtrator with separable core.\end{prop}
\begin{proof}
~
\begin{align*}
\GR\upuparrows\downdownarrows\prod^{\mathsf{Strd}}a & =\\
\setcond{L\in\prod\mathfrak{A}}{\up L\subseteq\mathfrak{Z}\cap\GR\prod^{\mathsf{Strd}}a} & =\\
\setcond{L\in\prod\mathfrak{A}}{\up L\subseteq\GR\prod^{\mathsf{Strd}}a} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall K\in\up L:K\in\GR\prod^{\mathsf{Strd}}a} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall K\in\up L,i\in n:K_{i}\nasymp a_{i}} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall i\in n,K\in\up L:K_{i}\nasymp a_{i}} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall i\in n:L_{i}\nasymp a_{i}} & =\\
\GR\prod^{\mathsf{Strd}}a
\end{align*}
(taken into account that our filtrators are with a separable core).\end{proof}
\begin{thm}
Staroidal product is a completary staroid (if our posets are starrish
join-semilattices).\end{thm}
\begin{proof}
We need to prove 
\[
\forall i\in\dom\mathfrak{A}:A_{i}\nasymp(L_{0}i\sqcup L_{1}i)\Leftrightarrow\exists c\in\{0,1\}^{n}\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{c(i)}i.
\]
Really, 
\begin{multline*}
\forall i\in\dom\mathfrak{A}:A_{i}\nasymp(L_{0}i\sqcup L_{1}i)\Leftrightarrow\forall i\in\dom\mathfrak{A}:(A_{i}\nasymp L_{0}i\vee A_{i}\nasymp L_{1}i)\Leftrightarrow\\
\exists c\in\{0,1\}^{\dom\mathfrak{A}}\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{c(i)}i.
\end{multline*}
\end{proof}
\begin{defn}
\index{product!funcoidal}Let $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
be an indexed family of filtrators and every $\mathfrak{A}_{i}$
has least element.

Then for every $A\in\prod\mathfrak{A}$ \emph{funcoidal product} is
multifuncoid $\prod^{\mathsf{FCD}(\mathfrak{A})}A$ defined by the
formula (for every $L\in\prod\mathfrak{Z}$):

\[
\rsupfun{\prod^{\mathsf{FCD}(\mathfrak{A})}A}_{k}L=\left\{ \begin{array}{ll}
A_{k} & \text{if }\forall i\in(\dom\mathfrak{A})\setminus\{k\}:A_{i}\nasymp L_{i}\\
\bot^{\mathfrak{A}} & \text{otherwise}.
\end{array}\right.
\]
\end{defn}
\begin{prop}
$\GR\prod^{\mathsf{Strd}(\mathfrak{A})}A=\mathord{\rsuprel{\prod^{\mathsf{FCD}(\mathfrak{A})}A}}$.\end{prop}
\begin{proof}
~
\begin{align*}
L\in\GR\prod^{\mathsf{Strd}(\mathfrak{A})}A & \Leftrightarrow\\
\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i} & \Leftrightarrow\\
\forall i\in(\dom\mathfrak{A})\setminus\{k\}:A_{i}\nasymp L_{i}\land L_{k}\nasymp A_{k} & \Leftrightarrow\\
L_{k}\nasymp\rsupfun{\prod^{\mathsf{FCD}(\mathfrak{A})}A}_{k}L|_{(\dom\mathfrak{A})\setminus\{k\}} & \Leftrightarrow\\
L\in\mathord{\rsuprel{\prod^{\mathsf{FCD}(\mathfrak{A})}A}}.
\end{align*}
\end{proof}
\begin{cor}
Funcoidal product is a completary multifuncoid.\end{cor}
\begin{proof}
It is enough to prove that funcoidal product is a multifuncoid. Really,
\begin{multline*}
L_{i}\nasymp\rsupfun{\prod^{\mathsf{FCD}(\mathfrak{A})}A}_{i}L|_{(\dom\mathfrak{A})\setminus\{i\}}\Leftrightarrow\\ \forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}\Leftrightarrow L_{j}\nasymp\rsupfun{\prod^{\mathsf{FCD}(\mathfrak{A})}A}_{j}L|_{(\dom\mathfrak{A})\setminus\{j\}}.
\end{multline*}
\end{proof}
\begin{thm}
If our each filtrator $(\mathfrak{A}_i,\mathfrak{Z}_i)$
is with separable core and $A\in\prod\mathfrak{Z}$, then $\upuparrows\prod^{\mathsf{Strd}(\mathfrak{Z})}A=\prod^{\mathsf{Strd}(\mathfrak{A})}A$.\end{thm}
\begin{proof}
~
\begin{align*}
\GR\upuparrows\prod^{\mathsf{Strd}(\mathfrak{Z})}A & =\\
\setcond{L\in\prod\mathfrak{A}}{\up L\subseteq\prod^{\mathsf{Strd}(\mathfrak{Z})}A} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall K\in\up L,i\in\dom\mathfrak{A}:A_{i}\nasymp K_{i}} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall i\in\dom\mathfrak{A},K\in\up L_{i}:A_{i}\nasymp K} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}} & =\\
\GR\prod^{\mathsf{Strd}(\mathfrak{A})}A.
\end{align*}
\end{proof}
\begin{prop}
Let $\left(\prod\mathfrak{A},\prod\mathfrak{Z}\right)$ be a meet-closed
filtrator, $A\in\prod\mathfrak{Z}$. Then $\downdownarrows\prod^{\mathsf{Strd}(\mathfrak{A})}A=\prod^{\mathsf{Strd}(\mathfrak{Z})}A$.\end{prop}
\begin{proof}
~
\begin{align*}
\GR\downdownarrows\prod^{\mathsf{Strd}(\mathfrak{A})}A & =\\
\downdownarrows\GR\prod^{\mathsf{Strd}(\mathfrak{A})}A & =\\
\downdownarrows\setcond{L\in\prod\mathfrak{A}}{\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}} & =\\
\setcond{L\in\prod\mathfrak{A}}{\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}}\cap\prod\mathfrak{Z} & =\\
\setcond{L\in\prod\mathfrak{Z}}{\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}} & =\\
\GR\prod^{\mathsf{Strd}(\mathfrak{Z})}A.
\end{align*}
\end{proof}
\begin{cor}
If each $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ is a powerset filtrator
and $A\in\prod\mathfrak{Z}$, then $\downdownarrows\prod^{\mathsf{Strd}(\mathfrak{A})}A$
is a principal staroid.\end{cor}
\begin{proof}
Use the ``obvious'' fact above.\end{proof}
\begin{thm}
\label{meet-fprods}Let $\mathscr{F}$ be a family of sets of filters
on meet-semilattices with least elements. Let $a\in\prod\mathscr{F}$,
$S\in\subsets\prod\mathscr{F}$, and every $\Pr_{i}S$ be a generalized
filter base, $\bigsqcap S=a$. Then 
\[
\prod^{\mathsf{Strd}(\mathscr{F})}a=\bigsqcap_{A\in S}\prod^\mathsf{Strd(\mathscr{F})}A.
\]
\end{thm}
\begin{proof}
That $\prod^{\mathsf{Strd}(\mathscr{F})}a$ is a lower bound for $\setcond{\prod^{\mathsf{Strd}(\mathscr{F})}A}{A\in S}$
is obvious.

Let $f$ be a lower bound for $\setcond{\prod^{\mathsf{Strd}(\mathscr{F})}A}{A\in S}$.
Thus $\forall A\in S:\GR f\subseteq\GR\prod^{\mathsf{Strd}(\mathscr{F})}A$.
Thus for every $A\in S$ we have $L\in\GR f$ implies $\forall i\in\dom\mathfrak{A}:A_{i}\nasymp L_{i}$.
Then, by properties of generalized filter bases, $\forall i\in\dom\mathfrak{A}:a_{i}\nasymp L_{i}$
that is $L\in\GR\prod^{\mathsf{Strd}(\mathscr{F})}a$.
So $f\sqsubseteq\prod^{\mathsf{Strd}(\mathscr{F})}a$ and thus $\prod^{\mathsf{Strd}(\mathscr{F})}a$ is the greatest lower bound of $\setcond{\prod^{\mathsf{Strd}(\mathscr{F})}A}{A\in S}$.\end{proof}
\begin{conjecture}
Let $\mathscr{F}$ be a family of sets of filters on meet-semilattices
with least elements. Let $a\in\prod\mathscr{F}$, $S\in\subsets\prod\mathscr{F}$
be a generalized filter base, $\bigsqcap S=a$, $f$ is a staroid
of the form $\prod\mathscr{F}$. Then 
\[
\prod^{\mathsf{Strd}(\mathscr{F})}a\nasymp f\Leftrightarrow\forall A\in S:\prod^{\mathsf{Strd}(\mathfrak{Z})}A\nasymp f.
\]

\end{conjecture}

\section{On products of staroids}
\begin{defn}
\index{product!reindexation}$\prod^{(D)}F=\setcond{\uncurry z}{z\in\prod F}$
(\emph{reindexation product}) for every indexed family $F$ of relations.
\end{defn}

\begin{defn}
\index{product!reindexation}\emph{Reindexation product} of an indexed
family $F$ of anchored relations is defined by the formulas: 
\[
\form\prod^{(D)}F=\uncurry(\form\circ F)\hspace{1em}\text{and}\hspace{1em}\GR\prod^{(D)}F=\prod^{(D)}(\GR\circ F).
\]
\end{defn}
\begin{obvious}
~
\begin{enumerate}
\item $\form\prod^{(D)}F=\setcond{((i,j),(\form F_{i})_{j})}{i\in\dom F,j\in\arity F_{i}}$;
\item $\GR\prod^{(D)}F=\setcond{\setcond{((i,j),(zi)j)}{i\in\dom F,j\in\arity F_{i}}}{z\in\prod(\GR\circ F)}$.
\end{enumerate}
\end{obvious}
\begin{prop}
$\prod^{(D)}F$ is an anchored relation if every $F_{i}$ is an anchored
relation.\end{prop}
\begin{proof}
We need to prove $\GR\prod^{(D)}F\in\subsets\prod\form\left(\prod^{(D)}F\right)$
that is

$\GR\prod^{(D)}F\subseteq\prod\form\left(\prod^{(D)}F\right)$; $\setcond{\setcond{((i,j),(zi)j)}{i\in\dom F,j\in\arity F_{i}}}{z\in\prod(\GR\circ F)}\subseteq\prod\setcond{((i,j),(\form F_{i})_{j})}{i\in\dom F,j\in\arity F_{i}}$;

$\forall z\in\prod(\GR\circ F),i\in\dom F,j\in\arity F_{i}:(zi)j\in(\form F_{i})_{j}$.

Really, $zi\in\GR F_{i}\subseteq\prod(\form F_{i})$ and thus $(zi)j\in(\form F_{i})_{j}$.\end{proof}
\begin{obvious}
$\arity\prod^{(D)}F=\coprod_{i\in\dom F}\arity F_{i}=\setcond{(i,j)}{i\in\dom F,j\in\arity F_{i}}$.\end{obvious}
\begin{defn}
$f\times^{(D)}g=\prod^{(D)}\llbracket f,g\rrbracket$.\end{defn}
\begin{lem}
$\prod^{(D)}F$ is an upper set if every $F_{i}$ is an upper set.\end{lem}
\begin{proof}
We need to prove that $\prod^{(D)}F$ is an upper set. Let $a\in\prod^{(D)}F$
and an anchored relation $b\sqsupseteq a$ of the same form as $a$.
We have $a=\uncurry z$ for some $z\in\prod F$ that is $a(i,j)=(zi)j$
for all $i\in\dom F$ and $j\in\dom F_{i}$ where $zi\in F_{i}$.
Also $b(i,j)\sqsupseteq a(i,j)$. Thus $(\curry b)i\sqsupseteq zi$;
$\curry b\in\prod F$ because every $F_{i}$ is an upper set and so
$b\in\prod^{(D)}F$.\end{proof}
\begin{prop}
Let $F$ be an indexed family of anchored relations and every $(\form F)_{i}$
be a join-semilattice.
\begin{enumerate}
\item \label{prodd-prestrd}$\prod^{(D)}F$ is a prestaroid if every $F_{i}$
is a prestaroid.
\item \label{prodd-strd}$\prod^{(D)}F$ is a staroid if every $F_{i}$
is a staroid.
\item \label{prodd-cmpl}$\prod^{(D)}F$ is a completary staroid if every
$F_{i}$ is a completary staroid.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{widedisorder}
\item [{\ref{prodd-prestrd}}] Let $q\in\arity\prod^{(D)}F$ that is $q=(i,j)$
where $i\in\dom F$, $j\in\arity F_{i}$; let 
\[
L\in\prod\left(\left(\form\prod^{(D)}F\right)|_{\left(\arity\prod^{(D)}F\right)\setminus\{q\}}\right)
\]
that is $L_{(i',j')}\in\left(\form\prod^{(D)}F\right)_{(i',j')}$
for every $(i',j')\in\left(\arity\prod^{(D)}F\right)\setminus\{q\}$,
that is $L_{(i',j')}\in(\form F_{i'})_{j'}$. We have $X\in\left(\form\prod^{(D)}F\right)_{(i,j)}\Leftrightarrow X\in(\form F_{i})_{j}$.
So
\begin{gather*}
\left(\val\prod^{(D)}F\right)_{(i,j)}L=\setcond{X\in(\form F_{i})_{j}}{L\cup\{((i,j),X)\}\in\GR\prod^{(D)}F}=\\
\setcond{X\in(\form F_{i})_{j}}{\exists z\in\prod(\GR\circ F):L\cup\{((i,j),X)\}=\uncurry z}=\\
\setcond{X\in(\form F_{i})_{j}}{\scriptstyle\exists z\in\prod\left((\GR\circ F)|_{\left(\arity\prod^{(D)}F\right)\setminus\{(i,j)\}}\right),v\in\GR F_{i}:(L=\uncurry z\land v_{j}=X)}=\\
\setcond{X\in(\form F_{i})_{j}}{\scriptstyle\exists z\in\prod\left((\GR\circ F)|_{\left(\arity\prod^{(D)}F\right)\setminus\{(i,j)\}}\right):L=\uncurry z\land\exists v\in\GR F_{i}:v_{j}=X}.
\end{gather*}



If $\exists z\in\prod\left((\GR\circ F)|_{\left(\arity\prod^{(D)}F\right)\setminus\{(i,j)\}}\right):L=\uncurry z$
is false then $\left(\val\prod^{(D)}F\right)_{(i,j)}L=\emptyset$
is a free star. We can assume it is true. So
\begin{gather*}
\left(\val\prod^{(D)}F\right)_{(i,j)}L=\setcond{X\in(\form F_{i})_{j}}{\exists v\in\GR F_{i}:v_{j}=X}=\\
\setcond{X\in(\form F_{i})_{j}}{\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:K\cup\{(j,X)\}\in\GR F_{i}}=\\
\setcond{X\in(\form F_{i})_{j}}{\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:X\in(\val F_{i})_{j}K}.
\end{gather*}



Thus
\begin{align*}
A\sqcup B\in\left(\val\prod^{(D)}F\right)_{(i,j)}L & \Leftrightarrow\\
\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:A\sqcup B\in(\val F_{i})_{j}K & \Leftrightarrow\\
\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:(A\in(\val F_{i})_{j}K\lor B\in(\val F_{i})_{j}K) & \Leftrightarrow\\
\begin{aligned}\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:A\in(\val F_{i})_{j}K & \lor\\
\exists K\in(\form F_{i})|_{(\arity F_{i})\setminus\{j\}}:B\in(\val F_{i})_{j}K
\end{aligned}
 & \Leftrightarrow\\
A\in\left(\val\prod^{(D)}F\right)_{(i,j)}L\lor B\in\left(\val\prod^{(D)}F\right)_{(i,j)}L.
\end{align*}
Least element $\bot$ is not in $\left(\val\prod^{(D)}F\right)_{(i,j)}L$
because $K\cup\{(j,\bot)\}\notin\GR F_{i}$.

\item [{\ref{prodd-strd}}] From the lemma.
\item [{\ref{prodd-cmpl}}] We need to prove
\begin{multline*}
L_{0}\sqcup L_{1}\in\GR\prod^{(D)}F\Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:\left(\lambda i\in\arity\prod^{(D)}F:L_{c(i_{})}i\right)\in\GR\prod^{(D)}F
\end{multline*}
for every $L_{0},L_{1}\in\prod\form\prod^{(D)}F$ that is $L_{0},L_{1}\in\prod\uncurry(\form\circ F)$.


Really $L_{0}\sqcup L_{1}\in\GR\prod^{(D)}F\Leftrightarrow L_{0}\sqcup L_{1}\in\setcond{\uncurry z}{z\in\prod(\GR\circ F)}$.
\begin{align*}
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:\left(\lambda i\in\arity\prod^{(D)}F:L_{c(i_{})}i\right)\in\GR\prod^{(D)}F & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:\left(\lambda i\in\arity\prod^{(D)}F:L_{c(i_{})}i\right)\in\setcond{\uncurry z}{z\in\prod(\GR\circ F)} & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:\curry\left(\lambda i\in\arity\prod^{(D)}F:L_{c(i_{})}i\right)\in\prod(\GR\circ F) & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:\curry\left(\mylambda{(i,j)}{\arity\prod^{(D)}F}{L_{c(i,j)}(i,j)}\right)\in\prod(\GR\circ F) & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}:(\mylambda i{\dom F}{(\mylambda j{\dom F_{i}}{L_{c(i,j)}(i,j)})})\in\prod(\GR\circ F) & \Leftrightarrow\\
\exists c\in\{0,1\}^{\arity\prod^{(D)}F}\forall i\in\dom F:(\mylambda j{\dom F_{i}}{L_{c(i,j)}(i,j)})\in\GR F_{i} & \Leftrightarrow\\
\forall i\in\dom F\exists c\in\{0,1\}^{\dom F_{i}}:(\mylambda j{\dom F_{i}}{L_{c(j)}(i,j)})\in\GR F_{i} & \Leftrightarrow\\
\forall i\in\dom F\exists c\in\{0,1\}^{\dom F_{i}}:(\mylambda j{\dom F_{i}}{(\curry(L_{c(j)})i)j})\in\GR F_{i} & \Leftrightarrow\\
\forall i\in\dom F:\curry(L_{0})i\sqcup\curry(L_{1})i\in\GR F_{i} & \Leftrightarrow\\
\forall i\in\dom F:(\curry(L_{0})\sqcup\curry(L_{1}))i\in\GR F_{i} & \Leftrightarrow\\
\forall i\in\dom F:\curry(L_{0}\sqcup L_{1})i\in\GR F_{i} & \Leftrightarrow\\
L_{0}\sqcup L_{1}\in\setcond{\uncurry z}{z\in\prod(\GR\circ F)} & \Leftrightarrow\\
L_{0}\sqcup L_{1}\in\GR\prod^{(D)}F.
\end{align*}


\end{widedisorder}
\end{proof}
For staroids it is defined \emph{ordinated product} $\prod^{(\ord)}$
as defined in the section \ref{ordinated-prod} above.
\begin{obvious}
If $f$ and $g$ are anchored relations and there exists a bijection
$\varphi$ from $\arity g$ to $\arity f$ such that $\setcond{F\circ\varphi}{F\in\GR f}=\GR g$,
then: 
\begin{enumerate}
\item $f$ is a prestaroid iff $g$ is a prestaroid.
\item $f$ is a staroid iff $g$ is a staroid.
\item $f$ is a completary staroid iff $g$ is a completary staroid.
\end{enumerate}
\end{obvious}
\begin{cor}
Let $F$ be an indexed family of anchored relations and every $(\form F)_{i}$
be a join-semilattice.
\begin{enumerate}
\item $\prod^{(\ord)}F$ is a prestaroid if every $F_{i}$ is a prestaroid.
\item $\prod^{(\ord)}F$ is a staroid if every $F_{i}$ is a staroid.
\item $\prod^{(\ord)}F$ is a completary staroid if every $F_{i}$ is a
completary staroid.
\end{enumerate}
\end{cor}
\begin{proof}
Use the fact that $\GR\prod^{(\ord)}F=\setcond{F\circ\left(\bigoplus(\dom\circ F)\right)^{-1}}{F\in\GR\prod^{(D)}f}$.\end{proof}
\begin{defn}
$f\times^{(\ord)}g=\prod^{(\ord)}\llbracket f,g\rrbracket$.\end{defn}
\begin{rem}
If $f$ and $g$ are binary funcoids, then $f\times^{(\ord)}g$ is
ternary.
\end{rem}

\section{Star categories}
\begin{defn}
\index{precategory!with star-morphisms}\index{precategory!with star-morphisms}A
\emph{precategory with star-morphisms} consists of
\begin{enumerate}
\item a precategory $C$ (\emph{the base precategory});
\item \index{star-morphism}a set $M$ (\emph{star-morphisms});
\item a function ``$\arity$'' defined on $M$ (how many objects are connected
by this star-morphism);
\item a function $\Obj_{m}:\arity m\rightarrow\Obj(C)$ defined for every
$m\in M$;
\item \index{star composition}a function (\emph{star composition}) $(m,f)\mapsto\StarComp(m,f)$
defined for $m\in M$ and $f$ being an $(\arity m)$-indexed family
of morphisms of $C$ such that $\forall i\in\arity m:\Src f_{i}=\Obj_{m}i$
($\Src f_{i}$ is the source object of the morphism~$f_{i}$) such
that
\end{enumerate}
such that it holds:
\begin{enumerate}
\item $\StarComp(m,f)\in M$;
\item $\arity\StarComp(m,f)=\arity m$;
\item $\Obj_{\StarComp(m,f)}i=\Dst f_i$;
\item (\emph{associativity law}) 
\[
\StarComp(\StarComp(m,f),g)=\StarComp(m,\mylambda i{\arity m}{g_{i}\circ f_{i}}).
\]

\end{enumerate}
\end{defn}
The meaning of the set $M$ is an extension of $C$ having as morphisms
things with arbitrary (possibly infinite) indexed set $\Obj_{m}$
of objects, not just two objects as morphisms of $C$ have only source
and destination.
\begin{defn}
\index{form!of star-morphism}I will call $\Obj_{m}$ the \emph{form}
of the star-morphism $m$.
\end{defn}
(Having fixed a precategory with star-morphisms) I will denote $\StarHom(P)$
the set of star-morphisms of the form $P$.
\begin{prop}
The sets $\StarHom(P)$ are disjoint (for different $P$).\end{prop}
\begin{proof}
If two star-morphisms have different forms, they are clearly not equal.\end{proof}
\begin{defn}
\index{category!with star-morphisms}A \emph{category with star-morphisms}
is a precategory with star-morphisms whose base is a category and
the following equality (\emph{the law of composition with identity})
holds for every star-morphism $m$:
\[
\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i})=m.}
\]

\end{defn}

\begin{defn}
\index{precategory!partially ordered!with star-morphisms}A \emph{partially
ordered precategory with star-morphisms} is a category with star-morphisms,
whose base precategory is a partially ordered precategory and every
set $\StarHom(X)$ is partially ordered for every $X$, such that:
\[
m_{0}\sqsubseteq m_{1}\wedge f_{0}\sqsubseteq f_{1}\Rightarrow\StarComp(m_{0},f_{0})\sqsubseteq\StarComp(m_{1},f_{1})
\]
for every $m_{0},m_{1}\in M$ such that $\Obj_{m_{0}}=\Obj_{m_{1}}$
and indexed families $f_{0}$ and $f_{1}$ of morphisms such that
\begin{gather*}
\forall i\in\arity m:\Src f_{0}i=\Src f_{1}i=\Obj_{m_{0}}i=\Obj_{m_{1}}i;\\
\forall i\in\arity m:\Dst f_{0}i=\Dst f_{1}i.
\end{gather*}

\end{defn}

\begin{defn}
A \emph{partially ordered category with star-morphisms} is a category
with star-morphisms which is also a partially ordered precategory
with star-morphisms.
\end{defn}

\begin{defn}
\index{precategory!with star-morphisms!quasi-invertible}A \emph{quasi-invertible}
precategory with star-morphisms is a partially ordered precategory
with star-morphisms whose base precategory is a quasi-invertible precategory,
such that for every index set $n$, star-morphisms $a$ and $b$ of
arity $n$, and an $n$-indexed family $f$ of morphisms of the base
precategory it holds 
\[
b\nasymp\StarComp(a,f)\Leftrightarrow a\nasymp\StarComp(b,f^{\dagger}).
\]
(Here $f^{\dagger}=\lambda i\in\dom f:(f_{i})^{\dagger}$.)
\end{defn}

\begin{defn}
\index{category!with star-morphisms!quasi-invertible}A \emph{quasi-invertible}
category with star-morphisms is a quasi-invertible precategory with
star-morphisms which is a category with star-morphisms.
\end{defn}
\index{category!abrupt}Each category with star-morphisms gives rise
to a category (\emph{abrupt category}, see a remark below why I call
it ``abrupt''), as described below. Below for simplicity I assume
that the set $M$ and the set of our indexed families of functions
are disjoint. The general case (when they are not necessarily disjoint)
may be easily elaborated by the reader.
\begin{itemize}
\item Objects are indexed (by $\arity m$ for some $m\in M$) families of
objects of the category $C$ and an (arbitrarily chosen) object $\None$
not in this set.
\item There are the following disjoint sets of morphisms:

\begin{enumerate}
\item indexed (by $\arity m$ for some $m\in M$) families of morphisms
of $C$;
\item elements of $M$;
\item the identity morphism $1_{\None}$ on $\None$.
\end{enumerate}
\item Source and destination of morphisms are defined by the formulas:

\begin{itemize}
\item $\Src f=\mylambda i{\dom f}{\Src f_{i}}$;
\item $\Dst f=\mylambda i{\dom f}{\Dst f_{i}}$;
\item $\Src m=\None$;
\item $\Dst m=\Obj_{m}$.
\end{itemize}
\item Compositions of morphisms are defined by the formulas:

\begin{itemize}
\item $g\circ f=\mylambda i{\dom f}{g_{i}\circ f_{i}}$ for our indexed
families $f$ and $g$ of morphisms;
\item $f\circ m=\StarComp(m,f)$ for $m\in M$ and a composable indexed
family $f$;
\item $m\circ1_{\None}=m$ for $m\in M$;
\item $1_{\None}\circ1_{\None}=1_{\None}$.
\end{itemize}
\item Identity morphisms for an object $X$ are:

\begin{itemize}
\item $\mylambda iX{1_{X_{i}}}$ if $X\ne\None$;
\item $1_{\None}$ if $X=\None$.
\end{itemize}
\end{itemize}
\begin{proof}
We need to prove it is really a category.

We need to prove:
\begin{enumerate}
\item \label{abr-assoc}Composition is associative.
\item \label{abr-id}Composition with identities complies with the identity
law.
\end{enumerate}
Really:
\begin{widedisorder}
\item [{\ref{abr-assoc}}] $(h\circ g)\circ f=\mylambda i{\dom f}{(h_{i}\circ g_{i})\circ f_{i}}=\mylambda i{\dom f}{h_{i}\circ(g_{i}\circ f_{i})}=h\circ(g\circ f)$;
\begin{multline*}
g\circ(f\circ m)=\StarComp(\StarComp(m,f),g)=\\
\StarComp(m,\mylambda i{\arity m}{g_{i}\circ f_{i}})=\StarComp(m,g\circ f)=(g\circ f)\circ m;
\end{multline*}
$f\circ(m\circ1_{\None})=f\circ m=(f\circ m)\circ1_{\None}$.
\item [{\ref{abr-id}}] $m\circ1_{\None}=m$; $1_{\Dst m}\circ m=\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i}})=m$.
\end{widedisorder}
\end{proof}
\begin{rem}
I call the above defined category \emph{abrupt category} because (excluding
identity morphisms) it allows composition with an $m\in M$ only on
the left (not on the right) so that the morphism $m$ is ``abrupt''
on the right.
\end{rem}
By $\llbracket x_{0},\ldots,x_{n-1}\rrbracket$ I denote an $n$-tuple.
\begin{defn}
\index{precategory!with star-morphism!induced by dagger precategory}Precategory
with star morphisms \emph{induced} by a dagger precategory $C$ is: 
\begin{itemize}
\item The base category is $C$.
\item Star-morphisms are morphisms of $C$.
\item $\arity f=\{0,1\}$.
\item $\Obj_{m}=\llbracket\Src m,\Dst m\rrbracket$.
\item $\StarComp(m,\llbracket f,g\rrbracket)=g\circ m\circ f^{\dagger}$.
\end{itemize}
\end{defn}
Let prove it is really a precategory with star-morphisms.
\begin{proof}
We need to prove the associativity law: 
\[
\StarComp(\StarComp(m,\llbracket f,g\rrbracket),\llbracket p,q\rrbracket)=\StarComp(m,\llbracket p\circ f,q\circ g\rrbracket).
\]
Really,
\begin{multline*}
\StarComp(\StarComp(m,\llbracket f,g\rrbracket),\llbracket p,q\rrbracket)=\StarComp(g\circ m\circ f^{\dagger},\llbracket p,q\rrbracket)=\\
q\circ g\circ m\circ f^{\dagger}\circ p^{\dagger}=q\circ g\circ m\circ(p\circ f)^{\dagger}=\StarComp(m,\llbracket p\circ f,q\circ g\rrbracket).
\end{multline*}
\end{proof}
\begin{defn}
\index{category!with star-morphisms!induced by dagger category}Category
with star morphisms \emph{induced} by a dagger category~$C$ is the
above defined precategory with star-morphisms.
\end{defn}
That it is a category (the law of composition with identity) is trivial.
\begin{rem}
We can carry definitions (such as below defined cross-composition
product) from categories with star-morphisms into plain dagger categories.
This allows us to research properties of cross-composition product
of indexed families of morphisms for categories with star-morphisms
without separately considering the special case of dagger categories
and just binary star-composition product.
\end{rem}

\subsection{Abrupt of quasi-invertible categories with star-morphisms}
\begin{defn}
The abrupt partially ordered precategory of a partially ordered precategory
with star-morphisms is the abrupt precategory with the following order
of morphisms: 
\begin{itemize}
\item Indexed (by $\arity m$ for some $m\in M$) families of morphisms
of $C$ are ordered as function spaces of posets.
\item Star-morphisms (which are morphisms $\None\rightarrow\Obj_{m}$ for
some $m\in M$) are ordered in the same order as in the precategory
with star-morphisms.
\item Morphisms $\None\rightarrow\None$ which are only the identity morphism
ordered by the unique order on this one-element set. 
\end{itemize}
\end{defn}
We need to prove it is a partially ordered precategory.
\begin{proof}
It trivially follows from the definition of partially ordered precategory
with star-morphisms.
\end{proof}

\section{Product of an arbitrary number of funcoids}

In this section it will be defined a product of an arbitrary (possibly
infinite) indexed family of funcoids.


\subsection{Mapping a morphism into a pointfree funcoid}
\begin{defn}
Let's define the pointfree funcoid $\chi f$ for every morphism $f$
of a quasi-invertible category: 
\[
\supfun{\chi f}a=f\circ a\quad\text{and}\quad\supfun{(\chi f)^{-1}}b=f^{\dagger}\circ b.
\]

\end{defn}
We need to prove it is really a pointfree funcoid.
\begin{proof}
$b\nasymp\supfun{\chi f}a\Leftrightarrow b\nasymp f\circ a\Leftrightarrow a\nasymp f^{\dagger}\circ b\Leftrightarrow a\nasymp\supfun{(\chi f)^{-1}}b$.\end{proof}
\begin{rem}
$\supfun{\chi f}=(f\circ-)$ is the $\Hom$-functor
$\Hom(f,-)$ and we can apply Yoneda lemma to it. (See any category
theory book for definitions of these terms.)\end{rem}
\begin{obvious}
$\supfun{\chi(g\circ f)}a=g\circ f\circ a$ for composable morphisms
$f$ and $g$ or a quasi-invertible category.
\end{obvious}

\subsection{General cross-composition product}
\begin{defn}
\index{product!cross-composition}Let fix a quasi-invertible category
with with star-morphisms. If $f$ is an indexed family of morphisms
from its base category, then the pointfree funcoid $\prod^{(C)}f$
(\emph{cross-composition product} of $f$) from $\StarHom(\mylambda i{\dom f}{\Src f_{i}})$
to $\StarHom(\mylambda i{\dom f}{\Dst f_{i}})$ is defined by the
formulas (for all star-morphisms $a$ and $b$ of these forms): 
\[
\supfun{\prod^{(C)}f}a=\StarComp(a,f)\quad\text{and}\quad\supfun{\left(\prod^{(C)}f\right)^{-1}}b=\StarComp(b,f^{\dagger}).
\]

\end{defn}
It is really a pointfree funcoid by the definition of quasi-invertible
category with star-morphisms.
\begin{thm}
$\left(\prod^{(C)}g\right)\circ\left(\prod^{(C)}f\right)=\prod_{i\in n}^{(C)}(g_{i}\circ f_{i})$
for every $n$-indexed families $f$ and $g$ of composable morphisms
of a quasi-invertible category with star-morphisms.\end{thm}
\begin{proof}
$\supfun{\prod_{i\in n}^{(C)}(g_{i}\circ f_{i})}a=\StarComp(a,\mylambda in{g_{i}\circ f_{i}})=\StarComp(\StarComp(a,f),g)$
and 
\[
\supfun{\left(\prod^{(C)}g\right)\circ\left(\prod^{(C)}f\right)}a=\supfun{\prod^{(C)}g}\supfun{\prod^{(C)}f}a=\StarComp(\StarComp(a,f),g).
\]


The rest follows from symmetry.\end{proof}
\begin{cor}
\label{prod-n-inf-comps}$\left(\prod^{(C)}f_{k-1}\right)\circ\ldots\circ\left(\prod^{(C)}f_{0}\right)=\prod_{i\in n}^{(C)}(f_{k-1}\circ\ldots\circ f_{0})$
for every $n$-indexed families $f_{0},\ldots,f_{n-1}$ of composable
morphisms of a quasi-invertible category with star-morphisms.\end{cor}
\begin{proof}
By math induction.
\end{proof}

\subsection{Star composition of binary relations}

First define \emph{star composition} for an $n$-ary relation $a$
and an $n$-indexed family $f$ of binary relations as an $n$-ary
relation complying with the formulas:
\begin{gather*}
\Obj_{\StarComp(a,f)}=\{\ast\}^{n};\\
L\in\StarComp(a,f)\Leftrightarrow\exists y\in a\forall i\in n:y_{i}\mathrel{f_{i}}L_{i}
\end{gather*}
where $\ast$ is a unique object of the group of small binary relations
considered as a category.
\begin{prop}
$b\nasymp\StarComp(a,f)\Leftrightarrow\exists x\in a,y\in b\forall j\in n:x_{j}\mathrel{f_{j}}y_{j}$.\end{prop}
\begin{proof}
~
\begin{multline*}
b\nasymp\StarComp(a,f)\Leftrightarrow\exists y:(y\in b\land y\in\StarComp(a,f))\Leftrightarrow\\
\exists y:(y\in b\land\exists x\in a\forall j\in n:x_{j}\mathrel{f_{j}}y_{j})\Leftrightarrow\exists x\in a,y\in b\forall j\in n:x_{j}\mathrel{f_{j}}y_{j}.
\end{multline*}
\end{proof}
\begin{thm}
The group of small binary relations considered as a category together
with the set of of all small $n$-ary relations (for every small $n$) and
the above defined star-composition form a quasi-invertible category
with star-morphisms.\end{thm}
\begin{proof}
We need to prove:
\begin{enumerate}
\item \label{brel-comp}$\StarComp(\StarComp(m,f),g)=\StarComp(m,\mylambda in{g_{i}\circ f_{i}});$
\item \label{brel-id}$\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i}})=m$;
\item \label{brel-cross}$b\nasymp\StarComp(a,f)\Leftrightarrow a\nasymp\StarComp(b,f^{\dagger})$
(the rest is obvious).
\end{enumerate}
Really,
\begin{widedisorder}
\item [{\ref{brel-comp}}] $L\in\StarComp(a,f)\Leftrightarrow\exists y\in a\forall i\in n:y_{i}\mathrel{f_{i}}L_{i}$.


Define the relation $R(f)$ by the formula $x\mathrel{R(f)}y\Leftrightarrow\forall i\in n:x_{i}\mathrel{f_{i}}y_{i}$.
Obviously 
\[
R(\mylambda in{g_{i}\circ f_{i}})=R(g)\circ R(f).
\]
$L\in\StarComp(a,f)\Leftrightarrow\exists y\in a:y\mathrel{R(f)}L$.
\begin{multline*}
L\in\StarComp(\StarComp(a,f),g)\Leftrightarrow\exists p\in\StarComp(a,f):p\mathrel{R(g)}L\Leftrightarrow\\
\exists p,y\in a:(y\mathrel{R(f)}p\wedge p\mathrel{R(g)}L)\Leftrightarrow\exists y\in a:y\mathrel{(R(g)\circ R(f))}L\Leftrightarrow\\
\exists y\in a:y\mathrel{R(\mylambda in{g_{i}\circ f_{i}})}L\Leftrightarrow L\in\StarComp(a,\mylambda in{g_{i}\circ f_{i}})
\end{multline*}
 because $p\in\StarComp(a,f)\Leftrightarrow\exists y\in a:y\mathrel{R(f)}p$.

\item [{\ref{brel-id}}] Obvious.
\item [{\ref{brel-cross}}] It follows from the proposition above.
\end{widedisorder}
\end{proof}
\begin{obvious}
$\StarComp(a\cup b,f)=\StarComp(a,f)\cup\StarComp(b,f)$ for $n$-ary
relations $a$, $b$ and an $n$-indexed family $f$ of binary relations.\end{obvious}
\begin{thm}
$\supfun{\prod^{(C)}f}\prod a=\prod_{i\in n}\rsupfun{f_{i}}a_{i}$
for every family $f=f_{i\in n}$ of binary relations and $a=a_{i\in n}$
where $a_{i}$ is a small set (for each $i\in n$).\end{thm}
\begin{proof}
~
\begin{align*}
L\in\supfun{\prod^{(C)}f}\prod a & \Leftrightarrow\\
L\in\StarComp\left(\prod a,f\right) & \Leftrightarrow\\
\exists y\in\prod a\forall i\in n:y_{i}\mathrel{f_{i}}L_{i} & \Leftrightarrow\\
\exists y\in\prod a\forall i\in n:\{y_{i}\}\nasymp\rsupfun{f_{i}^{-1}}\{L_{i}\} & \Leftrightarrow\\
\forall i\in n\exists y\in a_{i}:\{y\}\nasymp\rsupfun{f_{i}^{-1}}\{L_{i}\} & \Leftrightarrow\\
\forall i\in n:a_{i}\nasymp\rsupfun{f_{i}^{-1}}\{L_{i}\} & \Leftrightarrow\\
\forall i\in n:\{L_{i}\}\nasymp\rsupfun{f_{i}}a_{i} & \Leftrightarrow\\
\forall i\in n:L_{i}\in\rsupfun{f_{i}}a_{i} & \Leftrightarrow\\
L\in\prod_{i\in n}\rsupfun{f_{i}}a_{i}.
\end{align*}

\end{proof}

\subsection{Star composition of $\mathbf{Rel}$-morphisms}

Define \emph{star composition} for an $n$-ary anchored relation $a$
and an $n$-indexed family $f$ of $\mathbf{Rel}$-morphisms as an
$n$-ary anchored relation complying with the formulas: 
\begin{gather*}
\Obj_{\StarComp(a,f)}=\mylambda i{\arity a}{\Dst f_{i}};\\
\arity\StarComp(a,f)=\arity a;\\
L\in\GR\StarComp(a,f)\Leftrightarrow L\in\StarComp(\GR a,\GR\circ f).
\end{gather*}
(Here I denote $\GR(A,B,f)=f$ for every $\mathbf{Rel}$-morphism $f$.)
\begin{prop}
~
\[b\nasymp\StarComp(a,f)\Leftrightarrow\exists x\in a,y\in b\forall j\in n:x_{j}\mathrel{\GR(f_{j})}y_{j}.\]\end{prop}
\begin{proof}
From the previous section.\end{proof}
\begin{thm}
Relations with above defined compositions form a quasi-invertible
category with star-morphisms.\end{thm}
\begin{proof}
We need to prove:
\begin{enumerate}
\item $\StarComp(\StarComp(m,f),g)=\StarComp(m,\mylambda i{\arity m}{g_{i}\circ f_{i}})$;
\item $\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i}})=m$;
\item $b\nasymp\StarComp(a,f)\Leftrightarrow a\nasymp\StarComp(b,f^{\dagger})$
\end{enumerate}
(the rest is obvious).

It follows from the previous section.\end{proof}
\begin{prop}
$\StarComp(a\sqcup b,f)=\StarComp(a,f)\sqcup\StarComp(b,f)$ for an
$n$-ary anchored relations $a$, $b$ and an $n$-indexed family
$f$ of $\mathbf{Rel}$-morphisms.\end{prop}
\begin{proof}
It follows from the previous section.\end{proof}
\begin{thm}
Cross-composition product of a family of $\mathbf{Rel}$-morphisms
is a principal funcoid.\end{thm}
\begin{proof}
By the proposition and symmetry $\prod^{(C)}f$ is a pointfree funcoid.
Obviously it is a funcoid $\prod_{i\in n}\Src f_{i}\rightarrow\prod_{i\in n}\Dst f_{i}$.
Its completeness (and dually co-completeness) is obvious.
\end{proof}

\subsection{Cross-composition product of funcoids}

Let $a$ be a an anchored relation of the form $\mathfrak{A}$ and
$\dom\mathfrak{A}=n$.

Let every $f_{i}$ (for all $i\in n$) be a pointfree funcoid with
$\Src f_{i}=\mathfrak{A}_{i}$.

The star-composition of $a$ with $f$ is an anchored relation of
the form $\lambda i\in\dom\mathfrak{A}:\Dst f_{i}$ defined by the
formula 
\[
L\in\GR\StarComp(a,f)\Leftrightarrow(\lambda i\in n:\langle f_{i}^{-1}\rangle L_{i})\in\GR a.
\]

\begin{thm}
Let $\Src f_{i}$ be separable starrish join-semilattice and $\Dst f_{i}$
be a starrish join-semilattice for every $i\in n$ for a set $n$.
Let $\form a=\prod_{i\in n}(\Src f_{i})$.
\begin{enumerate}
\item \label{fcomp-pre}If $a$ is a prestaroid then $\StarComp(a,f)$ is
a prestaroid.
\item \label{fcomp-str}If $a$ is a staroid and $\Src f_i$ are strongly separable then $\StarComp(a,f)$ is a
staroid.
\item \label{fcomp-compl}If $a$ is a completary staroid and then $\StarComp(a,f)$
is a completary staroid.
\end{enumerate}
\end{thm}
\begin{proof}
We have $\supfun{f_{i}^{-1}}(X\sqcup Y)=\supfun{f_{i}^{-1}}X\sqcup\supfun{f_{i}^{-1}}Y$
by theorem~\ref{pf-dist-func}.
\begin{widedisorder}
\item [{\ref{fcomp-pre}}] Let $L\in\prod_{i\in(\arity f)\setminus\{k\}}(\form f_{i})$
for some $k\in n$ and $X,Y\in\form f_{k}$. Then 
\begin{eqnarray*}
X\sqcup Y\in\rsupfun{\StarComp(a,f)}_{k}L & \Leftrightarrow\\
\left(\lambda i\in\dom f:\supfun{f_{i}^{-1}}\left(\left\{ \begin{array}{ll}
X\sqcup Y & \text{if }i=k\\
L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a & \Leftrightarrow\\
\left(\lambda i\in\dom f:\left(\left\{ \begin{array}{ll}
\supfun{f_{i}^{-1}}X\sqcup\supfun{f_{i}^{-1}}Y & \text{if }i=k\\
\supfun{f_{i}^{-1}}L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a & \Leftrightarrow\\
\supfun{f_{i}^{-1}}X\sqcup\supfun{f_{i}^{-1}}Y\in\rsupfun{a}_{k}(\lambda i\in(\dom f)\setminus\{k\}:\langle f_{i}^{-1}\rangle L_{i}) & \Leftrightarrow\\
\supfun{f_{i}^{-1}}X\in\rsupfun{a}_{k}(\lambda i\in n\setminus\{k\}:\supfun{f_{i}^{-1}}L_{i})\vee\langle f_{i}^{-1}\rangle Y\in\rsupfun{a}_{k}(\lambda i\in n\setminus\{k\}:\supfun{f_{i}^{-1}}L_{i}) & \Leftrightarrow\\
\begin{aligned}\left(\lambda i\in\dom f:\left(\left\{ \begin{array}{ll}
\supfun{f_{i}^{-1}}X & \text{if }i=k\\
\supfun{f_{i}^{-1}}L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a & \vee\\
\left(\lambda i\in\dom f:\left(\left\{ \begin{array}{ll}
\supfun{f_{i}^{-1}}Y & \text{if }i=k\\
\supfun{f_{i}^{-1}}L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a
\end{aligned}
 & \Leftrightarrow\\
\begin{aligned}\left(\lambda i\in\dom f:\supfun{f_{i}^{-1}}\left(\left\{ \begin{array}{ll}
X & \text{if }i=k\\
L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a & \vee\\
\left(\lambda i\in\dom f:\supfun{f_{i}^{-1}}\left(\left\{ \begin{array}{ll}
Y & \text{if }i=k\\
L_{i} & \text{if }i\neq k
\end{array}\right.\right)_{i}\right)\in\GR a
\end{aligned}
 & \Leftrightarrow\\
X\in\rsupfun{\StarComp(a,f)}_{k}L\vee Y\in\rsupfun{\StarComp(a,f)}_{k}L.
\end{eqnarray*}
Thus $\StarComp(a,f)$ is a pre-staroid.
\item [{\ref{fcomp-str}}] $\supfun{f_{i}^{-1}}$ are monotone functions by
the proposition \ref{pfcd-mono}. Thus $\supfun{f_{i}^{-1}}X_{i}\sqsubseteq\supfun{f_{i}^{-1}}Y_{i}$
if $X,Y\in\prod_{i\in(\arity f)\setminus\{k\}}(\form f_{i})$ and
$X\sqsubseteq Y$. So if $a$ is a staroid and $X\in\GR\StarComp(a,f)$
then $(\lambda i\in\dom f:\langle f_{i}^{-1}\rangle X_{i})\in\GR a$
then $(\lambda i\in\dom f:\langle f_{i}^{-1}\rangle Y_{i})\in\GR a$
that is $Y\in\GR\StarComp(a,f)$.
\item [{\ref{fcomp-compl}}] ~
\begin{eqnarray*}
L_{0}\sqcup L_{1}\in\GR\StarComp(a,f) & \Leftrightarrow\\
(\lambda i\in n:\supfun{f_{i}^{-1}}(L_{0}\sqcup L_{1})i)\in\GR a & \Leftrightarrow\\
(\lambda i\in n:\supfun{f_{i}^{-1}}L_{0}i\sqcup\langle f_{i}^{-1}\rangle L_{1}i)\in\GR a & \Leftrightarrow\\
\exists c\in\{0,1\}:(\lambda i\in n:\supfun{f_{i}^{-1}}L_{c(i)}i)\in\GR a & \Leftrightarrow\\
\exists c\in\{0,1\}:(\lambda i\in n:L_{c(i)}i)\in\GR\StarComp(a,f).
\end{eqnarray*}

\end{widedisorder}
\end{proof}
\begin{conjecture}
$b\nasymp^{\Anch(\mathfrak{A})}\StarComp(a,f)\Leftrightarrow\forall A\in\GR a,B\in\GR b,i\in n:A_{i}\suprel{f_{i}}B_{i}$
for anchored relations $a$ and $b$ on powersets.
\end{conjecture}
It's consequence:
\begin{conjecture}
$b\nasymp^{\Anch(\mathfrak{A})}\StarComp(a,f)\Leftrightarrow a\nasymp^{\Anch(\mathfrak{A})}\StarComp(b,f^{\dagger})$
for anchored relations $a$ and $b$ on powersets.
\end{conjecture}

\begin{conjecture}
$b\nasymp^{\mathsf{Strd}(\mathfrak{A})}\StarComp(a,f)\Leftrightarrow a\nasymp^{\mathsf{Strd}(\mathfrak{A})}\StarComp(b,f^{\dagger})$
for pre-staroids $a$ and $b$ on powersets.\end{conjecture}
\begin{prop}
Anchored relations with objects being posets with above defined star-morphisms
is a category with star morphisms.\end{prop}
\begin{proof}
We need to prove:
\begin{enumerate}
\item $\StarComp(\StarComp(m,f),g)=\StarComp(m,\lambda i\in\arity m:g_{i}\circ f_{i})$;
\item $\StarComp(m,\lambda i\in\arity m:1_{\Obj_{m}i})=m$.
\end{enumerate}
(the rest is obvious).
Really, 
\begin{multline*}
L\in\GR\StarComp(\StarComp(m,f),g)\Leftrightarrow\\
(\lambda i\in\arity m:\supfun{g_{i}^{-1}}L_{i})\in\GR\StarComp(m,f)\Leftrightarrow\\
(\lambda i\in n:\supfun{f_{i}^{-1}}(\lambda j\in n:\supfun{g_{j}^{-1}}L_{j})_{i})\in\GR m\Leftrightarrow\\
(\lambda i\in\arity m:\langle f_{i}^{-1}\rangle\supfun{g_{i}^{-1}}L_{i})\in\GR m\Leftrightarrow\\
(\lambda i\in\arity m:\langle(g_{i}\circ f_{i})^{-1}\rangle L_{i})\in\GR m\Leftrightarrow\\
L\in\GR\StarComp(m,\lambda i\in\arity m:g_{i}\circ f_{i});
\end{multline*}
and
\begin{multline*}
L\in\GR\StarComp(m,\lambda i\in\arity m:1_{\Obj_{m}i})\Leftrightarrow\\
(\lambda i\in n:\supfun{1_{\Obj_{m}i}}L_{i})\in\GR m\Leftrightarrow\\
(\lambda i\in\arity m:\supfun{1_{\Obj_{m}i}}L_{i})\in\GR m\Leftrightarrow\\
(\lambda i\in\arity m:L_{i})\in\GR m\Leftrightarrow L\in\GR m.
\end{multline*}
\end{proof}

\begin{conjecture}
$\StarComp(a\sqcup b,f)=\StarComp(a,f)\sqcup\StarComp(b,f)$ for anchored
relations $a$, $b$ of a form $\mathfrak{A}$, where every $\mathfrak{A}_{i}$
is a distributive lattice, and an indexed family $f$ of pointfree
funcoids with $\Src f_{i}=\mathfrak{A}_{i}$.
\end{conjecture}

\subsection{Cross-composition product of funcoids through atoms}

Let $a$ be a an anchored relation of the form $\mathfrak{A}$ and
$\dom\mathfrak{A}=n$.

Let every $f_{i}$ (for all $i\in n$) be a pointfree funcoid with
$\Src f_{i}=\mathfrak{A}_{i}$.

The \emph{atomary star-composition} of $a$ with $f$ is an anchored relation of
the form $\mylambda i{\dom\mathfrak{A}}{\Dst f_{i}}$ defined by the
formula 
\[
L\in\GR\StarComp^{(a)}(a,f)\Leftrightarrow\exists y\in\GR a\cap\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}\forall i\in n:y_{i}\suprel{f_{i}}L_{i}.
\]

\begin{thm}
\label{starcomp-is}Let $\Dst f_{i}$ be a starrish join-semilattice
for every $i\in n$.
\begin{enumerate}
\item \label{starcomp-pre}If $a$ is a prestaroid then $\StarComp^{(a)}(a,f)$
is a staroid.
\item \label{starcomp-compl}If $a$ is a completary staroid and then $\StarComp^{(a)}(a,f)$
is a completary staroid.
\end{enumerate}
\end{thm}
\begin{proof}
~
\begin{widedisorder}
\item [{\ref{starcomp-pre}}] First prove that $\StarComp^{(a)}(a,f)$ is a prestaroid.
We need to prove that $(\val\StarComp^{(a)}(a,f))_{j}L$ (for every $j\in n$)
is a free star, that is
\[
\setcond{X\in(\form f)_{j}}{L\cup\{(j,X)\}\in\GR\StarComp^{(a)}(a,f)}
\]
is a free star, that is the following is a free star
\[
\setcond{X\in(\form f)_{j}}{R(X)}
\]
where $R(X)\Leftrightarrow\exists y\in\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}:\left(\forall i\in n\setminus\{j\}:y_{i}\suprel{f_{i}}L_{i}\wedge y_{j}\suprel{f_{j}}X\wedge y\in\GR a\right)$.
\begin{align*}
R(X) & \Leftrightarrow\\
\exists y\in\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}:(\forall i\in n\setminus\{j\}:y_{i}\suprel{f_{i}}L_{i}\land y_{j}\suprel{f_{j}}X\land y_{j}\in(\val a)_{j}(y|_{n\setminus\{j\}})) & \Leftrightarrow\\
\exists y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}},y'\in\atoms^{\mathfrak{A}_{j}}:\left(\begin{aligned} & \forall i\in n\setminus\{j\}:y_{i}\suprel{f_{i}}L_{i}\land\\
 & y'\suprel{f_{j}}X\land y'\in(\val a)_{j}(y|_{n\setminus\{j\}})
\end{aligned}
\right) & \Leftrightarrow\\
\begin{aligned} & \exists y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}}\forall i\in n\setminus\{j\}:y_{i}\suprel{f_{i}}L_{i}\land\\
 & \exists y'\in\atoms^{\mathfrak{A}_{j}}:(y'\suprel{f_{j}}X\land y'\in(\val a)_{j}(y|_{n\setminus\{j\}})).
\end{aligned}
\end{align*}



If $\exists y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}}\forall i\in n\setminus\{j\}:y_{i}\suprel{f_{i}}L_{i}$
is false our statement is obvious. We can assume it is true.


So it is enough to prove that
\[
\setcond{X\in(\form f)_{j}}{\exists y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}},y'\in\atoms^{\mathfrak{A}_{j}}:(y'\suprel{f_{j}}X\land y'\in(\val a)_{j}(y|_{n\setminus\{j\}}))}
\]
is a free star. That is
\[
Q=\setcond{X\in(\form f)_{j}}{\exists y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}},y'\in(\atoms^{\mathfrak{A}_{j}})\cap(\val a)_{j}(y|_{n\setminus\{j\}}):y'\suprel{f_{j}}X}
\]
is a free star. $\bot^{(\form f)_{j}}\notin Q$ is obvious. That $Q$
is an upper set is obvious. It remains to prove that $X_{0}\sqcup X_{1}\in Q\Rightarrow X_{0}\in Q\vee X_{1}\in Q$
for every $X_{0},X_{1}\in(\form f)_{j}$. Let $X_{0}\sqcup X_{1}\in Q$.
Then there exist $y\in\prod_{i\in n\setminus\{j\}}\atoms^{\mathfrak{A}_{i}}$,
$y'\in(\atoms^{\mathfrak{A}_{j}})\cap(\val a)_{j}(y|_{n\setminus\{j\}})$
such that $y'\suprel{f_{j}}X_{0}\sqcup X_{1}$. Consequently (proposition
\ref{pf-join-arg}) $y'\suprel{f_{j}}X_{0}\vee y'\suprel{f_{j}}X_1$.
But then $X_{0}\in Q\vee X_{1}\in Q$.


To finish the proof we need to show that $\GR\StarComp^(a)(a,f)$ is an
upper set, but this is obvious.

\item [{\ref{starcomp-compl}}] Let $a$ be a completary staroid. Let $L_{0}\sqcup L_{1}\in\GR\StarComp^{(a)}(a,f)$
that is $\exists y\in\prod_{i\in n}\atoms\mathfrak{A}_{i}:\left(\forall i\in n:y_{i}\suprel{f_{i}}L_{0}i\sqcup L_{1}i\wedge y\in\GR a\right)$
that is $\exists c\in\{0,1\}^{n},y\in\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}:\left(\forall i\in n:y_{i}\suprel{f_{i}}L_{c(i)}i\wedge y\in\GR a\right)$
(taken into account that $\Dst f_{i}$ is starrish) that is $\exists c\in\{0,1\}^{n}:(\mylambda in{L_{c(i_{})}i})\in\GR\StarComp^{(a)}(a,f)$.
So $\StarComp^{(a)}(a,f)$ is a completary staroid.
\end{widedisorder}
\end{proof}
\begin{lem}
$b\nasymp^{\Anch(\mathfrak{B})}\StarComp^{(a)}(a,f)\Leftrightarrow\forall A\in\GR a,B\in\GR b,i\in n:A_{i}\suprel{f_{i}}B_{i}$
for anchored relations $a$ and $b$, provided that $\Src f_{i}$
are atomic posets.\end{lem}
\begin{proof}
~

\begin{align*}
b\nasymp^{\Anch(\mathfrak{B})}\StarComp^{(a)}(a,f) & \Leftrightarrow\\
\exists x\in\Anch(\mathfrak{B})\setminus\{\bot\}:(x\sqsubseteq b\wedge x\sqsubseteq\StarComp^{(a)}(a,f)) & \Leftrightarrow\\
\exists x\in\Anch(\mathfrak{B})\setminus\{\bot\}:(x\sqsubseteq b\wedge\forall B\in\GR x:B\in\GR\StarComp^{(a)}(a,f)) & \Leftrightarrow\\
\exists x\in\Anch(\mathfrak{B})\setminus\{\bot\}:\\
\left(x\sqsubseteq b\wedge\forall B\in\GR x\exists A\in\prod_{i\in\dom\mathfrak{B}}\atoms^{\mathfrak{B}_{i}}:\left(\forall i\in n:A_{i}\suprel{f_{i}}B_{i}\wedge A\in\GR a\right)\right) & \Leftrightarrow\\
\exists x\in\Anch(\mathfrak{B})\setminus\{\bot\}:\left(x\sqsubseteq b\wedge\forall B\in\GR x,A\in\GR a,i\in n:A_{i}\suprel{f_{i}}B_{i}\right) & \Leftrightarrow\\
\exists x\in\Anch(\mathfrak{B}):\left(x\sqsubseteq b\wedge\forall B\in\GR x,A\in\GR a,i\in n:A_{i}\suprel{f_{i}}B_{i}\right) & \Leftrightarrow\\
\forall B\in\GR b,A\in\GR a,i\in n:A_{i}\suprel{f_{i}}B_{i}.
\end{align*}
\end{proof}
\begin{defn}
I will denote the cross-composition product for the star-composition
$\StarComp^{(a)}$ as $\prod^{(a)}$.\end{defn}
\begin{thm}
\label{a-b-cross-prod}$a\suprel{\prod^{(a)}f}b\Leftrightarrow\forall A\in\GR a,B\in\GR b,i\in n:A_{i}\suprel{f_{i}}B_{i}$
for anchored relations $a$ and $b$, provided that $\Src f_{i}$
and $\Dst f_{i}$ are atomic posets.\end{thm}
\begin{proof}
From the lemma.\end{proof}
\begin{conjecture}
$b\nasymp^{\mathsf{Strd}(\mathfrak{B})}\StarComp(a,f)\Leftrightarrow a\nasymp^{\mathsf{Strd}(\mathfrak{A})}\StarComp(b,f^{\dagger})$
for staroids $a$ and $b$ on indexed families~$\mathfrak{A}$ and~$\mathfrak{B}$
of filters on powersets.\end{conjecture}
\begin{thm}
Anchored relations with objects being atomic posets and above defined
compositions form a quasi-invertible precategory with star-morphisms.\end{thm}
\begin{rem}
It seems that this precategory with star-morphisms isn't a category with star-morphisms.\end{rem}
\begin{proof}
We need to prove:
\begin{enumerate}
\item \label{arel-comp}$\StarComp^{(a)}(\StarComp^{(a)}(m,f),g)=\StarComp^{(a)}(m,\mylambda i{\arity m}{g_{i}\circ f_{i}})$;
\item \label{arel-cross}$b\nasymp\StarComp^{(a)}(a,f)\Leftrightarrow a\nasymp\StarComp^{(a)}(b,f^{\dagger})$
\end{enumerate}
(the rest is obvious).

Really, let $a$ be a star morphism and $\mathfrak{A}_i=(\Obj_a)i$ for every $i\in\arity a$;
\begin{widedisorder}
\item [{\ref{arel-comp}}] $L\in\GR\StarComp^{(a)}(a,f)\Leftrightarrow\exists y\in\GR a\cap\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}\forall i\in n:y_{i}\suprel{f_{i}}L_{i}$.


Define the relation $R(f)$ by the formula $x\mathrel{R(f)}y\Leftrightarrow\forall i\in n:x_{i}\suprel{f_{i}}y_{i}$.
Obviously
\[
R(\mylambda in{g_{i}\circ f_{i}})=R(g)\circ R(f).
\]
$L\in\GR\StarComp^{(a)}(a,f)\Leftrightarrow\exists y\in\GR a\cap\prod_{i\in n}\atoms^{\mathfrak{A}_{i}}:y\mathrel{R(f)}L$.
\begin{align*}
L\in\GR\StarComp^{(a)}(\StarComp(a,f),g) & \Leftrightarrow\\
\exists p\in\GR\StarComp^{(a)}(a,f)\cap\prod_{i\in n}\atoms^{(\Dst f)_{i}}:p\mathrel{R(g)}L & \Leftrightarrow\\
\exists p\in\prod_{i\in n}\atoms^{(\Dst f)_{i}},y\in\GR a\cap\prod_{i\in n}\atoms^{(\Src f)_{i}}:(y\mathrel{R(f)}p\land p\mathrel{R(g)}L) & \Leftrightarrow\\
\exists y\in\GR a\cap\prod_{i\in n}\atoms^{(\Src f)_{i}}:y\mathrel{(R(g)\circ R(f))}L & \Leftrightarrow\\
\exists y\in\GR a\cap\prod_{i\in n}\atoms^{(\Src f)_{i}}:y\mathrel{R(\mylambda in{g_{i}\circ f_{i}})}L & \Leftrightarrow\\
\exists y\in\GR a\cap\prod_{i\in n}\atoms^{(\Src f)_{i}}y\forall i\in n:y_{i}\suprel{g_{i}\circ f_{i}}L_{i} & \Leftrightarrow\\
L\in\GR\StarComp^{(a)}(a,\mylambda in{g_{i}\circ f_{i}})
\end{align*}
because $p\in\GR\StarComp^{(a)}(a,f)\Leftrightarrow\exists y\in\GR a\cap\prod_{i\in n}\atoms^{(\Src f)_{i}}y:y\mathrel{R(f)}p$.

\item [{\ref{arel-cross}}] It follows from the lemma above.
\end{widedisorder}
\end{proof}
\begin{thm}
\label{prod-prod}$\supfun{\prod^{(a)}f}\prod^{\mathsf{Strd}}a=\prod_{i\in n}^{\mathsf{Strd}}\supfun{f_{i}}a_{i}$
for every family~$f=f_{i\in n}$ of pointfree funcoids between atomic
posets and $a=a_{i\in n}$ where $a_{i}\in\Src f_{i}$.\end{thm}
\begin{proof}
~
\begin{align*}
L\in\GR\supfun{\prod^{(a)}f}\prod^{\mathsf{Strd}}a & \Leftrightarrow\\
L\in\GR\StarComp^{(a)}\left(\prod^{\mathsf{Strd}}a,f\right) & \Leftrightarrow\\
\exists y\in\prod_{i\in\dom\mathfrak{A}}\atoms^{\mathfrak{A}_{i}}\forall i\in n:(y_{i}\suprel{f_{i}}L_{i}\land y_{i}\nasymp a_{i}) & \Leftrightarrow\\
\forall i\in n\exists y\in\atoms^{\mathfrak{A}_{i}}:(y\suprel{f_{i}}L_{i}\land y\nasymp a_{i}) & \Leftrightarrow\\
\forall i\in n:a_{i}\suprel{f_{i}}L_{i} & \Leftrightarrow\\
\forall i\in n:L_{i}\nasymp\supfun{f_{i}}a_{i} & \Leftrightarrow\\
L\in\GR\prod_{i\in n}^{\mathsf{Strd}}\supfun{f_{i}}a_{i}.
\end{align*}
\end{proof}
\begin{conjecture}
$\StarComp^{(a)}(a\sqcup b,f)=\StarComp^{(a)}(a,f)\sqcup\StarComp^{(a)}(b,f)$
for anchored relations $a$, $b$ of a form $\mathfrak{A}$, where
every $\mathfrak{A}_{i}$ is a distributive lattice, and an indexed
family $f$ of pointfree funcoids with $\Src f_{i}=\mathfrak{A}_{i}$.
\end{conjecture}

\subsection{Simple product of pointfree funcoids}
\begin{defn}
\index{product!simple}Let $f$ be an indexed family of pointfree
funcoids with every $\Src f_{i}$ and $\Dst f_{i}$ (for all $i\in\dom f$)
being a poset with least element. \emph{Simple product} of $f$ is
\[
\prod^{(S)}f=\left(\mylambda x{\prod_{i\in\dom f}\Src f_{i}}{\mylambda i{\dom f}{\supfun{f_{i}}x_{i}}},\mylambda y{\prod_{i\in\dom f}\Dst f_{i}}{\mylambda i{\dom f}{\supfun{f_{i}^{-1}}y_{i}}}\right).
\]
\end{defn}
\begin{prop}
Simple product is a pointfree funcoid 
\[
\prod^{(S)}f\in\mathsf{pFCD}\left(\prod_{i\in\dom f}\Src f_{i},\prod_{i\in\dom f}\Dst f_{i}\right).
\]
\end{prop}
\begin{proof}
Let $x\in\prod_{i\in\dom f}\Src f_{i}$ and $y\in\prod_{i\in\dom f}\Dst f_{i}$.
Then (take into account that $\Src f_{i}$ and $\Dst f_{i}$ are posets
with least elements)
\begin{align*}
y\nasymp\left(\mylambda x{\prod_{i\in\dom f}\Src f_{i}}{\mylambda i{\dom f}{\supfun{f_{i}}x_{i}}}\right)x & \Leftrightarrow\\
y\nasymp\mylambda i{\dom f}{\supfun{f_{i}}x_{i}} & \Leftrightarrow\\
\exists i\in\dom f:y_{i}\nasymp\supfun{f_{i}}x_{i} & \Leftrightarrow\\
\exists i\in\dom f:x_{i}\nasymp\supfun{f_{i}^{-1}}y_{i} & \Leftrightarrow\\
x\nasymp\mylambda i{\dom f}{\supfun{f_{i}^{-1}}y_{i}} & \Leftrightarrow\\
x\nasymp\left(\mylambda y{\prod_{i\in\dom f}\Dst f_{i}}{\mylambda i{\dom f}{\supfun{f_{i}^{-1}}y_{i}}}\right)y.
\end{align*}
\end{proof}
\begin{obvious}
$\supfun{\prod^{(S)}f}x=\mylambda i{\dom f}{\supfun{f_{i}}x_{i}}$
for $x\in\prod\Src f_{i}$.
\end{obvious}

\begin{obvious}
$\left(\supfun{\prod^{(S)}f}x\right)_{i}=\supfun{f_{i}}x_{i}$ for
$x\in\prod\Src f_{i}$.\end{obvious}
\begin{prop}
$f_{i}$ can be restored if we know $\prod^{(S)}f$ if $f_{i}$ is
a family of pointfree funcoids between posets with least elements.\end{prop}
\begin{proof}
Let's restore the value of $\supfun{f_{i}}x$ where $i\in\dom f$
and $x\in\Src f_{i}$.

Let $x'_{i}=x$ and $x'_{j}=\bot$ for $j\neq i$.

Then $\supfun{f_{i}}x=\supfun{f_{i}}x'_{i}=\left(\supfun{\prod^{(S)}f}x'\right)_{i}$.

We have restored the value of $\supfun{f_{i}}$. Restoring the value
of $\supfun{f_{i}^{-1}}$ is similar.\end{proof}
\begin{rem}
In the above proposition it is not required that $f_{i}$ are non-zero.\end{rem}
\begin{prop}
$\left(\prod^{(S)}g\right)\circ\left(\prod^{(S)}f\right)=\prod_{i\in n}^{(S)}(g_{i}\circ f_{i})$
for $n$-indexed families $f$ and $g$ of composable pointfree funcoids
between posets with least elements.\end{prop}
\begin{proof}
~
\begin{multline*}
\supfun{\prod_{i\in n}^{(S)}(g_{i}\circ f_{i})}x=\mylambda i{\dom f}{\supfun{g_{i}\circ f_{i}}x_{i}=}\mylambda i{\dom f}{\supfun{g_{i}}\supfun{f_{i}}x_{i}}=\\
\supfun{\prod^{(S)}g}\mylambda i{\dom f}{\supfun{f_{i}}x_{i}}=\supfun{\prod^{(S)}g}\supfun{\prod^{(S)}f}x=\supfun{\left(\prod^{(S)}g\right)\circ\left(\prod^{(S)}f\right)}x.
\end{multline*}
Thus $\supfun{\prod_{i\in n}^{(S)}(g_{i}\circ f_{i})}=\supfun{\left(\prod^{(S)}g\right)\circ\left(\prod^{(S)}f\right)}$.

$\supfun{\left(\prod_{i\in n}^{(S)}(g_{i}\circ f_{i})\right)^{-1}}=\supfun{\left(\left(\prod^{(S)}g\right)\circ\left(\prod^{(S)}f\right)\right)^{-1}}$
is similar.\end{proof}
\begin{cor}
$\left(\prod^{(S)}f_{k-1}\right)\circ\ldots\circ\left(\prod^{(S)}f_{0}\right)=\prod_{i\in n}^{(S)}(f_{k-1}\circ\ldots\circ f_{0})$
for every $n$-indexed families $f_{0},\ldots,f_{n-1}$ of composable
pointfree funcoids between posets with least elements.
\end{cor}

\section{Multireloids}
\begin{defn}
\index{multireloid}I will call a \emph{multireloid} of the form $A=A_{i\in n}$,
where every each $A_{i}$ is a set, a pair $(f,A)$ where $f$ is
a filter on the set $\prod A$.
\end{defn}

\begin{defn}
I will denote $\Obj(f,A)=A$ and $\GR(f,A)=f$ for every multireloid
$(f,A)$.
\end{defn}
I will denote $\mathsf{RLD}(A)$ the set of multireloids of the form
$A$.

The multireloid $\uparrow^{\mathsf{RLD}(A)}F$ for a relation $F$
is defined by the formulas: 
\[
\Obj\uparrow^{\mathsf{RLD}(A)}F=A\quad\text{and}\quad\GR\uparrow^{\mathsf{RLD}(A)}F=\uparrow^{\prod A}F.
\]


For an anchored relation~$f$ I define $\Obj\uparrow f=\form f$
and $\GR\uparrow f=\uparrow^{\prod\form f}\GR f$.

Let $a$ be a multireloid of the form $A$ and $\dom A=n$.

Let every $f_{i}$ be a reloid with $\Src f_{i}=A_{i}$.

The star-composition of $a$ with $f$ is a multireloid of the form
$\lambda i\in\dom A:\Dst f_{i}$ defined by the formulas:
\begin{gather*}
\arity\StarComp(a,f)=n;\\
\GR\StarComp(a,f)=\bigsqcap^{\mathsf{RLD}(A)}\setcond{\GR\StarComp(A,F)}{A\in\GR a,F\in\prod_{i\in n}\GR f_{i}};\\
\Obj_{m}\StarComp(a,f)=\mylambda in{\Dst f_{i}}.
\end{gather*}

\begin{thm}
Multireloids with above defined compositions form a quasi-invertible
category with star-morphisms.\end{thm}
\begin{proof}
We need to prove:
\begin{enumerate}
\item \label{mrld-comp}$\StarComp(\StarComp(m,f),g)=\StarComp(m,\mylambda i{\arity m}{g_{i}\circ f_{i}})$;
\item \label{mrld-id}$\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i}})=m$;
\item \label{mrld-cross}$b\nasymp\StarComp(a,f)\Leftrightarrow a\nasymp\StarComp(b,f^{\dagger})$
\end{enumerate}
(the rest is obvious).

Really,
\begin{widedisorder}
\item [{\ref{mrld-comp}}] Using properties of generalized filter bases,
\begin{align*}
\StarComp(\StarComp(a,f),g) & =\\
\bigsqcap^{\mathsf{RLD}}\setcond{\StarComp(B,G)}{B\in\GR\StarComp(a,f),G\in\prod_{i\in n}\GR g_{i}} & =\\
\bigsqcap^{\mathsf{RLD}}\setcond{\StarComp(\StarComp(A,F),G)}{A\in\GR a,F\in\prod_{i\in n}\GR f_{i},G\in\prod_{i\in n}\GR g_{i}} & =\\
\bigsqcap^{\mathsf{RLD}}\setcond{\StarComp(A,G\circ F)}{A\in\GR a,F\in\prod_{i\in n}\GR f_{i},G\in\prod_{i\in n}\GR g_{i}} & =\\
\bigsqcap^{\mathsf{RLD}}\setcond{\StarComp(A,H)}{A\in\GR a,H\in\prod_{i\in n}\GR(g_{i}\circ f_{i})} & =\\
\StarComp(a,\mylambda i{\arity n}{g_{i}\circ f_{i}}).
\end{align*}

\item [{\ref{mrld-id}}] ~
\begin{align*}
\StarComp(m,\mylambda i{\arity m}{1_{\Obj_{m}i}}) & =\\
\bigsqcap^{\mathsf{RLD}(A)}\setcond{\StarComp(A,H)}{A\in\GR m,H\in\prod_{i\in\arity m}\GR1_{\Obj_{m}i}} & =\\
\bigsqcap^{\mathsf{RLD}(A)}\setcond{\StarComp(A,\mylambda i{\arity m}{H_{i}})}{A\in\GR m,H\in\prod_{i\in\arity m}\GR1_{\Obj_{m}i}} & =\\
\bigsqcap^{\mathsf{RLD}(A)}\setcond{\StarComp(A,\mylambda i{\arity m}{1_{X_{i}}})}{A\in\GR m,X\in\prod_{i\in\arity m}\Obj_{m}i} & =\\
\bigsqcap^{\mathsf{RLD}(A)}\setcond{(A\cap\prod X)}{A\in\GR m,X\in\prod_{i\in\arity m}\Obj_{m}i} & =\\
\bigsqcap^{\mathsf{RLD}(A)}\setcond A{A\in\GR m} & =m.
\end{align*}

\item [{\ref{mrld-cross}}] Using properties of generalized filter bases,
\begin{align*}
b\nasymp\StarComp(a,f) & \Leftrightarrow\\
\forall A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}:B\nasymp\StarComp(A,F) & \Leftrightarrow\\
\forall A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}:B\nasymp\supfun{\prod^{(C)}F}A & \Leftrightarrow\\
\forall A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}:A\nasymp\supfun{\left(\prod^{(C)}F\right)^{-1}}B & \Leftrightarrow\\
\forall A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}:A\nasymp\StarComp(B,F^{\dagger}) & \Leftrightarrow\\
a\nasymp\StarComp(b,f^{\dagger}).
\end{align*}

\end{widedisorder}
\end{proof}
\begin{defn}
Let $f$ be a multireloid of the form $A$. Then for $i\in\dom A$
\[
\Pr_{i}^{\mathsf{RLD}}f=\bigsqcap^{\mathscr{F}}\rsupfun{\Pr_{i}}\GR f.
\]
\end{defn}
\begin{prop}
$\up\Pr_{i}^{\mathsf{RLD}}f=\rsupfun{\Pr_{i}}\GR f$ for every multireloid
$f$ and $i\in\arity f$.\end{prop}
\begin{proof}
It's enough to show that $\rsupfun{\Pr_{i}}\GR f$ is a filter.

That $\rsupfun{\Pr_{i}}\GR f$ is an upper set is obvious.

Let $X,Y\in\rsupfun{\Pr_{i}}\GR f$. Then there exist $F,G\in\GR f$
such that $X=\Pr_{i}F$, $Y=\Pr_{i}G$. Then $X\cap Y\supseteq\Pr_{i}(F\cap G)\in\rsupfun{\Pr_{i}}\GR f$.
Thus $X\cap Y\in\rsupfun{\Pr_{i}}\GR f$.\end{proof}
\begin{defn}
$\prod^{\mathsf{RLD}}\mathcal{X}=\bigsqcap_{X\in\up\prod\mathcal{X}}^{\mathsf{RLD}(\mylambda i{\dom\mathcal{X}}{\Base(\mathcal{X}_{i})})}\prod X$
for every indexed family $\mathcal{X}$ of filters on powersets.\end{defn}
\begin{prop}
\label{Pr-prod-reloids}$\Pr_{k}^{\mathsf{RLD}}\prod^{\mathsf{RLD}}x=x_{k}$
for every indexed family $x$ of proper filters.\end{prop}
\begin{proof}
$\up\Pr_{k}^{\mathsf{RLD}}\prod^{\mathsf{RLD}}x=\rsupfun{\Pr_{k}}\prod^{\mathsf{RLD}}x=\up x_{k}$.\end{proof}
\begin{conjecture}
$\GR\StarComp(a\sqcup b,f)=\GR\StarComp(a,f)\sqcup\GR\StarComp(b,f)$
if $f$ is a reloid and $a$, $b$ are multireloids of the same form,
composable with $f$.\end{conjecture}
\begin{thm}
$\prod^{\mathsf{RLD}}A=\bigsqcup\setcond{\prod^{\mathsf{RLD}}a}{a\in\prod_{i\in\dom A}\atoms A_{i}}$
for every indexed family $A$ of filters on powersets.\end{thm}
\begin{proof}
Obviously $\prod^{\mathsf{RLD}}A\sqsupseteq\bigsqcup\setcond{\prod^{\mathsf{RLD}}a}{a\in\prod_{i\in\dom A}\atoms A_{i}}$.

Reversely, let $K\in\GR\bigsqcup\setcond{\prod^{\mathsf{RLD}}a}{a\in\prod_{i\in\dom A}\atoms A_{i}}$.

Consequently $K\in\GR\prod^{\mathsf{RLD}}a$ for every $a\in\prod_{i\in\dom A}\atoms A_{i}$;
$K\supseteq\prod X$ and thus $K\supseteq\bigcup_{a\in\prod_{i\in\dom a}\atoms A_i}\prod X_a$
for some $X_a\in\prod_{i\in\dom a}\atoms A_i$.

But $\bigcup_{a\in\prod_{i\in\dom a}\atoms A_i}\prod X_a=\prod_{i\in\dom A}\bigcup_{a\in\atoms A_i}\rsupfun{\Pr_{i}}X_a\supseteq\prod_{j\in\dom A}Z_{j}$
for some $Z_{j}\in\up A_{j}$ because $\rsupfun{\Pr_{i}}X\in\up a_{i}$
and our lattice is atomistic. So $K\in\GR\prod^{\mathsf{RLD}}A$.\end{proof}
\begin{thm}
Let $a$, $b$ be indexed families of filters on powersets of the
same form $\mathfrak{A}$. Then 
\[
\prod^{\mathsf{RLD}}a\sqcap\prod^{\mathsf{RLD}}b=\prod_{i\in\dom\mathfrak{A}}^{\mathsf{RLD}}(a_{i}\sqcap b_{i}).
\]
\end{thm}
\begin{proof}
~
\begin{align*}
\up\left(\prod^{\mathsf{RLD}}a\sqcap\prod^{\mathsf{RLD}}b\right) & =\\
\bigsqcap^{\mathsf{RLD}(\mathfrak{A})}\setcond{P\cap Q}{P\in\GR\prod^{\mathsf{RLD}}a,Q\in\prod^{\mathsf{RLD}}b} & =\\
\bigsqcap^{\mathsf{RLD}(\mathfrak{A})}\setcond{\prod p\cap\prod q}{p\in\up\prod a,q\in\up\prod b} & =\\
\bigsqcap^{\mathsf{RLD}(\mathfrak{A})}\setcond{\prod_{i\in\dom\mathfrak{A}}(p_{i}\cap q_{i})}{p\in\prod\up a,q\in\prod\up b} & =\\
\bigsqcap^{\mathsf{RLD}(\mathfrak{A})}\setcond{\prod r}{r\in\up\prod_{i\in\dom\mathfrak{A}}(a_{i}\sqcap b_{i})} & =\\
\up\prod_{i\in\dom\mathfrak{A}}^{\mathsf{RLD}}(a_{i}\sqcap b_{i}).
\end{align*}
\end{proof}
\begin{thm}
If $S\in\subsets\prod_{i\in\dom\mathfrak{Z}}\mathscr{F}(\mathfrak{Z}_{i})$
where $\mathfrak{Z}$ is an indexed family of sets, then 
\[
\bigsqcap_{a\in S}\prod^{\mathsf{RLD}}a=\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S.
\]
\end{thm}
\begin{proof}
If $S=\emptyset$ then $\bigsqcap_{a\in S}\prod^{\mathsf{RLD}}a=\bigsqcap\emptyset=\top^{\mathsf{RLD}(\mathfrak{Z})}$
and 
\[
\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S=
\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\emptyset=\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\top^{\mathscr{F}(\mathfrak{Z}_{i})}=\top^{\mathsf{RLD}(\mathfrak{Z})},
\]
thus $\bigsqcap_{a\in S}\prod^{\mathsf{RLD}}a=\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S$.

Let $S\ne\emptyset$.

$\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S\sqsubseteq\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\{a_{i}\}=a_{i}$
for every $a\in S$ because $a_{i}\in\Pr_{i}S$. Thus $\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S\sqsubseteq\prod^{\mathsf{RLD}}a$;
\[
\bigsqcap_{a\in S}\prod^{\mathsf{RLD}}a\sqsupseteq\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S.
\]


Now suppose $F\in\GR\prod_{i\in\dom\mathfrak{Z}}^{\mathsf{RLD}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S$.
Then there exists $X\in\up\prod_{i\in\dom\mathfrak{Z}}\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S$
such that $F\supseteq\prod X$. It is enough to prove that there exist
$a\in S$ such that $F\in\GR\prod^{\mathsf{RLD}}a$. For this it is
enough $\prod X\in\GR\prod^{\mathsf{RLD}}a$.

Really, $X_{i}\in\up\bigsqcap^{\mathscr{F}(\mathfrak{Z}_{i})}\Pr_{i}S$
thus $X_{i}\in\up a_{i}$ for every $A\in S$ because $\Pr_{i}S\supseteq\{a_{i}\}$.

Thus $\prod X\in\GR\prod^{\mathsf{RLD}}a$.\end{proof}
\begin{defn}
\index{multireloid!principal}I call a multireloid \emph{principal}
iff its graph is a principal filter.
\end{defn}

\begin{defn}
\index{multireloid!convex}I call a multireloid \emph{convex} iff
it is a join of reloidal products.\end{defn}
\begin{thm}
$\StarComp(a\sqcup b,f)=\StarComp(a,f)\sqcup\StarComp(b,f)$ for multireloids
$a$, $b$ and an indexed family $f$ of reloids with $\Src f_{i}=(\form a)_{i}=(\form b)_{i}$.\end{thm}
\begin{proof}
~
\begin{align*}
\GR(\StarComp(a,f)\sqcup\StarComp(b,f)) & =\\
\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form a)}\StarComp(A,F)}{A\in\GR a,F\in\prod_{i\in n}\GR f_{i}}\sqcup\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form b)}\StarComp(B,F)}{B\in\GR b,F\in\prod_{i\in n}\GR f_{i}} & =\\
\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form a)}\StarComp(A,F)\sqcup\uparrow^{\mathsf{RLD}(\form b)}\StarComp(B,F)}{A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}} & =\\
\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form a)}(\StarComp(A,F)\cup\StarComp(B,F))}{A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}} & =\\
\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form a)}\StarComp(A\cup B,F)}{A\in\GR a,B\in\GR b,F\in\prod_{i\in n}\GR f_{i}} & =\\
\bigsqcap\setcond{\uparrow^{\mathsf{RLD}(\form a)}\StarComp(C,F)}{C\in\GR(a\sqcup b),F\in\prod_{i\in n}\GR f_{i}} & =\\
\GR\StarComp(a\sqcup b,f).
\end{align*}
\end{proof}

\subsection{Starred reloidal product}

Tychonoff product of topological spaces inspired me the following
definition, which seems possibly useful just like Tychonoff product:
\begin{defn}
\index{product!reloidal!starred}Let $a$ be an $n$-indexed ($n$
is an arbitrary index set) family of filters on sets. $\prod^{\mathsf{RLD}\ast}a$
(\emph{starred reloidal product}) is the reloid of the form $\prod_{i\in n}\Base(a_{i})$
induced by the filter base
\[
\setcond{\prod_{i\in n}\left(\begin{cases}
A_{i} & \text{if }i\in m\\
\Base(a_{i}) & \text{if }i\in n\setminus m
\end{cases}\right)}{m\text{ is a finite subset of }n,A\in\prod(a|_{m})}.
\]
\end{defn}
\begin{obvious}
It is really a filter base.
\end{obvious}

\begin{obvious}
$\prod^{\mathsf{RLD}\ast}a\sqsupseteq\prod^{\mathsf{RLD}}a$.\end{obvious}
\begin{prop}
$\prod^{\mathsf{RLD}\ast}a=\prod^{\mathsf{RLD}}a$ if $n$ is finite.\end{prop}
\begin{proof}
Take $m=n$ to show that $\prod^{\mathsf{RLD}\ast}a\sqsubseteq\prod^{\mathsf{RLD}}a$.\end{proof}
\begin{prop}
$\prod^{\mathsf{RLD}\ast}a=\bot^{\mathsf{RLD}(\mylambda in{\Base(a_{i})})}$
if $a_{i}$ is the non-proper filter for some $i\in n$.\end{prop}
\begin{proof}
Take $A_{i}=\bot$ and $m=\{i\}$. Then $\prod_{i\in n}\left(\begin{cases}
A_{i} & \text{if }i\in m\\
\Base(a_{i}) & \text{if }i\in n\setminus m
\end{cases}\right)=\bot$.\end{proof}
\begin{example}
There exists an indexed family $a$ of principal filters such that
$\prod^{\mathsf{RLD}\ast}a$ is non-principal.\end{example}
\begin{proof}
Let $n$ be infinite and~$\Base(a_{i})$ is a set of at least two elements. Let each $a_{i}$
be a trivial ultrafilter.

Every $\prod_{i\in n}\left(\begin{cases}
A_{i} & \text{if }i\in m\\
\Base(a_{i}) & \text{if }i\in n\setminus m
\end{cases}\right)$ has at least $2^{n}$ elements.

There are elements $\up\prod^{\mathsf{RLD}}a$ with cardinality $1$.
They can't be elements of $\up\prod^{\mathsf{RLD}\ast}a$ because of cardinality issues.\end{proof}
\begin{cor}
There exists an indexed family $a$ of principal filters such that
$\prod^{\mathsf{RLD}\ast}a\neq\prod^{\mathsf{RLD}}a$.\end{cor}
\begin{proof}
Because $\prod^{\mathsf{RLD}}a$ is principal.\end{proof}
\begin{prop}
$\Pr_{k}^{\mathsf{RLD}}\prod^{\mathsf{RLD}\ast}x=x_{k}$ for every
indexed family $x$ of proper filters.\end{prop}
\begin{proof}
$\Pr_{k}^{\mathsf{RLD}}\prod^{\mathsf{RLD}\ast}x=\rsupfun{\Pr_{k}}\GR\prod^{\mathsf{RLD}\ast}x=x_{k}$.
\end{proof}

\begin{thm}
  $\Pr^{\mathsf{RLD}}_i f \sqsubseteq \mathcal{A}_i$ for all $i \in n$
  iff $f \sqsubseteq \prod^{\mathsf{RLD} \ast} \mathcal{A}$ (for every
  reloid $f$ of arity $n$ and $n$-indexed family $\mathcal{A}$ of filters on
  sets).
\end{thm}

\begin{proof}
$f \sqsubseteq \prod^{\mathsf{RLD} \ast} \mathcal{A} \Rightarrow
\Pr^{\mathsf{RLD}}_i f \sqsubseteq \Pr^{\mathsf{RLD}}_i
\prod^{\mathsf{RLD} \ast} \mathcal{A} \sqsubseteq \mathcal{A}_i$.

Let now $\Pr^{\mathsf{RLD}}_i f \sqsubseteq \mathcal{A}_i$.

$f \sqsubseteq \prod \left( \begin{cases}
  \Pr^{\mathsf{RLD}}_i f & \text{if } i \in m\\
  \Base (\form f)_i & \text{if } i \notin m
\end{cases} \right)$ for finite $m \subseteq n$, as it can be easily be
proved by induction.

It follows $f \sqsubseteq \prod^{\mathsf{RLD} \ast} \mathcal{A}$.
\end{proof}

\section{Subatomic product of funcoids}
\begin{defn}
\index{product!subatomic}Let $f$ be an indexed family of funcoids.
Then $\prod^{(A)}f$ (\emph{subatomic product}) is a funcoid $\prod_{i\in\dom f}\Src f_{i}\rightarrow\prod_{i\in\dom f}\Dst f_{i}$
such that for every $a\in\atoms^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}$,
$b\in\atoms^{\mathsf{RLD}(\mylambda i{\dom f}{\Dst f_{i}})}$
\[
a\suprel{\prod^{(A)}f}b\Leftrightarrow\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}a\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}b.
\]
\end{defn}
\begin{prop}
The funcoid $\prod^{(A)}f$ exists.\end{prop}
\begin{proof}
To prove that $\prod^{(A)}f$ exists we need to prove (for every $a\in\atoms^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}$,
$b\in\atoms^{\mathsf{RLD}(\mylambda i{\dom f}{\Dst f_{i}})}$)
\begin{multline*}
\forall X\in\GR a,Y\in\GR b\\
\exists x\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}X,y\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Dst f_{i}})}Y:x\suprel{\prod^{(A)}f}y\Rightarrow\\
a\suprel{\prod^{(A)}f}b.
\end{multline*}


Let
\begin{multline*}
\forall X\in\GR a,Y\in\GR b\\
\exists x\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}X,y\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Dst f_{i}})}Y:x\suprel{\prod^{(A)}f}y.
\end{multline*}


Then
\begin{multline*}
\forall X\in\GR a,Y\in\GR b\\
\exists x\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}X,y\in\atoms\uparrow^{\mathsf{RLD}(\mylambda i{\dom f}{\Dst f_{i}})}Y\\
\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}x\suprel{f_i}\Pr_{i}^{\mathsf{RLD}}y.
\end{multline*}


Then because $\Pr_{i}^{\mathsf{RLD}}x\in\atoms\uparrow^{\Src f_{i}}\Pr_{i}X$
and likewise for $y$:

\begin{multline*}
\forall X\in\GR a,Y\in\GR b\forall i\in\dom f\\
\exists x\in\atoms\uparrow^{\Src f_{i}}\Pr_{i}X,y\in\atoms\uparrow^{\Dst f_{i}}\Pr_{i}Y:x\suprel{f_{i}}y.
\end{multline*}
Thus $\forall X\in\GR a,Y\in\GR b\forall i\in\dom f:\uparrow^{\Src f_{i}}\Pr_{i}X\suprel{f_{i}}\uparrow^{\Dst f_{i}}\Pr_{i}Y$;

$\forall X\in\GR a,Y\in\GR b\forall i\in\dom f:\Pr_{i}X\rsuprel{f_{i}}\Pr_{i}Y$.

Then $\forall X\in\rsupfun{\Pr_{i}}\GR a,Y\in\rsupfun{\Pr_{i}}\GR b:X\rsuprel{f_{i}}Y$.

Thus $\Pr_{i}^{\mathsf{RLD}}a\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}b$.
So 
\[
\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}a\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}b
\]
and thus $a\suprel{\prod^{(A)}f}b$.\end{proof}
\begin{rem}
It seems that the proof of the above theorem can be simplified using
cross-composition product.\end{rem}
\begin{thm}
$\prod_{i\in n}^{(A)}(g_{i}\circ f_{i})=\prod^{(A)}g\circ\prod^{(A)}f$
for indexed (by an index set $n$) families $f$ and $g$ of funcoids
such that $\forall i\in n:\Dst f_{i}=\Src g_{i}$.\end{thm}
\begin{proof}
Let $a$, $b$ be ultrafilters on $\prod_{i\in n}\Src f_{i}$ and
$\prod_{i\in n}\Dst g_{i}$ correspondingly,
\begin{align*}
a\suprel{\prod_{i\in n}^{(A)}(g_{i}\circ f_{i})}b & \Leftrightarrow\\
\forall i\in\dom f:\rsupfun{\Pr_{i}}a\suprel{g_{i}\circ f_{i}}\rsupfun{\Pr_{i}}b & \Leftrightarrow\\
\forall i\in\dom f\exists C\in\atoms^{\mathscr{F}(\Dst f_{i})}:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}C\land C\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right) & \Leftrightarrow\\
\forall i\in\dom f\exists c\in\atoms^{\mathsf{RLD}(\mylambda in{\Dst f})}:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c\land\rsupfun{\Pr_{i}}c\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right) & \Leftarrow\\
\exists c\in\atoms^{\mathsf{RLD}(\mylambda in{\Dst f})}\forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c\land\rsupfun{\Pr_{i}}c\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right) & \Leftrightarrow\\
\exists c\in\atoms^{\mathsf{RLD}(\mylambda in{\Dst f})}:\left(a\suprel{\prod^{(A)}f}c\land c\suprel{\prod^{(A)}g}b\right) & \Leftrightarrow\\
a\suprel{\prod^{(A)}g\circ\prod^{(A)}f}b.
\end{align*}

But 
\[
\forall i\in\dom f\exists C\in\atoms^{\mathscr{F}(\Dst f_{i})}:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}C\land C\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right)
\]
implies 
\[
\exists C\in\prod_{i\in n}\atoms^{\mathscr{F}(\Dst f_{i})} \forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}C_i\land C_i\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right).
\]
Take $c\in\atoms\prod^{\mathsf{RLD}} C$. Then
\[
\forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\Pr_i c\land\Pr_i c\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right)
\]
that is
\[
\forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_i} c\land\rsupfun{\Pr_i}\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right)
\]
% Let 
% \[
% \forall i\in\dom f\exists c\in\atoms^{\mathsf{RLD}(\mylambda in{\Dst f})}:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c\land\rsupfun{\Pr_{i}}c\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right).
% \]
% Then there exists $c'\in(\atoms^{\mathsf{RLD}(\lambda i\in n:\Dst f)})^{n}$
% such that
% \[
% \forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c'_{i}\land\rsupfun{\Pr_{i}}c'_{i}\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right).
% \]
% Then take $c''=\prod^{\mathsf{RLD}}c'$. Then
% \[\forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c''_{i}\wedge\rsupfun{\Pr_{i}}c''_{i}\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right).\]
% Thus 
% \[
% \exists c\in\atoms^{\mathsf{RLD}(\lambda i\in n:\Dst f)}\forall i\in\dom f:\left(\rsupfun{\Pr_{i}}a\suprel{f_{i}}\rsupfun{\Pr_{i}}c\wedge\rsupfun{\Pr_{i}}c\suprel{g_{i}}\rsupfun{\Pr_{i}}b\right).
% \]


We have $a\suprel{\prod_{i\in n}^{(A)}(g_{i}\circ f_{i})}b\Leftrightarrow a\suprel{\prod^{(A)}g\circ\prod^{(A)}f}b$.\end{proof}
\begin{cor}
$\left(\prod^{(A)}f_{k-1}\right)\circ\ldots\circ\left(\prod^{(A)}f_{0}\right)=\prod_{i\in n}^{(A)}(f_{k-1}\circ\ldots\circ f_{0})$
for every $n$-indexed families $f_{0},\ldots,f_{n-1}$ of composable
funcoids.\end{cor}
\begin{prop}
$\prod^{\mathsf{RLD}}a\suprel{\prod^{(A)}f}\prod^{\mathsf{RLD}}b\Leftrightarrow\forall i\in\dom f:a_{i}\suprel{f_{i}}b_{i}$
for an indexed family $f$ of funcoids and indexed families $a$ and
$b$ of filters where $a_{i}\in\mathscr{F}(\Src f_{i})$, $b_{i}\in\mathscr{F}(\Dst f_{i})$
for every $i\in\dom f$.\end{prop}
\begin{proof}
If $a_{i}=\bot$ or $b_{i}=\bot$ for some $i$ our theorem is obvious.
We will take $a_{i}\neq\bot$ and $b_{i}\neq\bot$, thus there exist
\[
x\in\atoms\prod^{\mathsf{RLD}}a,\quad y\in\atoms\prod^{\mathsf{RLD}}b.
\]
\begin{align*}
\prod^{\mathsf{RLD}}a\suprel{\prod^{(A)}f}\prod^{\mathsf{RLD}}b & \Leftrightarrow\\
\exists x\in\atoms\prod^{\mathsf{RLD}}a,y\in\atoms\prod^{\mathsf{RLD}}b:x\suprel{\prod^{(A)}f}y & \Leftrightarrow\\
\exists x\in\atoms\prod^{\mathsf{RLD}}a,y\in\atoms\prod^{\mathsf{RLD}}b\forall i\in\dom f:\rsupfun{\Pr_{i}}x\suprel{f_{i}}\rsupfun{\Pr_{i}}y & \Leftrightarrow\\
\forall i\in\dom f\exists x\in\atoms a_{i},y\in\atoms b_{i}:x\suprel{f_{i}}y & \Leftrightarrow\\
\forall i\in\dom f:a_{i}\suprel{f_{i}}b_{i}.
\end{align*}
\end{proof}
\begin{thm}
$\left\langle \prod^{(A)}f\right\rangle x=\prod_{i\in\dom f}^{\mathsf{RLD}}\langle f_{i}\rangle\Pr_{i}^{\mathsf{RLD}}x$
for an indexed family $f$ of funcoids and $x\in\atoms^{\mathsf{RLD}(\mylambda i{\dom f}{\Src f_{i}})}$
for every $n\in\dom f$.\end{thm}
\begin{proof}
For every ultrafilter $y\in\mathscr{F}\left(\prod_{i\in\dom f}\Dst f_{i}\right)$
we have:
\begin{align*}
y\nasymp\prod_{i\in\dom f}^{\mathsf{RLD}}\supfun{f_{i}}\Pr_{i}^{\mathsf{RLD}}x & \Leftrightarrow\\
\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}y\nasymp\supfun{f_{i}}\Pr_{i}^{\mathsf{RLD}}x & \Leftrightarrow\\
\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}x\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}y & \Leftrightarrow\\
x\suprel{\prod^{(A)}f}y & \Leftrightarrow\\
y\nasymp\supfun{\prod^{(A)}f}x.
\end{align*}
Thus $\supfun{\prod^{(A)}f}x=\prod_{i\in\dom f}^{\mathsf{RLD}}\supfun{f_{i}}\Pr_{i}^{\mathsf{RLD}}x$.\end{proof}
\begin{cor}
$\langle f\times^{(A)}g\rangle x=\langle f\rangle(\dom x)\times^{\mathsf{RLD}}\langle g\rangle(\im x)$ for atomic~$x$.
\end{cor}

\section{On products and projections}
\begin{conjecture}
For principal funcoids $\prod^{(C)}$and $\prod^{(A)}$ coincide with
the conventional product of binary relations.
\end{conjecture}

\subsection{Staroidal product}

Let $f$ be a staroid, whose form components are boolean lattices.
\begin{defn}
\index{projection!staroidal}\emph{Staroidal projection} of a staroid
$f$ is the filter $\Pr_{k}^{\mathsf{Strd}}f$ corresponding to the
free star
\[
(\val f)_{k}(\mylambda i{(\arity f)\setminus\{k\}}{\top^{(\form f)_{i}}}).
\]
\end{defn}
\begin{prop}
$\Pr_{k}\GR\prod^{\mathsf{Strd}}x=\star x_{k}$ if $x$ is an indexed
family of proper filters, and $k\in\dom x$.\end{prop}
\begin{proof}
~
\begin{align*}
\Pr_{k}\GR\prod^{\mathsf{Strd}}x & =\\
\Pr_{k}\setcond{L\in\form x}{\forall i\in\dom x:x_{i}\nasymp L_{i}} & =\\
\text{(used the fact that \ensuremath{x_{i}} are proper filters)}\\
\setcond{l\in(\form x)_{k}}{x_{k}\nasymp l} & =\fullstar x_{k}.
\end{align*}
\end{proof}
\begin{prop}
\label{Pr-prod-staroid}$\Pr_{k}^{\mathsf{Strd}}\prod^{\mathsf{Strd}}x=x_{k}$
if $x$ is an indexed family of proper filters, and $k\in\dom x$.\end{prop}
\begin{proof}
~
\begin{align*}
\corestar\Pr_{k}^{\mathsf{Strd}}\prod^{\mathsf{Strd}}x & =\\
\left(\val\prod^{\mathsf{Strd}}x\right)_{k}(\mylambda i{(\dom x)\setminus\{k\}}{\top^{(\form x)_{i}}}) & =\\
\setcond{X\in\left(\form\prod^{\mathsf{Strd}}x\right)_{k}}{(\mylambda i{(\dom x)\setminus\{k\}}{\top^{(\form x)_{i}}})\cup\{(k,X)\}\in\GR\prod^{\mathsf{Strd}}x} & =\\
\setcond{X\in\Base x_{k}}{(\forall i\in(\dom x)\setminus\{k\}:\top^{(\form x)_{i}}\nasymp x_{i})\land X\nasymp x_{k}} & =\\
\setcond{X\in\Base x_{k}}{X\nasymp x_{k}} & =\corestar x_{k}.
\end{align*}
Consequently $\Pr_{k}^{\mathsf{Strd}}\prod^{\mathsf{Strd}}x=x_{k}$.
\end{proof}

\subsection{Cross-composition product of pointfree funcoids}
\begin{defn}
\index{funcoid!pointfree!zero}\emph{Zero} pointfree funcoid $\bot^{\mathsf{pFCD}(\mathfrak{A},\mathfrak{B})}$
from a poset $\mathfrak{A}$ to to a poset $\mathfrak{B}$ is the
least pointfree funcoid in the set $\mathsf{pFCD}(\mathfrak{A},\mathfrak{B})$.\end{defn}
\begin{prop}
A pointfree funcoid $f$ is zero iff $\suprel f=\emptyset$.\end{prop}
\begin{proof}
Direct implication is obvious.

Let now $\suprel f=\emptyset$. Then $\supfun fx\asymp y$ for every
$x\in\Src f$, $y\in\Dst f$ and thus $\supfun fx\asymp\supfun fx$.
It is possible only when $\supfun fx=\bot^{\Dst f}$.\end{proof}
\begin{cor}
A pointfree funcoid is zero iff its reverse is zero.\end{cor}
\begin{prop}
Values $x_{i}$ (for every $i\in\dom x$) can be restored from the
value of $\prod^{(C)}x$ provided that $x$ is an indexed family of
non-zero pointfree funcoids, $\Src f_{i}$ (for every $i\in n$)
is an atomic lattice and every $\Dst f_{i}$ is an atomic poset with
greatest element.\end{prop}
\begin{proof}
$\left\langle \prod^{(C)}x\right\rangle \prod^{\mathsf{Strd}}p=\prod_{i\in n}^{\mathsf{Strd}}\langle x_{i}\rangle p_{i}$
by theorem \ref{prod-prod}.

Since $x_{i}$ is non-zero there exist $p$ such that $\supfun{x_{i}}p_{i}$
is non-least. Take $k\in n$, $p'_{i}=p_{i}$ for $i\neq k$ and $p'_{k}=q$
for an arbitrary value $q$; then (using the staroidal projections
from the previous subsection) 
\[
\supfun{x_{k}}q=\Pr_{k}^{\mathsf{Strd}}\prod_{i\in n}^{\mathsf{Strd}}\supfun{x_{i}}p'_{i}=\Pr_{k}^{\mathsf{Strd}}\supfun{\prod^{(C)}x}\prod^{\mathsf{Strd}}p'.
\]
So the value of $x$ can be restored from $\prod^{(C)}x$ by this
formula.
\end{proof}

\subsection{Subatomic product}
\begin{prop}
Values $x_{i}$ (for every $i\in\dom x$) can be restored from the
value of $\prod^{(A)}x$ provided that $x$ is an indexed family of
non-zero funcoids.\end{prop}
\begin{proof}
Fix $k\in\dom f$. Let for some filters $\mathcal{X}$ and $\mathcal{Y}$ 
\[
a=\left\{ \begin{array}{ll}
\top^{\mathscr{F}(\Base(x))} & \text{if }i\neq k;\\
\mathcal{X} & \text{if }i=k
\end{array}\right.\quad\text{and}\quad b=\left\{ \begin{array}{ll}
\top^{\mathscr{F}(\Base(y))} & \text{if }i\neq k;\\
\mathcal{Y} & \text{if }i=k.
\end{array}\right.
\]
Then $\mathcal{X}\suprel{x_{k}}\mathcal{Y}\Leftrightarrow a_{k}\suprel{x_{k}}b_{k}\Leftrightarrow\forall i\in\dom f:a_{i}\suprel{x_{i}}b_{i}\Leftrightarrow\prod^{\mathsf{RLD}}a\suprel{\prod^{(A)}x}\prod^{\mathsf{RLD}}b$.
So we have restored $x_{k}$ from $\prod^{(A)}x$.\end{proof}
\begin{defn}
For every funcoid $f:\prod A\rightarrow\prod B$ (where $A$ and $B$
are indexed families of typed sets) consider the funcoid $\Pr_{k}^{(A)}f$
defined by the formula 
\[
X\rsuprel{\Pr_{k}^{(A)}f}Y\Leftrightarrow\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}X & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right).
\]
\end{defn}
\begin{prop}
$\Pr_{k}^{(A)}f$ is really a funcoid.\end{prop}
\begin{proof}
$\neg\left(\bot\rsuprel{\Pr_{k}^{(A)}f}Y\right)$ is obvious.
\begin{align*}
I\sqcup J\rsuprel{\Pr_{k}^{(A)}f}Y & \Leftrightarrow\\
\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}(I\sqcup J) & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right) & \Leftrightarrow\\
\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}I\sqcup\uparrow^{A_{i}}J & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right) & \Leftrightarrow\\
\begin{aligned}\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}I & \text{if }i=k
\end{array}\right.\right) & \sqcup\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}J & \text{if }i=k
\end{array}\right.\right)\suprel f\\
 & \prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right)
\end{aligned}
 & \Leftrightarrow\\
\begin{aligned}\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}I & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right) & \lor\\
\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}J & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right)
\end{aligned}
 & \Leftrightarrow\\
I\rsuprel{\Pr_{k}^{(A)}f}Y\lor J\rsuprel{\Pr_{k}^{(A)}f}Y.
\end{align*}
The rest follows from symmetry.\end{proof}
\begin{prop}
For every funcoid $f:\prod A\rightarrow\prod B$ (where $A$ and $B$
are indexed families of typed sets) the funcoid $\Pr_{k}^{(A)}f$
conforms to the formula 
\[
\mathcal{X}\suprel{\Pr_{k}^{(A)}f}\mathcal{Y}\Leftrightarrow\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\mathcal{X} & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\mathcal{Y} & \text{if }i=k
\end{array}\right.\right).
\]
\end{prop}
\begin{proof}
~
\begin{align*}
&\mathcal{X}\suprel{\Pr_{k}^{(A)}f}\mathcal{Y} \Leftrightarrow\\
&\forall X\in\up\mathcal{X},Y\in\up\mathcal{Y}:X\rsuprel{\Pr_{k}^{(A)}f}Y \Leftrightarrow\\
&\forall X\in\up\mathcal{X},Y\in\up\mathcal{Y}:\\
&\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\uparrow^{A_{i}}X & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\uparrow^{B_{i}}Y & \text{if }i=k
\end{array}\right.\right) \Leftrightarrow\\
&\forall X\in\up\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\mathcal{X} & \text{if }i=k
\end{array}\right.\right),Y\in\up\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\mathcal{Y} & \text{if }i=k
\end{array}\right.\right):\\
&X\rsuprel fY \Leftrightarrow\\
&\prod_{i\in\dom A}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(A_{i})} & \text{if }i\neq k;\\
\mathcal{X} & \text{if }i=k
\end{array}\right.\right)\suprel f\prod_{i\in\dom B}^{\mathsf{RLD}}\left(\left\{ \begin{array}{ll}
\top^{\mathscr{F}(B_{i})} & \text{if }i\neq k;\\
\mathcal{Y} & \text{if }i=k
\end{array}\right.\right).
\end{align*}
\end{proof}
\begin{rem}
Reloidal product above can be replaced with starred reloidal product,
because of finite number of non-maximal multipliers in the products.\end{rem}
\begin{obvious}
$\Pr_{k}^{(A)}\prod^{(A)}x=x_{k}$ provided that $x$ is an indexed
family of non-zero funcoids.
\end{obvious}

\subsection{Other}
\begin{defn}
\index{product!displaced}\emph{Displaced product} $\prod^{(DP)}f=\downdownarrows\prod^{(C)}f$
for every indexed family of pointfree funcoids, where downgrading
is defined for the filtrator 
\[
\left(\mathsf{FCD}(\StarHom(\Src\circ f),\StarHom(\Dst\circ f)),\mathbf{Rel}\left(\prod(\Src\circ f),\prod(\Dst\circ f)\right)\right).
\]
\end{defn}
\begin{rem}
Displaced product is a funcoid (not just a pointfree funcoid).\end{rem}
\begin{conjecture}
Values $x_{i}$ (for every $i\in\dom x$) can be restored from the
value of $\prod^{(DP)}x$ provided that $x$ is an indexed family
of non-zero funcoids.\end{conjecture}
\begin{defn}
Let $f\in\mathscr{P}\left(Z^{\coprod Y}\right)$ where $Z$ is a set
and $Y$ is a function. 
\[
\Pr_{k}^{(D)}f=\Pr_{k}\setcond{\curry z}{z\in f}.
\]
\end{defn}
\begin{prop}
$\Pr_{k}^{(D)}\prod^{(D)}F=F_{k}$ for every indexed family $F$ of
non-empty relations.\end{prop}
\begin{proof}
Obvious.\end{proof}
\begin{cor}
$\GR\Pr_{k}^{(D)}\prod^{(D)}F=\GR F_{k}$ and $\form\Pr_{k}^{(D)}\prod^{(D)}F=\form F_{k}$
for every indexed family $F$ of non-empty anchored relations.
\end{cor}

\section[Cross-composition and subatomic products]{Relationships between cross-composition and subatomic products}
\begin{prop}
$a\suprel{f\times^{(C)}g}b\Leftrightarrow\dom a\suprel f\dom b\wedge\im a\suprel g\im b$
for funcoids $f$ and $g$ and atomic funcoids $a\in\mathsf{FCD}(\Src f,\Src g)$
and $b\in\mathsf{FCD}(\Dst f,\Dst g)$.\end{prop}
\begin{proof}
~
\begin{align*}
a\suprel{f\times^{(C)}g}b & \Leftrightarrow\\
a\circ f^{-1}\nasymp g^{-1}\circ b & \Leftrightarrow\\
(\dom a\times^{\mathsf{FCD}}\im a)\circ f^{-1}\nasymp g^{-1}\circ(\dom b\times^{\mathsf{FCD}}\im b) & \Leftrightarrow\\
\supfun f\dom a\times^{\mathsf{FCD}}\im a\nasymp\dom b\times^{\mathsf{FCD}}\supfun{g^{-1}}\im b & \Leftrightarrow\\
\supfun f\dom a\nasymp\dom b\land\im a\nasymp\supfun{g^{-1}}\im b & \Leftrightarrow\\
\dom a\suprel f\dom b\wedge\im a\suprel g\im b.
\end{align*}
\end{proof}
\begin{prop}
$\mathcal{X}\suprel{\prod^{(A)}f}\mathcal{Y}\Leftrightarrow\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}\mathcal{X}\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}\mathcal{Y}$
for every indexed family $f$ of funcoids and $\mathcal{X}\in\mathsf{RLD}(\Src\circ f)$,
$\mathcal{Y}\in\mathsf{RLD}(\Dst\circ f)$.\end{prop}
\begin{proof}
~
\begin{align*}
\mathcal{X}\suprel{\prod^{(A)}f}\mathcal{Y} & \Leftrightarrow\\
\exists a\in\atoms\mathcal{X},b\in\atoms\mathcal{Y}:a\suprel{\prod^{(A)}f}b & \Leftrightarrow\\
\exists a\in\atoms\mathcal{X},b\in\atoms\mathcal{Y}\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}a\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}b & \Leftrightarrow\\
\forall i\in\dom f\exists x\in\atoms\Pr_{i}^{\mathsf{RLD}}\mathcal{X},y\in\atoms\Pr_{i}^{\mathsf{RLD}}\mathcal{Y}:x_{i}\suprel{f_{i}}y_{i} & \Leftrightarrow\\
\forall i\in\dom f:\Pr_{i}^{\mathsf{RLD}}\mathcal{X}\suprel{f_{i}}\Pr_{i}^{\mathsf{RLD}}\mathcal{Y}.
\end{align*}
\end{proof}
\begin{cor}
$\mathcal{X}\suprel{f\times^{(A)}g}\mathcal{Y}\Leftrightarrow\dom\mathcal{X}\suprel f\dom\mathcal{Y}\wedge\im\mathcal{X}\suprel g\im\mathcal{Y}$
for funcoids $f$, $g$ and reloids $\mathcal{X}\in\mathsf{RLD}(\Src f,\Src g)$,
and $\mathcal{Y}\in\mathsf{RLD}(\Dst f,\Dst g)$.\end{cor}
\begin{lem}
For every $A\in\mathbf{Rel}(X,Y)$ (for every sets $X$, $Y$) we
have:
\[
\setcond{(\dom a,\im a)}{a\in\atoms\uparrow^{\mathsf{FCD}}A}=\setcond{(\dom a,\im a)}{a\in\atoms\uparrow^{\mathsf{RLD}}A}.
\]
\end{lem}
\begin{proof}
Let $x\in\setcond{(\dom a,\im a)}{a\in\atoms\uparrow^{\mathsf{RLD}}A}$.
Take $x_{0}=\dom a$ and $x_{1}=\im a$ where $a\in\atoms\uparrow^{\mathsf{RLD}}A$.

Then $x_{0}=\dom\tofcd a$ and $x_{1}=\im\tofcd a$ and obviously
$\tofcd a\in\atoms\uparrow^{\mathsf{FCD}}A$. So $x\in\setcond{(\dom a,\im a)}{a\in\atoms\uparrow^{\mathsf{FCD}}A}$.

Let now $x\in\setcond{(\dom a,\im a)}{a\in\atoms\uparrow^{\mathsf{FCD}}A}$.
Take $x_{0}=\dom a$ and $x_{1}=\im a$ where $a\in\atoms\uparrow^{\mathsf{FCD}}A$.

$x_{0}\suprel{\uparrow^{\mathsf{FCD}}A}x_{1}\Leftrightarrow x_{0}\suprel{\tofcd\uparrow^{\mathsf{RLD}}A}x_{1}\Leftrightarrow x_{0}\times^{\mathsf{RLD}}x_{1}\nasymp\uparrow^{\mathsf{RLD}}A$.
Thus there exists atomic reloid $x'$ such that $x'\in\atoms\uparrow^{\mathsf{RLD}}A$
and $\dom x'=x_{0}$, $\im x'=x_{1}$.

So $x\in\setcond{(\dom a',\im a')}{a'\in\atoms\uparrow^{\mathsf{RLD}}A}$.\end{proof}
\begin{thm}
\label{c-a-princ}$\uparrow^{\mathsf{FCD}}A\suprel{f\times^{(C)}g}\uparrow^{\mathsf{FCD}}B\Leftrightarrow\uparrow^{\mathsf{RLD}}A\suprel{f\times^{(A)}g}\uparrow^{\mathsf{RLD}}B$
for funcoids $f$, $g$, and $\mathbf{Rld}$-morphisms $A:\Src f\rightarrow\Src g$,
and $B:\Dst f\rightarrow\Dst g$.\end{thm}
\begin{proof}
\begin{multline*}
\uparrow^{\mathsf{FCD}}A\suprel{f\times^{(C)}g}\uparrow^{\mathsf{FCD}}B\Leftrightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{FCD}}A,b\in\atoms\uparrow^{\mathsf{FCD}}B:a\suprel{f\times^{(C)}g}b\Leftrightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{FCD}}A,b\in\atoms\uparrow^{\mathsf{FCD}}B:\left(\dom a\suprel f\dom b\wedge\im a\suprel g\im b\right)\Rightarrow\\
\exists a_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}A,a_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}A,\\
b_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}B,b_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}B:\left(a_{0}\suprel fb_{0}\wedge a_{1}\suprel gb_{1}\right).
\end{multline*}


On the other hand:
\begin{multline*}
\exists a_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}A,a_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}A,\\
b_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}B,b_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}B:\left(a_{0}\suprel fb_{0}\wedge a_{1}\suprel gb_{1}\right)\Rightarrow\\
\exists a_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}A,a_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}A,\\
b_{0}\in\atoms\dom\uparrow^{\mathsf{FCD}}B,b_{1}\in\atoms\im\uparrow^{\mathsf{FCD}}B:(a_{0}\times^{\mathsf{FCD}}b_{0}\nasymp f\wedge a_{1}\times^{\mathsf{FCD}}b_{1}\nasymp g)\Rightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{FCD}}A,b\in\atoms\uparrow^{\mathsf{FCD}}B:\left(\dom a\suprel f\dom b\wedge\im a\suprel g\im b\right).
\end{multline*}


Also using the lemma we have 
\begin{multline*}
\exists a\in\atoms\uparrow^{\mathsf{FCD}}A,b\in\atoms\uparrow^{\mathsf{FCD}}B:\left(\dom a\suprel f\dom b\wedge\im a\suprel g\im b\right)\Leftrightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{RLD}}A,b\in\atoms\uparrow^{\mathsf{RLD}}B:\left(\dom a\suprel f\dom b\wedge\im a\suprel g\im b\right).
\end{multline*}


So 
\begin{multline*}
\uparrow^{\mathsf{FCD}}A\suprel{f\times^{(C)}g}\uparrow^{\mathsf{FCD}}B\Leftrightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{RLD}}A,b\in\atoms\uparrow^{\mathsf{RLD}}B:\left(\dom a\suprel f\dom b\wedge\im a\suprel g\im b\right)\Leftrightarrow\\
\exists a\in\atoms\uparrow^{\mathsf{RLD}}A,b\in\atoms\uparrow^{\mathsf{RLD}}B:a\suprel{f\times^{(A)}g}b\Leftrightarrow\\
\uparrow^{\mathsf{RLD}}A\suprel{f\times^{(A)}g}\uparrow^{\mathsf{RLD}}B.
\end{multline*}
\end{proof}
\begin{cor}
$f\times^{(A)}g=\upuparrows\downdownarrows(f\times^{(C)}g)$ where
downgrading is taken on the filtrator 
\[
\left(\mathsf{pFCD}(\mathsf{FCD}(\Src\circ f),\mathsf{FCD}(\Dst\circ f)),\mathsf{FCD}\left(\mathscr{P}\prod(\Src\circ f),\mathscr{P}\prod(\Dst\circ f)\right)\right)
\]
and upgrading is taken on the filtrator 
\[
\left(\mathsf{pFCD}(\mathsf{RLD}(\Src\circ f),\mathsf{RLD}(\Dst\circ f)),\mathsf{FCD}\left(\mathscr{P}\prod(\Src\circ f),\mathscr{P}\prod(\Dst\circ f)\right)\right).
\]
where we equate $n$-ary relations with corresponding principal multifuncoids
and principal multireloids, when appropriate.\end{cor}
\begin{proof}
Leave as an exercise for the reader.\end{proof}
\begin{conjecture}
$\uparrow^{\mathsf{FCD}}A\suprel{\prod^{(C)}f}\uparrow^{\mathsf{FCD}}B\Leftrightarrow\uparrow^{\mathsf{RLD}}A\suprel{\prod^{(A)}f}\uparrow^{\mathsf{RLD}}B$
for every indexed family $f$ of funcoids and $A\in\mathscr{P}\prod_{i\in\dom f}\Src f_{i}$,
$B\in\mathscr{P}\prod_{i\in\dom f}\Dst f_{i}$.\end{conjecture}
\begin{thm}
For every filters $a_{0}$, $a_{1}$, $b_{0}$, $b_{1}$ we have 
\[
a_{0}\times^{\mathsf{FCD}}b_{0}\suprel{f\times^{(C)}g}a_{1}\times^{\mathsf{FCD}}b_{1}\Leftrightarrow a_{0}\times^{\mathsf{RLD}}b_{0}\suprel{f\times^{(A)}g}a_{1}\times^{\mathsf{RLD}}b_{1}.
\]
\end{thm}
\begin{proof}
~
\begin{multline*}
a_{0}\times^{\mathsf{RLD}}b_{0}\suprel{f\times^{(A)}g}a_{1}\times^{\mathsf{RLD}}b_{1}\Leftrightarrow\\
\forall A_{0}\in a_{0},B_{0}\in b_{0},A_{1}\in a_{1},B_{1}\in b_{1}:A_{0}\times B_{0}\rsuprel{f\times^{(A)}g}A_{1}\times B_{1}.
\end{multline*}


\[
A_{0}\times B_{0}\rsuprel{f\times^{(A)}g}A_{1}\times B_{1}\Leftrightarrow A_{0}\times B_{0}\rsuprel{f\times^{(C)}g}A_{1}\times B_{1}\Leftrightarrow A_{0}\rsuprel fA_{1}\land B_{0}\rsuprel gB_{1}.
\]
(Here by $A_{0}\times B_{0}\rsuprel{f\times^{(C)}g}A_{1}\times B_{1}$
I mean $\uparrow^{\mathsf{FCD}(\Base a,\Base b)}(A_{0}\times B_{0})\rsuprel{f\times^{(C)}g}\uparrow^{\mathsf{FCD}(\Base a,\Base b)}(A_{1}\times B_{1})$.)

Thus it is equivalent to $a_{0}\suprel fa_{1}\wedge b_{0}\suprel gb_{1}$
that is $a_{0}\times^{\mathsf{FCD}}b_{0}\rsuprel{f\times^{(C)}g}a_{1}\times^{\mathsf{FCD}}b_{1}$.

(It was used the corollary~\ref{cc-over-fcd}.)
\end{proof}
Can the above theorem be generalized for the infinitary case?

\section{Cross-inner and cross-outer product}

Let $f$ be an indexed family of funcoids.

\begin{defn}
  $\prod^{\operatorname{in}}_{i \in \dom f} f = \prod^{(C)}_{i \in \dom f}
  \torldin f_i$ (\emph{cross-inner product}).
\end{defn}

\begin{defn}
  $\prod^{\operatorname{out}}_{i \in \dom f} f = \prod^{(C)}_{i \in \dom
  f} \torldout f_i$ (\emph{cross-outer product}).
\end{defn}

\begin{prop}
  $\prod^{\operatorname{in}}_{i \in \dom f} f$ and $\prod^{\operatorname{out}}_{i \in
  \dom f} f$ are funcoids (not just pointfree funcoids).
\end{prop}

\begin{proof}
  They are both morphisms $\StarHom (\lambda i \in \dom f :
  \Src f_i) \rightarrow \StarHom (\lambda i \in \dom f :
  \Src f_i)$ for the category of multireloids with star-morphisms, that
  is $\StarHom (\lambda i \in \dom f : \Src f_i)$ is the set
  of filters on the cartesian product $\prod_{i \in \dom f} \Src
  f_i$ and likewise for $\StarHom (\lambda i \in \dom f :
  \Src f_i)$.
\end{proof}

\begin{obvious}
For every funcoids $f$ and $g$
\begin{enumerate}
  \item $f \times^{\operatorname{in}} g = \torldin f
  \times^{(C)} \torldin g$;
  
  \item $f \times^{\operatorname{out}} g = \torldout f
  \times^{(C)} \torldout g$.
\end{enumerate}
\end{obvious}

\begin{cor}
  ~
  \begin{enumerate}
    \item $\langle f \times^{\operatorname{in}} g \rangle a =
    \torldin g \circ a \circ
    \torldin f^{- 1}$;
    
    \item $\langle f \times^{\operatorname{out}} g \rangle a =
    \torldout g \circ a \circ
    \torldout f^{- 1}$
  \end{enumerate}
\end{cor}

\begin{cor}
  For every funcoids $f$ and $g$ and filters $a$ and $b$ on suitable sets:
  \begin{enumerate}
    \item $a \mathrel{[f \times^{\operatorname{in}} g]} b \Leftrightarrow b \nasymp
    \torldin g \circ a \circ
    \torldin f^{- 1} \Leftrightarrow b \circ
    \torldin f \nasymp
    \torldin g \circ a$;
    
    \item $a \mathrel{[f \times^{\operatorname{out}} g]} b \Leftrightarrow b \nasymp
    \torldout g \circ a \circ
    \torldout f^{- 1} \Leftrightarrow b \circ
    \torldout f \nasymp
    \torldout g \circ a$.
  \end{enumerate}
\end{cor}

\begin{prop}
  Knowing that every $f_i$ is nonzero, we can restore the values of $f_i$ from
  the value of $\prod^{\operatorname{in}}_{i \in \dom f} f$.
\end{prop}

\begin{proof}
  It follows that every $\torldin f_i$ is nonzero,
  thus we can restore each $\torldin f_i$ from
  $\prod^{(C)}_{i \in \dom f} \torldin f_i =
  \prod^{\operatorname{in}}_{i \in \dom f} f$ and then we know $f_i =
  \tofcd \torldin f_i$.
\end{proof}

\begin{example}
  The values of $f$ and $g$ cannot be restored from $f \times^{\operatorname{out}} g$
  for some nonzero funcoids $f$ and $g$.
\end{example}

\begin{proof}
  Obviously $\id^{\mathsf{FCD}}_{\Omega (\mathbb{N})} \neq
  \id^{\mathsf{FCD}}_{\Omega (\mathbb{R})}$, but
  $\id^{\mathsf{FCD}}_{\Omega (\mathbb{N})} \times^{\operatorname{out}}
  \id^{\mathsf{FCD}}_{\Omega (\mathbb{N})} =
  \torldout \id^{\mathsf{FCD}}_{\Omega
  (\mathbb{N})} \times^{(C)} \torldout
  \id^{\mathsf{FCD}}_{\Omega (\mathbb{N})} = \bot \times^{(C)}
  \bot = \torldout
  \id^{\mathsf{FCD}}_{\Omega (\mathbb{R})} \times^{(C)}
  \torldout \id^{\mathsf{FCD}}_{\Omega
  (\mathbb{R})} = \id^{\mathsf{FCD}}_{\Omega (\mathbb{R})}
  \times^{\operatorname{out}} \id^{\mathsf{FCD}}_{\Omega (\mathbb{R})}$.
  
  That is the product $f \times^{\operatorname{out}} g$ is the same if we take $f = g
  = \id^{\mathsf{FCD}}_{\Omega (\mathbb{N})}$ and if we take $f
  = g = \id^{\mathsf{FCD}}_{\Omega (\mathbb{R})}$.
\end{proof}

\begin{question}
  Which of the following are pairwise equal (for a. two funcoids, b. any
  (possibly infinite) number of funcoids)?
  \begin{enumerate}
    \item  subatomic product;
    
    \item displaced product;
    
    \item cross-inner product.
  \end{enumerate}
\end{question}

\section{\index{continuity!coordinate-wise}Coordinate-wise continuity}
\begin{thm}
Let $\mu$ and $\nu$ be indexed (by some index set $n$) families
of endomorphisms for a quasi-invertible dagger category with star-morphisms,
and $f_{i}\in\Hom(\Ob\mu_{i},\Ob\nu_{i})$ for every $i\in n$. Then:
\begin{enumerate}
\item $\forall i\in n:f_{i}\in\continuous(\mu_{i},\nu_{i})\Rightarrow\prod^{(C)}f\in\continuous\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous'(\mu_{i},\nu_{i})\Rightarrow\prod^{(C)}f\in\continuous'\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous''(\mu_{i},\nu_{i})\Rightarrow\prod^{(C)}f\in\continuous''\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right)$.
\end{enumerate}
\end{thm}
\begin{proof}
Using the corollary \ref{prod-n-inf-comps}:

~
\begin{multline*}
\forall i\in n:f_{i}\in\mathrm{C}(\mu_{i},\nu_{i})\Leftrightarrow\forall i\in n:f_{i}\circ\mu_{i}\sqsubseteq\nu_{i}\circ f_{i}\Rightarrow\prod_{i\in n}^{(C)}(f_{i}\circ\mu_{i})\sqsubseteq\prod_{i\in n}^{(C)}(\nu_{i}\circ f_{i})\Leftrightarrow\\
\left(\prod^{(C)}f\right)\circ\left(\prod^{(C)}\mu\right)\sqsubseteq\left(\prod^{(C)}\nu\right)\circ\left(\prod^{(C)}f\right)\Leftrightarrow\prod^{(C)}f\in\mathrm{C}\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right).
\end{multline*}


~
\begin{multline*}
\forall i\in n:f_{i}\in\mathrm{C}'(\mu_{i},\nu_{i})\Leftrightarrow\forall i\in n:\mu_{i}\sqsubseteq f_{i}^{\dagger}\circ\nu_{i}\circ f_{i}\Rightarrow\prod^{(C)}\mu\sqsubseteq\prod_{i\in n}^{(C)}(f_{i}^{\dagger}\circ\nu_{i}\circ f_{i})\Leftrightarrow\\
\prod^{(C)}\mu\sqsubseteq\left(\prod_{i\in n}^{(C)}f_{i}^{\dagger}\right)\circ\left(\prod_{i\in n}^{(C)}\nu_{i}\right)\circ\left(\prod_{i\in n}^{(C)}f_{i}\right)\Leftrightarrow\\
\prod^{(C)}\mu\sqsubseteq\left(\prod_{i\in n}^{(C)}f_{i}\right)^{\dagger}\circ\left(\prod_{i\in n}^{(C)}\nu_{i}\right)\circ\left(\prod_{i\in n}^{(C)}f_{i}\right)\Leftrightarrow\prod^{(C)}f\in\mathrm{C}'\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right).
\end{multline*}


~
\begin{multline*}
\forall i\in n:f_{i}\in\mathrm{C}''(\mu_{i},\nu_{i})\Leftrightarrow\forall i\in n:f_{i}\circ\mu_{i}\circ f_{i}^{\dagger}\sqsubseteq\nu_{i}\Rightarrow\\
\prod_{i\in n}^{(C)}(f_{i}\circ\mu_{i}\circ f_{i}^{\dagger})\sqsubseteq\prod_{i\in n}^{(C)}\nu_{i}\Leftrightarrow\prod_{i\in n}^{(C)}f_{i}\circ\prod_{i\in n}^{(C)}\mu_{i}\circ\prod_{i\in n}^{(C)}f_{i}^{\dagger}\sqsubseteq\prod_{i\in n}^{(C)}\nu_{i}\Leftrightarrow\\
\prod_{i\in n}^{(C)}f_{i}\circ\prod_{i\in n}^{(C)}\mu_{i}\circ\left(\prod_{i\in n}^{(C)}f_{i}\right)^{\dagger}\sqsubseteq\prod_{i\in n}^{(C)}\nu_{i}\Leftrightarrow\prod_{i\in n}^{(C)}f_{i}\in\mathrm{C}''\left(\prod^{(C)}\mu,\prod^{(C)}\nu\right).
\end{multline*}
\end{proof}
\begin{thm}
Let $\mu$ and $\nu$ be indexed (by some index set $n$) families
of endofuncoids, and $f_{i}\in\mathsf{FCD}(\Ob\mu_{i},\Ob\nu_{i})$
for every $i\in n$. Then:
\begin{enumerate}
\item $\forall i\in n:f_{i}\in\continuous(\mu_{i},\nu_{i})\Rightarrow\prod^{(A)}f\in\continuous\left(\prod^{(A)}\mu,\prod^{(A)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous'(\mu_{i},\nu_{i})\Rightarrow\prod^{(A)}f\in\continuous'\left(\prod^{(A)}\mu,\prod^{(A)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous''(\mu_{i},\nu_{i})\Rightarrow\prod^{(A)}f\in\continuous''\left(\prod^{(A)}\mu,\prod^{(A)}\nu\right)$.
\end{enumerate}
\end{thm}
\begin{proof}
Similar to the previous theorem.\end{proof}
\begin{thm}
Let $\mu$ and $\nu$ be indexed (by some index set $n$) families
of pointfree endofuncoids between posets with least elements, and
$f_{i}\in\mathsf{pFCD}(\Ob\mu_{i},\Ob\nu_{i})$ for every $i\in n$.
Then:
\begin{enumerate}
\item $\forall i\in n:f_{i}\in\continuous(\mu_{i},\nu_{i})\Rightarrow\prod^{(S)}f\in\continuous\left(\prod^{(S)}\mu,\prod^{(S)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous'(\mu_{i},\nu_{i})\Rightarrow\prod^{(S)}f\in\continuous'\left(\prod^{(S)}\mu,\prod^{(S)}\nu\right)$;
\item $\forall i\in n:f_{i}\in\continuous''(\mu_{i},\nu_{i})\Rightarrow\prod^{(S)}f\in\continuous''\left(\prod^{(S)}\mu,\prod^{(S)}\nu\right)$.
\end{enumerate}
\end{thm}
\begin{proof}
Similar to the previous theorem.
\end{proof}

\section{Upgrading and downgrading multifuncoids}
\begin{lem}
\label{mf-f-base}$\setcond{\rsupfun f_{k}X}{X\in\up^{\prod_{i\in n\setminus\{k\}}\mathfrak{Z}_{i}}\mathcal{X}}$
is a filter base on $\mathfrak{A}_{k}$ for every family $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
of primary filtrators where $i\in n$ for some index set $n$ (provided that
$f$ is a multifuncoid of the form $\mathfrak{Z}$ and $k\in n$ and
$\mathcal{X}\in\prod_{i\in n\setminus\{k\}}\mathfrak{A}_{i}$).\end{lem}
\begin{proof}
Let $\mathcal{K},\mathcal{L}\in\setcond{\rsupfun f_{k}X}{X\in\up\mathcal{X}}$.
Then there exist $X,Y\in\up\mathcal{X}$ such that $\mathcal{K}=\rsupfun f_{k}X$,
$\mathcal{L}=\rsupfun f_{k}Y$. We can take $Z\in\up\mathcal{X}$ such
that $Z\sqsubseteq X,Y$. Then evidently $\rsupfun{f}_{k}Z\sqsubseteq\mathcal{K}$
and $\rsupfun f_{k}Z\sqsubseteq\mathcal{L}$ and $\rsupfun f_{k}Z\in\setcond{\rsupfun f_{k}X}{X\in\up\mathcal{X}}$.\end{proof}
\begin{defn}
\emph{Square} mult is a mult whose base and core are the same.
\end{defn}

\begin{defn}
$\mathcal{L}\in\suprel f\Leftrightarrow\forall L\in\up\mathcal{L}:L\in\mathord{\rsuprel f}$
for every mult $f$.
\end{defn}

\begin{defn}
$\supfun f\mathcal{X}=\bigsqcap_{X\in\up\mathcal{X}}\rsupfun fX$
for every mult $f$ whose base is a complete lattice.
\end{defn}

\begin{defn}
Let $f$ be a mult whose base is a complete lattice. \emph{Upgrading}
of this mult is square mult $\upuparrows f$ with $\base\upuparrows f=\core\upuparrows f=\base f$
and $\rsupfun{\upuparrows f}\mathcal{X}=\supfun f\mathcal{X}$ for
every $\mathcal{X}\in\prod\base f$.\end{defn}
\begin{lem}
$\mathcal{L}_{i}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}\Leftrightarrow\forall L\in\up\mathcal{L}:L_{i}\nasymp\rsupfun fL|_{(\dom\mathcal{L})\setminus\{i\}}$,
if every $((\base f)_{i},(\core f)_{i})$ is a primary filtrator over
a meet-semilattice with least element.\end{lem}
\begin{proof}
~
\begin{align*}
\mathcal{L}_{i}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}} & \Leftrightarrow\\
\mathcal{L}_{i}\nasymp\supfun f\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}} & \Leftrightarrow\\
\mathcal{L}_{i}\nasymp\bigsqcap_{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}\rsupfun fX & \Leftrightarrow\\
\mathcal{L}_{i}\sqcap\bigsqcap_{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}\rsupfun fX\ne\bot & \Leftrightarrow\\
\bigsqcap_{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}\rsupfun{\mathcal{L}_{i}\sqcap}\rsupfun fX\ne\bot & \Leftrightarrow\\
\bigsqcap\setcond{\mathcal{L}_{i}\sqcap\rsupfun fX}{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}\ne\bot & \Leftrightarrow\text{ (*)}\\
\bot\notin\setcond{\mathcal{L}_{i}\sqcap\rsupfun fX}{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}} & \Leftrightarrow\\
\forall X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}} : \mathcal{L}_{i}\sqcap\rsupfun fX \ne \bot & \Leftrightarrow\text{ (**)}\\
\forall L\in\up\mathcal{L}:\rsupfun fL|_{\dom\mathcal{L}}\sqcap L_{i}\ne\bot & \Leftrightarrow\\
\forall L\in\up\mathcal{L}:L_{i}\nasymp\rsupfun fL|_{\dom\mathcal{L}}.
\end{align*}

({*}) because $\setcond{\mathcal{L}_{i}\sqcap\rsupfun fX}{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}$
is a filter base (by lemma \ref{mf-f-base}) of the filter $\bigsqcap\setcond{\mathcal{L}_{i}\sqcap\rsupfun fX}{X\in\up\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}}$.

({**}) by theorem~\ref{when-sep-core}.
\end{proof}
\begin{prop}
$\upuparrows f$ is a square multifuncoid, if every $((\base f)_{i},(\core f)_{i})$
is a primary filtrator over a bounded meet-semilattice.\end{prop}
\begin{proof}
Our filtrators are with complete base by corollary \ref{filt-is-complete}.

$\mathcal{L}_{i}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}\Leftrightarrow\forall L\in\up\mathcal{L}:L_{i}\nasymp\rsupfun fL|_{(\dom\mathcal{L})\setminus\{i\}}$
by the lemma.

Similarly $\mathcal{L}_{j}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{j\}}\Leftrightarrow\forall L\in\up\mathcal{L}:L_{j}\nasymp\rsupfun fL|_{(\dom\mathcal{L})\setminus\{j\}}$.
So $\mathcal{L}_{i}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}\Leftrightarrow\mathcal{L}_{j}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{j\}}$
because $L_{i}\nasymp\rsupfun fL|_{(\dom\mathcal{L})\setminus\{i\}}\Leftrightarrow L_{j}\nasymp\rsupfun fL|_{(\dom\mathcal{L})\setminus\{j\}}$.\end{proof}
\begin{prop}
$\mathord{\rsuprel{\upuparrows f}}=\mathord{\suprel f}$ if every
$((\base f)_{i},(\core f)_{i})$ is a primary filtrator over a bounded meet-semilattice.\end{prop}
\begin{proof}
Our filtrators are with complete base by corollary \ref{filt-is-complete}.
\begin{align*}
\mathcal{L}\in\mathord{\rsuprel{\upuparrows f}} & \Leftrightarrow\\
\mathcal{L}_{i}\nasymp\rsupfun{\upuparrows f}\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}} & \Leftrightarrow\text{ (by the lemma)}\\
\forall L\in\up\mathcal{L}:L_{i}\nasymp\rsupfun fL|_{(\dom L)\setminus\{i\}} & \Leftrightarrow\\
\forall L\in\up\mathcal{L}:L\in\mathord{\rsuprel f} & \Leftrightarrow\\
\mathcal{L}\in\mathord{\suprel f}.
\end{align*}
\end{proof}
\begin{prop}
$\mathcal{L}\in\mathord{\suprel f}\Leftrightarrow\mathcal{L}_{i}\nasymp\langle f\rangle\mathcal{L}|_{(\dom\mathcal{L})\setminus\{i\}}$
if every $((\base f)_{i},(\core f)_{i})$ is a primary filtrator over
a bounded meet-semilattice.\end{prop}
\begin{proof}
Our filtrators are with complete base by corollary \ref{filt-is-complete}.

The theorem holds because $\upuparrows f$ is a multifuncoid and $\mathord{\suprel f}=\mathord{\rsuprel{\upuparrows f}}$
and $\supfun f=\rsupfun{\upuparrows f}$.
\end{proof}
\begin{prop}
$\Lambda\upuparrows g=\upuparrows\Lambda g$ for every prestaroid
$g$ on boolean lattices.\end{prop}
\begin{proof}
Our filtrators are with separable core by theorem \ref{when-sep-core}.

\begin{align*}
Y\in\rsupfun{\Lambda\upuparrows g}_{i}\mathcal{L} & \Leftrightarrow\\
\mathcal{L}\cup\{(i,Y)\}\in\GR\upuparrows g & \Leftrightarrow\\
\up(\mathcal{L}\cup\{(i,Y)\})\subseteq\GR g & \Leftrightarrow\\
\forall K\in\up(\mathcal{L}\cup\{(i,Y)\}):K\in\GR g & \Leftrightarrow\\
\forall X\in\up\mathcal{L},P\in\up Y:X\cup\{(i,P)\}\in\GR g & \Leftrightarrow\\
\forall X\in\up\mathcal{L},P\in\up Y:P\nasymp(\val g)_{i}X & \Leftrightarrow\\
\forall X\in\up\mathcal{L}:Y\nasymp(\val g)_{i}X & \Leftrightarrow\\
\forall X\in\up\mathcal{L}:Y\in(\val g)_{i}X & \Leftrightarrow\\
\forall X\in\up\mathcal{L}:X\cup\{(i,Y)\}\in\GR g & \Leftrightarrow\\
\forall X\in\up\mathcal{L}:Y\in\rsupfun{\Lambda g}X & \Leftrightarrow\\
\forall X\in\up\mathcal{L}:Y\sqcap\rsupfun{\Lambda g}X\ne\bot & \Leftrightarrow\\
\bot\notin\setcond{Y\sqcap\rsupfun{\Lambda g}X}{X\in\up\mathcal{L}} & \Leftrightarrow\text{ (*)}\\
\bigsqcap\setcond{Y\sqcap\rsupfun{\Lambda g}X}{X\in\up\mathcal{L}}\ne\bot & \Leftrightarrow\\
\bigsqcap_{X\in\up\mathcal{L}}\rsupfun{Y\sqcap}\rsupfun{\Lambda g}X\ne\bot & \Leftrightarrow\\
Y\nasymp\bigsqcap_{X\in\up\mathcal{L}}\rsupfun{\Lambda g}X & \Leftrightarrow\\
Y\in\bigsqcap_{X\in\up\mathcal{L}}\rsupfun{\Lambda g}X & \Leftrightarrow\\
Y\in\supfun{\Lambda g}_{i}\mathcal{L} & \Leftrightarrow\\
Y\in\rsupfun{\upuparrows\Lambda g}_{i}\mathcal{L}.
\end{align*}


({*}) because $\setcond{Y\sqcap\rsupfun{\Lambda g}X}{X\in\up\mathcal{L}}$
is a filter base (by the lemma \ref{mf-f-base}) of $\bigsqcap\setcond{Y\sqcap\rsupfun{\Lambda g}X}{X\in\up\mathcal{L}}$.\end{proof}
\begin{defn}
Fix an indexed family $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$ of filtrators.
\emph{Downgrading} of a square mult $f$ of the form $(\mathfrak{A}_{i},\mathfrak{A}_{i})$
is the mult $\downdownarrows f$ of the form $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
defined by the formula $\langle\downdownarrows f\rangle_{i}^{\ast}=\supfun f_{i}^{\ast}|_{\mathfrak{Z}_{i}}$
for every $i$.\end{defn}
\begin{obvious}
Downgrading of a square multifuncoid is a multifuncoid.
\end{obvious}

\begin{obvious}
$\downdownarrows\upuparrows f=f$ for every mult $f$ of the form
$(\mathfrak{A}_{i},\mathfrak{Z}_{i})$.\end{obvious}
\begin{prop}
Let $f$ be a square mult whose base is a complete lattice. Then $\upuparrows\downdownarrows f=f$.\end{prop}
\begin{proof}
$\left\langle \upuparrows\downdownarrows f\right\rangle ^{\ast}\mathcal{X}=\bigsqcap_{X\in\up\mathcal{X}}\langle\downdownarrows f\rangle^{\ast}X=\bigsqcap_{X\in\up\mathcal{X}}\langle f\rangle^{\ast}X=\supfun f^{\ast}\mathcal{X}$
for every $\mathcal{X}\in\prod_{i\in\arity f}(\base f)_{i}$.
\end{proof}

\section{On pseudofuncoids}
\begin{defn}
\index{pseudofuncoid}\emph{Pseudofuncoid} from a set $A$ to a set
$B$ is a relation $f$ between filters on $A$ and $B$ such that:
\begin{eqnarray*}
 & \neg\left(\mathcal{I}\mathrel{f}\bot\right),\hspace{1em}\mathcal{I}\sqcup\mathcal{J}\mathrel{f}\mathcal{K}\Leftrightarrow\mathcal{I}\mathrel{f}\mathcal{K}\vee\mathcal{J}\mathrel{f}\mathcal{K}\hspace{1em}\text{ (for every \ensuremath{\mathcal{I},\mathcal{J}\in\mathscr{F}(A)}, \ensuremath{\mathcal{K}\in\mathscr{F}(B)})},\\
 & \neg\left(\bot\mathrel{f}\mathcal{I}\right),\hspace{1em}\mathcal{K}\mathrel{f}\mathcal{I}\sqcup\mathcal{J}\Leftrightarrow\mathcal{K}\mathrel{f}\mathcal{I}\vee\mathcal{K}\mathrel{f}\mathcal{J}\hspace{1em}\text{ (for every \ensuremath{\mathcal{I},\mathcal{J}\in\mathscr{F}(B)}, \ensuremath{\mathcal{K}\in\mathscr{F}(A)})}.
\end{eqnarray*}
\end{defn}
\begin{obvious}
Pseudofuncoid is just a staroid of the form $(\mathscr{F}(A),\mathscr{F}(B))$.
\end{obvious}

\begin{obvious}
$\suprel f$ is a pseudofuncoid for every funcoid $f$.\end{obvious}
\begin{example}
If $A$ and $B$ are infinite sets, then there exist two different
pseudofuncoids $f$ and $g$ from $A$ to $B$ such that $f\cap(\mathscr{T}A\times\mathscr{T}B)=g\cap(\mathscr{T}A\times\mathscr{T}B)=\mathord{\suprel c}\cap(\mathscr{T}A\times\mathscr{T}B)$
for some funcoid $c$.\end{example}
\begin{rem}
Considering a pseudofuncoid $f$ as a staroid, we get $f\cap(\mathscr{T}A\times\mathscr{T}B)=\downdownarrows f$.\end{rem}
\begin{proof}
Take 
\[
f=\setcond{(\mathcal{X},\mathcal{Y})}{\mathcal{X}\in\mathscr{F}(A),\mathcal{Y}\in\mathscr{F}(B),\bigcap\mathcal{X}\text{ and }\bigcap\mathcal{Y}\text{ are infinite}}
\]
and 
\[
g=f\cup\setcond{(\mathcal{X},\mathcal{Y})}{\mathcal{X}\in\mathscr{F}(A),\mathcal{Y}\in\mathscr{F}(B),\mathcal{X}\sqsupseteq a,\mathcal{Y}\sqsupseteq b}
\]
where $a$ and $b$ are nontrivial ultrafilters on $A$ and $B$ correspondingly,
$c$ is the funcoid defined by the relation 
\[
\mathord{\rsuprel c}=\delta=\setcond{(X,Y)}{X\in\subsets A,Y\in\subsets B,X\text{ and }Y\text{ are infinite}}.
\]
First prove that $f$ is a pseudofuncoid. The formulas $\neg\left(\mathcal{I}\mathrel{f}\bot\right)$
and $\neg\left(\bot\mathrel{f}\mathcal{I}\right)$ are obvious. We have 
\begin{multline*}
\mathcal{I}\sqcup\mathcal{J}\mathrel{f}\mathcal{K}\Leftrightarrow\bigcap(\mathcal{I}\sqcup\mathcal{J})\text{ and }\bigcap\mathcal{Y}\text{ are infinite}\Leftrightarrow\\
\bigcap\mathcal{I}\cup\bigcap\mathcal{J}\text{ and }\bigcap\mathcal{Y}\text{ are infinite}\Leftrightarrow\left(\bigcap\mathcal{I}\text{ or }\bigcap\mathcal{J}\text{ is infinite}\right)\wedge\bigcap\mathcal{Y}\text{ is infinite}\Leftrightarrow\\
\left(\bigcap\mathcal{I}\text{ and }\bigcap\mathcal{Y}\text{ are infinite}\right)\vee\left(\bigcap\mathcal{J}\text{ and }\bigcap\mathcal{Y}\text{ are infinite}\right)\Leftrightarrow\\
\mathcal{I}\mathrel{f}\mathcal{K}\vee\mathcal{J}\mathrel{f}\mathcal{K}.
\end{multline*}
Similarly $\mathcal{K}\mathrel{f}\mathcal{I}\sqcup\mathcal{J}\Leftrightarrow\mathcal{K}\mathrel{f}\mathcal{I}\vee\mathcal{K}\mathrel{f}\mathcal{J}$.
So $f$ is a pseudofuncoid.

Let now prove that $g$ is a pseudofuncoid. The formulas $\neg\left(\mathcal{I}\mathrel{g}\bot\right)$
and $\neg\left(\bot\mathrel{g}\mathcal{I}\right)$ are obvious. Let $\mathcal{I}\sqcup\mathcal{J}\mathrel{g}\mathcal{K}$.
Then either $\mathcal{I}\sqcup\mathcal{J}\mathrel{f}\mathcal{K}$
and then $\mathcal{I}\sqcup\mathcal{J}\mathrel{g}\mathcal{K}$ or
$\mathcal{I}\sqcup\mathcal{J}\sqsupseteq a$ and then $\mathcal{I}\sqsupseteq a\vee\mathcal{J}\sqsupseteq a$
thus having $\mathcal{I}\mathrel{g}\mathcal{K}\vee\mathcal{J}\mathrel{g}\mathcal{K}$.
So $\mathcal{I}\sqcup\mathcal{J}\mathrel{g}\mathcal{K}\Rightarrow\mathcal{I}\mathrel{g}\mathcal{K}\vee\mathcal{J}\mathrel{g}\mathcal{K}$.
The reverse implication is obvious. We have $\mathcal{I}\sqcup\mathcal{J}\mathrel{g}\mathcal{K}\Leftrightarrow\mathcal{I}\mathrel{g}\mathcal{K}\vee\mathcal{J}\mathrel{g}\mathcal{K}$
and similarly $\mathcal{K}\mathrel{g}\mathcal{I}\sqcup\mathcal{J}\Leftrightarrow\mathcal{K}\mathrel{g}\mathcal{I}\vee\mathcal{K}\mathrel{g}\mathcal{J}$.
So $g$ is a pseudofuncoid.

Obviously $f\neq g$ ($a\mathrel{g}b$ but not $a\mathrel{f}b$).

It remains to prove $f\cap(\mathscr{T}A\times\mathscr{T}B)=g\cap(\mathscr{T}A\times\mathscr{T}B)=\mathord{\suprel c}\cap(\mathscr{T}A\times\mathscr{T}B)$.
Really, $f\cap(\mathscr{T}A\times\mathscr{T}B)=\mathord{\suprel c}\cap(\mathscr{T}A\times\mathscr{T}B)$
is obvious. If $(\uparrow^{A}X,\uparrow^{B}Y)\in g\cap(\mathscr{T}A\times\mathscr{T}B)$
then either $(\uparrow^{A}X,\uparrow^{B}Y)\in f\cap(\mathscr{T}A\times\mathscr{T}B)$
or $X\in\up a$, $Y\in\up b$, so $X$ and $Y$ are infinite and thus
$(\uparrow^{A}X,\uparrow^{B}Y)\in f\cap(\mathscr{T}A\times\mathscr{T}B)$.
So $g\cap(\mathscr{T}A\times\mathscr{T}B)=f\cap(\mathscr{T}A\times\mathscr{T}B)$.\end{proof}
\begin{rem}
The above counter-example shows that pseudofuncoids (and more generally,
any staroids on filters) are ``second class'' objects, they are
not full-fledged because they don't bijectively correspond to funcoids
and the elegant funcoids theory does not apply to them.
\end{rem}
From the above it follows that staroids on filters do not correspond
(by restriction) to staroids on principal filters (or staroids on
sets).


\subsection{More on free stars and principal free stars}
\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item\label{down-fs-pow} $(\mathfrak{A},\mathfrak{Z})$ is a powerset filtrator.
\item\label{down-fs-pri} $(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator.
\item\label{down-fs-any} $(\mathfrak{A},\mathfrak{Z})$ is a filtrator.
\item\label{down-fs-res} $\corestar\mathcal{F}=\downdownarrows\fullstar\mathcal{F}$ for every
  $\mathcal{F}\in\mathfrak{A}$.
\end{enumerate}
\end{prop}

\begin{proof}
~
\begin{description}
\item [\ref{down-fs-pow}$\Rightarrow$\ref{down-fs-pri}] Obvious.
\item [\ref{down-fs-pri}$\Rightarrow$\ref{down-fs-any}] Obvious.
\item [\ref{down-fs-any}$\Rightarrow$\ref{down-fs-res}]
$X\in\corestar\mathcal{F} \Leftrightarrow
X\nasymp^{\mathfrak{A}}\mathcal{F} \Leftrightarrow
X\in\fullstar\mathcal{F}\Leftrightarrow
X\in\downdownarrows\fullstar\mathcal{F}$ for every $X\in\mathfrak{Z}$.
\end{description}
\end{proof}

\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item \label{up-d-p}$(\mathfrak{A},\mathfrak{Z})$ is a powerset filtrator.
\item \label{up-d-f}$(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator
over a meet-semilattice with least element.
\item \label{up-d-sep}$(\mathfrak{A},\mathfrak{Z})$ is a filtrator with
separable core.
\item \label{up-d-conc}$\fullstar\mathcal{F}=\upuparrows\corestar\mathcal{F}$
for every $\mathcal{F}\in\mathfrak{A}$.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{up-d-p}$\Rightarrow$\ref{up-d-f}}] Obvious.
\item [{\ref{up-d-f}$\Rightarrow$\ref{up-d-sep}}] Theorem~\ref{when-sep-core}.
\item [{\ref{up-d-sep}$\Rightarrow$\ref{up-d-conc}}] $\mathcal{X}\in\upuparrows\corestar\mathcal{F}\Leftrightarrow\up\mathcal{X}\subseteq\corestar\mathcal{F}\Leftrightarrow\forall X\in\up\mathcal{X}:X\nasymp\mathcal{F}\Leftrightarrow\mathcal{X}\nasymp\mathcal{F}\Leftrightarrow\mathcal{X}\in\fullstar\mathcal{F}$.
\end{description}
\end{proof}
\begin{prop}
\label{compl-eq-princ}The following is an implications tuple:
\begin{enumerate}
\item \label{crit1-p-1}$(\mathfrak{A},\mathfrak{Z})$ is a powerset filtrator.
\item \label{crit1-f-1}$(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator
over a complete boolean lattice.
\item \label{crit1-fltr-1}$(\mathfrak{A},\mathfrak{Z})$ is a down-aligned,
with join-closed, binarily meet-closed and separable core which is
a complete boolean lattice.
\item \label{crit1-conc-1}The following conditions are equivalent for any
$\mathcal{F}\in\mathfrak{A}$:

\begin{enumerate}
\item \label{princ-star-princ}$\mathcal{F}\in\mathfrak{Z}$.
\item \label{princ-star-core}$\corestar\mathcal{F}$ is a principal free
star on $\mathfrak{Z}$.
\item \label{princ-star-full}$\fullstar\mathcal{F}$ is a principal free
star on $\mathfrak{A}$.
\end{enumerate}
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{crit1-p}$\Rightarrow$\ref{crit1-f}}] Obvious.
\item [{\ref{crit1-f}$\Rightarrow$\ref{crit1-fltr}}] The filtrator $(\mathfrak{A},\mathfrak{Z})$
is with with join-closed core by theorem \ref{semifilt-joinclosed},
binarily meet-closed core by corollary~\ref{f-meet-closed}, with
separable core by theorem \ref{when-sep-core}.
\item [{\ref{crit1-fltr}$\Rightarrow$\ref{crit1-conc}}] ~

\begin{description}
\item [{\ref{princ-star-princ}$\Rightarrow$\ref{princ-star-core}}] That
$\corestar\mathcal{F}$ does not contain the least element is obvious.
That $\corestar\mathcal{F}$ is an upper set is obvious. So it remains
to apply theorem \ref{crit1}.
\item [{\ref{princ-star-core}$\Rightarrow$\ref{princ-star-full}}] That
$\fullstar\mathcal{F}$ does not contain the least element is obvious.
That $\fullstar\mathcal{F}$ is an upper set is obvious. So it remains
to apply theorem \ref{crit1}.
\item [{\ref{princ-star-full}$\Rightarrow$\ref{princ-star-princ}}] Apply
theorem \ref{crit1}.
\end{description}
\end{description}
\end{proof}
\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item \label{dfs-p}$(\mathfrak{A},\mathfrak{Z})$ is a powerset filtrator.
\item \label{dfs-f}$(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator
over a join-semilattice.
\item \label{dfs-fltr}The filtrator $(\mathfrak{A},\mathfrak{Z})$ is weakly down-aligned
and with binarily join-closed core and $\mathfrak{Z}$ is a join-semilattice.
\item \label{dfs-conc}If $S$ is a free star on $\mathfrak{A}$ then $\downdownarrows S$
is a free star on $\mathfrak{Z}$.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{dfs-p}$\Rightarrow$\ref{dfs-f}}] Obvious.
\item [{\ref{dfs-f}$\Rightarrow$\ref{dfs-fltr}}] It is weakly down-aligned
by obvious~\ref{f-weak-down-up} and with join-closed core by theorem~\ref{semifilt-joinclosed}.
\item [{\ref{dfs-fltr}$\Rightarrow$\ref{dfs-conc}}] For every $X,Y\in\mathfrak{Z}$
we have
\end{description}
\begin{multline*}
X\sqcup^{\mathfrak{Z}}Y\in\downdownarrows S\Leftrightarrow X\sqcup^{\mathfrak{Z}}Y\in S\Leftrightarrow X\sqcup^{\mathfrak{A}}Y\in S\Leftrightarrow\\
X\in S\vee Y\in S\Leftrightarrow X\in\downdownarrows S\vee Y\in\downdownarrows S;
\end{multline*}
Suppose there is least element
$\bot^{\mathfrak{Z}}\in\downdownarrows S$. Then
$\bot^{\mathfrak{A}}=\bot^{\mathfrak{Z}}\in S$ what is impossible.
\end{proof}
\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item \label{ufs-p}$(\mathfrak{A},\mathfrak{Z})$ is a powerset filtrator.
\item \label{ufs-filt}$(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator
over a boolean lattice.
\item \label{ufs-conc}If $S$ is a free star on $\mathfrak{Z}$ then $\upuparrows S$
is a free star on $\mathfrak{A}$.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{ufs-p}$\Rightarrow$\ref{ufs-filt}}] Obvious.
\item [{\ref{ufs-filt}$\Rightarrow$\ref{ufs-conc}}] There exists a filter
$\mathcal{F}$ such that $S=\corestar\mathcal{F}$. For every filters
$\mathcal{X},\mathcal{Y}\in\mathfrak{A}$
\begin{multline*}
\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y}\in\upuparrows S\Leftrightarrow\up(\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y})\subseteq S\Leftrightarrow\forall K\in\up(\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y}):K\in\corestar\mathcal{F}\Leftrightarrow\\
\forall K\in\up(\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y}):K\nasymp\mathcal{F}\Leftrightarrow\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y}\nasymp\mathcal{F}\Leftrightarrow\mathcal{X}\sqcup^{\mathfrak{A}}\mathcal{Y}\in\fullstar\mathcal{F}\Leftrightarrow\mathcal{X}\in\fullstar\mathcal{F}\vee\mathcal{Y}\in\fullstar\mathcal{F}\Leftrightarrow\\
\mathcal{X}\nasymp\mathcal{F}\vee\mathcal{Y}\nasymp\mathcal{F}\Leftrightarrow\forall X\in\up\mathcal{X}:X\nasymp\mathcal{F}\vee\forall Y\in\up\mathcal{Y}:Y\nasymp\mathcal{F}\Leftrightarrow\\
\forall X\in\up\mathcal{X}:X\in\corestar\mathcal{F}\vee\forall Y\in\up\mathcal{Y}:Y\in\corestar\mathcal{F}\Leftrightarrow\\
\up\mathcal{X}\subseteq S\vee\up\mathcal{Y}\subseteq S\Leftrightarrow\mathcal{X}\in\upuparrows S\vee\mathcal{Y}\in\upuparrows S;
\end{multline*}
$\bot\in\upuparrows S\Leftrightarrow\up\bot\subseteq S\Leftrightarrow\bot\in S$
what is false.
\end{description}
\end{proof}
\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item \label{dpfs-p}$(\mathfrak{A},\mathfrak{Z})$ is primary filtrator
over a complete lattice.
\item \label{dpfs-fltr}$(\mathfrak{A},\mathfrak{Z})$ is down-aligned filtrator
with join-closed core over a complete lattice.
\item \label{dpfs-conc}If $S$ is a principal free star on $\mathfrak{A}$
then $\downdownarrows S$ is a principal free star on $\mathfrak{Z}$.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{dpfs-p}$\Rightarrow$\ref{dpfs-fltr}}] It is down-aligned
by obvious~\ref{filt-aligned} and with join-closed core by theorem~\ref{semifilt-joinclosed}.
\item [{\ref{dpfs-fltr}$\Rightarrow$\ref{dpfs-conc}}] $\bigsqcup^{\mathfrak{Z}}T\in\downdownarrows S\Leftrightarrow\bigsqcup^{\mathfrak{Z}}T\in S\Leftrightarrow\bigsqcup^{\mathfrak{A}}T\in S\Leftrightarrow T\cap S\neq\emptyset\Leftrightarrow T\cap\downdownarrows S\neq\emptyset$
for every $T\in\subsets\mathfrak{Z}$; $\bot\notin\downdownarrows S$
is obvious.
\end{description}
\end{proof}
\begin{prop}
The following is an implications tuple:
\begin{enumerate}
\item \label{upfs-p}$(\mathfrak{A},\mathfrak{Z})$ is powerset filtrator.
\item \label{upfs-fltr}$(\mathfrak{A},\mathfrak{Z})$ is primary filtrator
over a boolean lattice.
\item \label{upfs-conc}If $S$ is a principal free star on $\mathfrak{Z}$
then $\upuparrows S$ is a principal free star on $\mathfrak{A}$.
\end{enumerate}
\end{prop}
\begin{proof}
~
\begin{description}
\item [{\ref{upfs-p}$\Rightarrow$\ref{upfs-fltr}}] Obvious.
\item [{\ref{upfs-fltr}$\Rightarrow$\ref{upfs-conc}}] There exists a
principal filter $\mathcal{F}$ such that $S=\corestar\mathcal{F}$.
\begin{multline*}
\bigsqcup^{\mathfrak{A}}T\in\upuparrows S\Leftrightarrow\up\bigsqcup^{\mathfrak{A}}T\subseteq S\Leftrightarrow\forall K\in\up\bigsqcup^{\mathfrak{A}}T:K\in\corestar\mathcal{F}\Leftrightarrow\\
\forall K\in\up\bigsqcup^{\mathfrak{A}}T:K\nasymp\mathcal{F}\Leftrightarrow\bigsqcup^{\mathfrak{A}}T\nasymp\mathcal{F}\Leftrightarrow\bigsqcup^{\mathfrak{A}}T\in\fullstar\mathcal{F}\Leftrightarrow\exists\mathcal{K}\in T:\mathcal{K}\in\fullstar\mathcal{F}\Leftrightarrow\\
\exists\mathcal{K}\in T:\mathcal{K}\nasymp\mathcal{F}\Leftrightarrow\exists\mathcal{K}\in T\forall K\in\up\mathcal{K}:K\nasymp\mathcal{F}\Leftrightarrow\exists\mathcal{K}\in T\forall K\in\up\mathcal{K}:K\in\corestar\mathcal{F}\Leftrightarrow\\
\exists\mathcal{K}\in T:\up\mathcal{K}\subseteq S\Leftrightarrow\exists\mathcal{K}\in T:\mathcal{K}\in\upuparrows S\Leftrightarrow T\cap\upuparrows S\neq\emptyset.
\end{multline*}



$\bot\in\upuparrows S\Leftrightarrow\up\bot\subseteq S\Leftrightarrow\bot\in S$
what is false.

\end{description}
\end{proof}

\subsection{Complete staroids and multifuncoids}
\begin{defn}
\index{complete!staroid}Consider an indexed family $\mathfrak{Z}$
of posets. A pre-staroid $f$ of the form $\mathfrak{Z}$ is \emph{complete}
in argument $k\in\arity f$ when $(\val f)_{k}L$ is a principal free
star for every $L\in\prod_{i\in(\arity f)\setminus\{k\}}\mathfrak{Z}_{i}$.
\end{defn}

\begin{defn}
\index{complete!multifuncoid}Consider an indexed family $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
of filtrators and multifuncoid $f$ is of the form $(\mathfrak{A},\mathfrak{Z})$.
Then $f$ is \emph{complete} in argument $k\in\arity f$ iff $\rsupfun f_{k}L\in\mathfrak{Z}_{k}$
for every family $L\in\prod_{i\in(\arity f)\setminus\{k\}}\mathfrak{Z}_{i}$.\end{defn}
\begin{prop}
Consider an indexed family $(\mathfrak{A}_{i},\mathfrak{Z}_{i})$
of primary filtrators over complete boolean lattices. Let $f$ be a multifuncoid
of the form $(\mathfrak{A},\mathfrak{Z})$ and $k\in\arity f$. The following are
equivalent:
\begin{enumerate}
\item Multifuncoid $f$ is complete in argument $k$.
\item Pre-staroid $\downdownarrows\mathord{\rsuprel f}$ is complete in argument
$k$.
\end{enumerate}
\end{prop}
\begin{proof}
Let $L\in\prod\mathfrak{Z}$. We have $L\in\GR\rsuprel f\Leftrightarrow L_{i}\nasymp\rsupfun f_{i}L|_{(\dom L)\setminus\{i\}}$;

$\left(\val\rsuprel f\right)_{k}L=\corestar\rsupfun f_{k}L$ by the
definition.

So $\left(\val\rsuprel f\right)_{k}L$ is a principal free star iff
$\rsupfun f_{k}L\in\mathfrak{Z}_{k}$ (proposition \ref{compl-eq-princ})
for every $L\in\prod_{i\in(\arity f)\setminus\{k\}}\mathfrak{Z}_{i}$.\end{proof}
\begin{example}
Consider funcoid $f=1_{U}^{\mathsf{FCD}}$. It is obviously complete
in each its two arguments. Then $\rsuprel f$ is not complete in each
of its two arguments because $(\mathcal{X},\mathcal{Y})\in\rsuprel f\Leftrightarrow\mathcal{X}\nasymp\mathcal{Y}$
what does not generate a principal free star if one of the arguments
(say $\mathcal{X}$) is a fixed nonprincipal filter.\end{example}
\begin{thm}
\label{mfunc-compl-k}Consider an indexed family $(\mathfrak{A},\mathfrak{Z})$ of filtrators
which are down-aligned, separable, with join-closed, binarily meet-closed and with
separable core which is a complete boolean lattice.

Let $f$ be a multifuncoid of the aforementioned form. Let $k,l\in\arity f$
and $k\neq l$. The following are equivalent: 
\begin{enumerate}
\item \label{pf-compl-arg}$f$ is complete in the argument $k$.
\item \label{pf-compl-princ}$\rsupfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)=\bigsqcup_{x\in X}\rsupfun f_{l}(L\cup\{(k,x)\})$
for every $X\in\subsets\mathfrak{Z}_{k}$, $L\in\prod_{i\in(\arity f)\setminus\{k,l\}}\mathfrak{Z}_{i}$.
\item \label{pf-compl-all}$\rsupfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)=\bigsqcup_{x\in X}\rsupfun f_{l}(L\cup\{(k,x)\})$
for every $X\in\subsets\mathfrak{A}_{k}$, $L\in\prod_{i\in(\arity f)\setminus\{k,l\}}\mathfrak{Z}_{i}$.
\end{enumerate}
\end{thm}
\begin{proof}
~
\begin{description}
\item [{\ref{pf-compl-all}$\Rightarrow$\ref{pf-compl-princ}}] Obvious.
\item [{\ref{pf-compl-princ}$\Rightarrow$\ref{pf-compl-arg}}] Let $Y\in\mathfrak{Z}$.
\begin{multline*}
\bigsqcup X\nasymp\rsupfun f_{k}(L\cup\{(l,Y)\})\Leftrightarrow Y\nasymp\rsupfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)\Leftrightarrow\\
Y\nasymp\bigsqcup_{x\in X}\rsupfun f_{l}(L\cup\{(k,x)\})\Leftrightarrow\text{(proposition \ref{crit1})}\Leftrightarrow\\
\exists x\in X:Y\nasymp\rsupfun f_{l}(L\cup\{(k,x)\})\Leftrightarrow\exists x\in X:x\nasymp\rsupfun f_{k}(L\cup(l,Y)).
\end{multline*}



It is equivalent (proposition \ref{compl-eq-princ} and the fact that
$\rsuprel f$ is an upper set) to $\rsupfun f_{k}(L\cup\{(l,Y)\})$
being a principal filter and thus $\left(\val f\right)_{k}L$
being a principal free star.

\item [{\ref{pf-compl-arg}$\Rightarrow$\ref{pf-compl-all}}] 
\begin{multline*}
Y\nasymp\rsupfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)\Leftrightarrow\bigsqcup X\nasymp\langle f\rangle_{k}(L\cup\{(l,Y)\})\Leftrightarrow\\
\exists x\in X:x\nasymp\rsupfun f_{k}(L\cup\{(l,Y)\})\Leftrightarrow\exists x\in X:Y\nasymp\rsupfun f_{l}(L\cup\{(k,x)\})\Leftrightarrow\\
Y\nasymp\bigsqcup_{x\in X}\rsupfun f_{l}(L\cup\{(k,x)\})
\end{multline*}
for every principal $Y$. Thus $\rsupfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)=\bigsqcup_{x\in X}\rsupfun f_{l}(L\cup\{(k,x)\})$
by separability.
\end{description}
\end{proof}

\section{Identity staroids and multifuncoids}


\subsection{Identity relations}

\index{identity relation}Denote $\id_{A[n]}=\setcond{\mylambda inx}{x\in A}=\setcond{n\times\{x\}}{x\in A}$
the $n$-ary identity relation on a set $A$ (for each index set $n$).
\begin{prop}
$\prod X\nasymp\id_{A[n]}\Leftrightarrow\bigcap_{i\in n}X_{i}\cap A\neq\emptyset$
for every indexed family~$X$ of sets.\end{prop}
\begin{proof}
~
\[
\prod X\nasymp\id_{A[n]}\Leftrightarrow\exists t\in A:n\times\{t\}\in\prod X\Leftrightarrow\exists t\in A\forall i\in n:t\in X_{i}\Leftrightarrow\bigcap_{i\in n}X_{i}\cap A\neq\emptyset.
\]

\end{proof}

\subsection{General definitions of identity staroids}

Consider a filtrator $(\mathfrak{A},\mathfrak{Z})$ and $\mathcal{A}\in\mathfrak{A}$.

I will define below \emph{small identity staroids} $\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$
and \emph{big identity staroids} $\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$.
That they are really staroids and even completary staroids (under
certain conditions) is proved below.
\begin{defn}
\index{staroid!identity!small}Consider a filtrator $(\mathfrak{A},\mathfrak{Z})$.
Let $\mathfrak{Z}$ be a complete lattice. Let $\mathcal{A}\in\mathfrak{A}$,
let $n$ be an index set.
\[
\form\id_{\mathcal{A}[n]}^{\mathsf{Strd}}=\mathfrak{Z}^{n};\quad L\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\in\corestar\mathcal{A}.
\]
\end{defn}
\begin{obvious}
$X\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\forall A\in\up\mathcal{A}:\bigsqcap_{i\in n}^{\mathfrak{Z}}X_{i}\sqcap A\neq0$
if our filtrator is with separable core.\end{obvious}
\begin{defn}
\index{lower bound!nontrivial}The subset $X$ of a poset $\mathfrak{A}$
\emph{has a nontrivial lower bound} (I denote this predicate as $\MEET(X)$)
iff there is nonleast $a\in\mathfrak{A}$ such that $\forall x\in X:a\sqsubseteq x$.
\end{defn}

\begin{defn}
Staroid $\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$ (for any $\mathcal{A}\in\mathfrak{A}$
where $\mathfrak{A}$ is a poset) is defined by the formulas:
\[
\form\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}=\mathfrak{A}^{n};\quad\mathcal{L}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\MEET\left(\setcond{\mathcal{L}_{i}}{i\in n}\cup\{\mathcal{A}\}\right).
\]
\end{defn}
\begin{obvious}
\index{staroid!identity!big}If $\mathfrak{A}$ is complete lattice,
then $\mathcal{L}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap\mathcal{L}\nasymp\mathcal{A}$.
\end{obvious}

\begin{obvious}
If $\mathfrak{A}$ is complete lattice and $a$ is an atom, then $\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap\mathcal{L}\sqsupseteq a$.
\end{obvious}

\begin{obvious}
If $\mathfrak{A}$ is a complete lattice then there exists a multifuncoid
$\Lambda\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$ such that $\langle\Lambda\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\rangle_{k}L=\bigsqcap_{i\in n}L_{i}\sqcap\mathcal{A}$
for every $k\in n$, $L\in\mathfrak{A}^{n\setminus\{k\}}$.\end{obvious}
\begin{prop}
Let $(\mathfrak{A},\mathfrak{Z})$ be a meet-closed filtrator and $\mathfrak{Z}$
be a complete lattice and $\mathfrak{A}$ be a meet-semilattice. There
exists a multifuncoid $\Lambda\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$
such that $\langle\Lambda\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\rangle_{k}L=\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap^{\mathfrak{A}}\mathcal{A}$
for every $k\in n$, $L\in\mathfrak{Z}^{n\setminus\{k\}}$.\end{prop}
\begin{proof}
We need to prove that $L\cup\{(k,X)\}\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap^{\mathfrak{A}}\mathcal{A}\nasymp^{\mathfrak{A}}X$.
But
\begin{multline*}
\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap^{\mathfrak{A}}\mathcal{A}\nasymp^{\mathfrak{A}}X\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap^{\mathfrak{A}}X\nasymp^{\mathfrak{A}}\mathcal{A}\Leftrightarrow\\
\bigsqcap_{i\in n}^{\mathfrak{Z}}(L\cup\{(k,X)\})_{i}\nasymp^{\mathfrak{A}}\mathcal{A}\Leftrightarrow L\cup\{(k,X)\}\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\end{multline*}

\end{proof}

\subsection{Identities are staroids}
\begin{prop}
Let $\mathfrak{A}$ be a complete meet infinite distributive lattice and $\mathcal{A}\in\mathfrak{A}$.
Then $\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$ is a staroid.\end{prop}
\begin{proof}
That $L\notin\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$ if $L_{k}=\bot$
for some $k\in n$ is obvious. It remains to prove 
\[
L\cup\{(k,X\sqcup Y)\}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow L\cup\{(k,X)\}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\vee L\cup\{(k,Y)\}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\]
It is equivalent to 
\[
\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap(X\sqcup Y)\nasymp\mathcal{A}\Leftrightarrow\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap X\nasymp\mathcal{A}\vee\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap Y\nasymp\mathcal{A}.
\]
Really, 
\begin{multline*}
\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap(X\sqcup Y)\nasymp\mathcal{A}\Leftrightarrow
\bigsqcap_{i\in n\setminus\{k\}}((L_{i}\sqcap X)\sqcup(L_{i}\sqcap Y))\nasymp\mathcal{A}\Leftrightarrow \\
\left(\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap X\right)\sqcup\left(\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap Y\right)\nasymp\mathcal{A}\Leftrightarrow\\
\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap X\nasymp\mathcal{A}\vee\bigsqcap_{i\in n\setminus\{k\}}L_{i}\sqcap Y\nasymp\mathcal{A}.
\end{multline*}
\end{proof}
\begin{prop}\label{id-strd}
Let $(\mathfrak{A},\mathfrak{Z})$ be a starrish filtrator over a
complete meet infinite distributive lattice and $\mathcal{A}\in\mathfrak{A}$.
Then $\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$ is a staroid.\end{prop}
\begin{proof}
That $L\notin\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$ if $L_{k}=\bot$
for some $k\in n$ is obvious. It remains to prove 
\[
L\cup\{(k,X\sqcup Y)\}\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow L\cup\{(k,X)\}\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\vee L\cup\{(k,Y)\}\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\]
It is equivalent to 
\[
\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap(X\sqcup Y)\nasymp\mathcal{A}\Leftrightarrow\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap X\nasymp\mathcal{A}\vee\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap Y\nasymp\mathcal{A}.
\]
Really,
\begin{multline*}
\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap(X\sqcup Y)\nasymp\mathcal{A}\Leftrightarrow
\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}((L_{i}\sqcap X)\sqcup(L_{i}\sqcap Y))\Leftrightarrow \\
\left(\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap X\right)\sqcup\left(\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap Y\right)\nasymp\mathcal{A}\Leftrightarrow\\
\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap X\nasymp\mathcal{A}\vee\bigsqcap_{i\in n\setminus\{k\}}^{\mathfrak{Z}}L_{i}\sqcap Y\nasymp\mathcal{A}.
\end{multline*}
\end{proof}
\begin{prop}
\label{ID-completary}Let $(\mathfrak{A},\mathfrak{Z})$ be a primary
filtrator over a boolean lattice.
$\ID^{\mathsf{Strd}}_{\mathcal{A}[n]}$ is a completary staroid for every $\mathcal{A}\in\mathfrak{A}$.\end{prop}
\begin{proof}
$\fullstar\mathcal{A}$ is a free star by theorem~\ref{closed-free-star}.
\begin{multline*}
L_{0}\sqcup L_{1}\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\forall i\in n:(L_{0}\sqcup L_{1})i\in\fullstar\mathcal{A}\Leftrightarrow\forall i\in n:L_{0}i\sqcup L_{1}i\in\fullstar\mathcal{A}\Leftrightarrow\\
\forall i\in n:(L_{0}i\in\fullstar\mathcal{A}\vee L_{1}i\in\fullstar\mathcal{A})\Leftrightarrow\exists c\in\{0,1\}^{n}\forall i\in n:L_{c(i)}i\in\fullstar\mathcal{A}\Leftrightarrow\\
\exists c\in\{0,1\}^{n}:(\lambda i\in n:L_{c(i)}i)\in\GR\ID_{\mathcal{A}[n].}^{\mathsf{Strd}}
\end{multline*}
\end{proof}
\begin{lem}
$X\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\Cor'\bigsqcap_{i\in n}^{\mathfrak{A}}X_{i}\nasymp\mathcal{A}$
for a join-closed filtrator $(\mathfrak{A},\mathfrak{Z})$ such that
both $\mathfrak{A}$ and $\mathfrak{Z}$ are complete lattices, provided
that $\mathcal{A}\in\mathfrak{A}$.\end{lem}
\begin{proof}
$X\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}X_{i}\nasymp\mathcal{A}\Leftrightarrow\Cor'\bigsqcap_{i\in n}^{\mathfrak{A}}X_{i}\nasymp\mathcal{A}$ (theorem~\ref{dual-cor-inf-meet}).\end{proof}
\begin{conjecture}
$\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$ is a completary staroid for
every set-theoretic filter~$\mathcal{A}$.
\end{conjecture}
\begin{conjecture}
$\upuparrows\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$ is a completary
staroid if $\mathcal{A}$ is a filter on a set and $n$ is an index
set.
\end{conjecture}

\subsection{Special case of sets and filters}
\begin{prop}
$\uparrow^{\mathfrak{Z}^{n}}X\in\GR\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\forall A\in a:\prod X\nasymp\id_{A[n]}$
for every filter $a$ on a powerset and index set $n$.\end{prop}
\begin{proof}
~
\begin{multline*}
\forall A\in a:\prod X\nasymp\id_{A[n]}\Leftrightarrow\forall A\in a:\bigcap_{i\in n}X_{i}\cap A\neq\emptyset\Leftrightarrow\forall A\in a:\bigsqcap_{i\in n}^{\mathfrak{Z}}X_{i}\nasymp A\Leftrightarrow\\
\forall A\in a:\bigsqcap_{i\in n}^{\mathfrak{Z}}X_{i}\nasymp^{\mathfrak{A}}A\Leftrightarrow
\bigsqcap_{i\in n}^{\mathfrak{Z}}\uparrow^{\mathfrak{Z}}X_{i}\nasymp^{\mathfrak{A}}a\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}(\uparrow^{\mathfrak{Z}^{n}}X)_{i}\nasymp^{\mathfrak{A}}a\Leftrightarrow\uparrow^{\mathfrak{Z}^{n}}X\in\GR\id_{a[n]}.
\end{multline*}
\end{proof}
\begin{prop}
$Y\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\forall A\in\up\mathcal{A}:Y\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}$
for every filter $\mathcal{A}$ on a powerset and $Y\in\mathfrak{Z}^{n}$.\end{prop}
\begin{proof}
Take $Y=\uparrow^{\mathfrak{Z}^{n}}X$.
\begin{multline*}
\forall A\in\up\mathcal{A}:Y\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\forall A\in\up\mathcal{A}:\uparrow^{\mathfrak{Z}^{n}}X\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\\
\forall A\in\up\mathcal{A}:\prod X\nasymp\id_{A[n]}\Leftrightarrow\uparrow^{\mathfrak{Z}^{n}}X\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow Y\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\end{multline*}
\end{proof}
\begin{prop}
$\uparrow^{\mathfrak{Z}^{n}}X\in\GR\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\forall A\in a\exists t\in A\forall i\in n:t\in X_{i}$.\end{prop}
\begin{proof}
~
\[
\uparrow^{\mathfrak{Z}^{n}}X\in\GR\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\exists A\in a\exists t\in A:n\times\{t\}\in\prod X\Leftrightarrow\forall A\in a\exists t\in A\forall i\in n:t\in X_{i}.
\]

\end{proof}

\subsection{Relationships between big and small identity staroids}
\begin{defn}
$a_{\mathsf{Strd}}^{n}=\prod_{i\in n}^{\mathsf{Strd}}a$ for every
element $a$ of a poset and an index set $n$.\end{defn}

\begin{lem}
$\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}$ iff $\bigcup_{i\in n}\up\mathcal{L}_{i}\cup\{a\}$
has finite intersection property (for primary filtrators over meet semilattices with greatest element).\end{lem}
\begin{proof}
The lattice~$\mathfrak{A}$ is complete by corollary~\ref{filt-is-complete}.
$\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\bigsqcap_{i\in n}\up\mathcal{L}\sqcap a\neq\bot^{\mathscr{F}}\Leftrightarrow\forall X\in\bigsqcap_{i\in n}\up\mathcal{L}\sqcap a:X\neq\bot$
what is equivalent of $\bigcup_{i\in n}\mathcal{L}_{i}\cup\{a\}$ having
finite intersection property.\end{proof}

\begin{prop}
$\upuparrows\id_{a[n]}^{\mathsf{Strd}}\sqsubseteq\ID_{a[n]}^{\mathsf{Strd}}\sqsubseteq a_{\mathsf{Strd}}^{n}$
for every filter $a$ (on any distributive lattice with least element) and an index set
$n$.\end{prop}
\begin{proof}
~
\begin{description}
\item [{$\GR\upuparrows\id_{a[n]}^{\mathsf{Strd}}\subseteq\GR\ID_{a[n]}^{\mathsf{Strd}}$}] ~
\begin{multline*}
\mathcal{L}\in\GR\upuparrows\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\up\mathcal{L}\subseteq\GR\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\forall L\in\up\mathcal{L}:L\in\GR\id_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\\
\text{(theorem~\ref{when-sep-core})}\Leftrightarrow\forall L\in\up\mathcal{L}\forall A\in\up a:\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp A\Leftrightarrow\\
\forall L\in\up\mathcal{L}\forall A\in\up a:\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap A\neq\bot\Rightarrow\\
\bigcup_{i\in n}\up\mathcal{L}_{i}\cup\{a\}\text{ has finite intersection property}\Leftrightarrow\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}.
\end{multline*}

\item [{$\GR\ID_{a[n]}^{\mathsf{Strd}}\subseteq\GR a_{\mathsf{Strd}}^{n}$}] $\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\MEET\left(\setcond{\mathcal{L}_{i}}{i\in n} \cup\{a\}\right)\Rightarrow\forall i\in a:\mathcal{L}_{i}\nasymp a\Leftrightarrow\mathcal{L}\in\GR a_{\mathsf{Strd}}^{a}$.
\end{description}
\end{proof}
\begin{prop}
$\upuparrows\id_{a[a]}^{\mathsf{Strd}}\sqsubset\ID_{a[a]}^{\mathsf{Strd}}=a_{\mathsf{Strd}}^{a}$
for every nontrivial ultrafilter $a$ on a set.\end{prop}
\begin{proof}
~\end{proof}
\begin{description}
\item [{$\GR\upuparrows\id_{a[a]}^{\mathsf{Strd}}\neq\GR\ID_{a[a]}^{\mathsf{Strd}}$}] Let
$\mathcal{L}_{i}=\uparrow^{\Base(a)}i$. Then trivially $\mathcal{L}\in\GR\ID_{a[a]}^{\mathsf{Strd}}$.
But to disprove $\mathcal{L}\in\GR\upuparrows\id_{a[a]}^{\mathsf{Strd}}$
it's enough to show $L\notin\GR\id_{a[a]}^{\mathsf{Strd}}$ for some
$L\in\up\mathcal{L}$. Really, take $L_{i}=\mathcal{L}_{i}=\uparrow^{\Base(a)}i$.
Then $L\in\GR\id_{a[a]}^{\mathsf{Strd}}\Leftrightarrow\forall A\in a\exists t\in A\forall i\in a:t\in i$
what is clearly false (we can always take $i\in a$ such that $t\notin i$
for any point $t$).
\item [{$\GR\ID_{a[a]}^{\mathsf{Strd}}=\GR a_{\mathsf{Strd}}^{a}$}] $\mathcal{L}\in\GR\ID_{a[a]}^{\mathsf{Strd}}\Leftrightarrow\forall i\in a:\mathcal{L}_{i}\sqsupseteq a\Leftrightarrow\forall i\in a:\mathcal{L}_{i}\nasymp a\Leftrightarrow\mathcal{L}\in\GR a_{\mathsf{Strd}}^{a}$.\end{description}
\begin{cor}
$a_{\mathsf{Strd}}^{a}$ isn't an atom when $a$ is a nontrivial ultrafilter.
\end{cor}

\begin{cor}
Staroidal product of an infinite indexed family of ultrafilters may
be non-atomic.\end{cor}
\begin{prop}
$\id_{a[n]}^{\mathsf{Strd}}$ is determined by the value of $\upuparrows\id_{a[n]}^{\mathsf{Strd}}$
(for every element~$a$ of a filtrator $(\mathfrak{A},\mathfrak{Z})$ over a complete lattice~$\mathfrak{Z}$).
Moreover $\id_{a[n]}^{\mathsf{Strd}}=\downdownarrows\upuparrows\id_{a[n]}^{\mathsf{Strd}}$.\end{prop}
\begin{proof}
Use general properties of upgrading and downgrading (proposition~\ref{up-and-back}).\end{proof}
\begin{prop}
$\ID_{a[n]}^{\mathsf{Strd}}$ is determined by the value of $\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}$,
moreover $\ID_{a[n]}^{\mathsf{Strd}}=\upuparrows\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}$
(for filter~$a$ on a primary filtrator over a meet semilattice with greatest element).\end{prop}
\begin{proof}
~
\begin{multline*}
\mathcal{L}\in\upuparrows\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\up\mathcal{L}\subseteq\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\up\mathcal{L}\subseteq\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\\
\forall L\in\up\mathcal{L}:L\in\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\forall L\in\up\mathcal{L}:\bigsqcap_{i\in n}L_{i}\sqcap a\neq\bot^{\mathscr{F}}\Leftrightarrow\\
\bigcup_{i\in n}\up\mathcal{L}_{i}\cup\{a\}\text{ has finite intersection property}\Leftrightarrow\text{(lemma)}\Leftrightarrow\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}.
\end{multline*}
\end{proof}
\begin{prop}
$\id_{a[n]}^{\mathsf{Strd}}\sqsubseteq\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}$
for every filter $a$ and an index set $n$.\end{prop}
\begin{proof}
$\id_{a[n]}^{\mathsf{Strd}}=\downdownarrows\upuparrows\id_{a[n]}^{\mathsf{Strd}}\sqsubseteq\downdownarrows\ID_{a[n]}^{\mathsf{Strd}}$.\end{proof}
\begin{prop}
$\id_{a[a]}^{\mathsf{Strd}}\sqsubset\downdownarrows\ID_{a[a]}^{\mathsf{Strd}}$
for every nontrivial ultrafilter $a$.\end{prop}
\begin{proof}
Suppose $\id_{a[a]}^{\mathsf{Strd}}=\downdownarrows\ID_{a[a]}^{\mathsf{Strd}}$.
Then $\ID_{a[a]}^{\mathsf{Strd}}=\upuparrows\downdownarrows\ID_{a[a]}^{\mathsf{Strd}}=\upuparrows\id_{a[a]}^{\mathsf{Strd}}$
what contradicts to the above.\end{proof}
\begin{obvious}
$\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow a\sqcap\bigsqcap_{i\in n}\mathcal{L}_{i}\neq\bot$
if $a$ is an element of a complete lattice.
\end{obvious}

\begin{obvious}
$\mathcal{L}\in\GR\ID_{a[n]}^{\mathsf{Strd}}\Leftrightarrow\forall i\in n:\mathcal{L}_{i}\sqsupseteq a\Leftrightarrow\forall i\in n:\mathcal{L}_{i}\nasymp a$
if $a$ is an ultrafilter on $\mathfrak{A}$.
\end{obvious}

\subsection{Identity staroids on principal filters}

For principal filter $\uparrow A$ (where $A$ is a set) the above
definitions coincide with $n$-ary identity relation, as formulated
in the following propositions:
\begin{prop}
$\uparrow^{\mathsf{Strd}}\id_{A[n]}=\id_{\uparrow A[n]}^{\mathsf{Strd}}$.\end{prop}
\begin{proof}
~

\begin{multline*}
L\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\prod L\nasymp\id_{A[n]}\Leftrightarrow\exists t\in A\forall i\in n:t\in L_{i}\Leftrightarrow\\
\bigcap_{i\in n}L_{i}\cap A\neq\emptyset\Leftrightarrow L\in\GR\id_{\uparrow A[n]}^{\mathsf{Strd}}.
\end{multline*}
Thus $\uparrow^{\mathsf{Strd}}\id_{A[n]}=\id_{\uparrow A[n]}^{\mathsf{Strd}}$.\end{proof}
\begin{cor}
$\id_{\uparrow A[n]}^{\mathsf{Strd}}$ is a principal staroid.\end{cor}
\begin{question}
Is $\ID_{A[n]}^{\mathsf{Strd}}$ principal for every principal filter
$A$ on a set and index set $n$?\end{question}
\begin{prop}
$\uparrow^{\mathsf{Strd}}\id_{A[n]}\sqsubseteq\downdownarrows\ID_{\uparrow A[n]}^{\mathsf{Strd}}$
for every set $A$.\end{prop}
\begin{proof}
~
\begin{multline*}
L\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow L\in\GR\id_{\uparrow A[n]}^{\mathsf{Strd}}\Leftrightarrow\uparrow A\nasymp\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\Rightarrow\\
\uparrow A\nasymp\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\Leftrightarrow L\in\downdownarrows\GR\ID_{\uparrow A[n]}^{\mathsf{Strd}}.
\end{multline*}
\end{proof}
\begin{prop}
$\uparrow^{\mathsf{Strd}}\id_{A[n]}\sqsubset\downdownarrows\ID_{\uparrow A[n]}^{\mathsf{Strd}}$
for some set $A$ and index set $n$.\end{prop}
\begin{proof}
$L\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp\uparrow A$
what is not implied by $\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp\uparrow A$
that is $L\in\downdownarrows\GR\ID_{\uparrow A[n]}^{\mathsf{Strd}}$.
(For a counter example take $n=\mathbb{N}$, $L_{i}=]0;1/i[$, $A=\mathbb{R}$.)\end{proof}
\begin{prop}
$\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}=\upuparrows\id_{\uparrow A[n]}^{\mathsf{Strd}}$.\end{prop}
\begin{proof}
$\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}=\upuparrows\id_{\uparrow A[n]}^{\mathsf{Strd}}$
is obvious from the above.\end{proof}
\begin{prop}
$\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}\sqsubseteq\ID_{\uparrow A[n]}^{\mathsf{Strd}}$.\end{prop}
\begin{proof}
~
\begin{multline*}
\mathcal{X}\in\GR\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\up\mathcal{X}\subseteq\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\\
\forall Y\in\up\mathcal{X}:Y\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow\forall Y\in\up\mathcal{X}:Y\in\GR\id_{\uparrow A[n]}^{\mathsf{Strd}}\Leftrightarrow\\
\forall Y\in\up\mathcal{X}:\bigsqcap_{i\in n}^{\mathfrak{Z}}Y_{i}\sqcap\uparrow A\neq\bot\Rightarrow\bigsqcap_{i\in n}^{\mathfrak{A}}\mathcal{X}_{i}\sqcap\uparrow A\neq\bot\Leftrightarrow\mathcal{X}\in\GR\ID_{\uparrow A[n]}^{\mathsf{Strd}}.
\end{multline*}
\end{proof}
\begin{prop}
$\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}\sqsubset\ID_{\uparrow A[n]}^{\mathsf{Strd}}$
for some set $A$.\end{prop}
\begin{proof}
We need to prove $\upuparrows\uparrow^{\mathsf{Strd}}\id_{A[n]}\neq\ID_{\uparrow A[n]}^{\mathsf{Strd}}$
that is it's enough to prove (see the above proof) that $\forall Y\in\up\mathcal{X}:\bigsqcap_{i\in n}^{\mathfrak{Z}}Y_{i}\sqcap\uparrow A\neq\bot\nLeftarrow\bigsqcap_{i\in n}^{\mathfrak{A}}\mathcal{X}_{i}\sqcap\uparrow A\neq\bot$.
A counter-example follows:

$\forall Y\in\up\mathcal{X}:\bigsqcap_{i\in n}^{\mathfrak{Z}}Y_{i}\sqcap\uparrow A\neq\bot$
does not hold for $n=\mathbb{N}$, $\mathcal{X}_{i}=\uparrow]-1/i;0[$
for $i\in n$, $A=]-\infty;0[$. To show this, it's enough to prove
$\bigsqcap_{i\in n}^{\mathfrak{Z}}Y_{i}\sqcap\uparrow A=\bot$
for $Y_{i}=\uparrow]-1/i;0[$ but this is obvious since $\bigsqcap_{i\in n}^{\mathfrak{Z}}Y_{i}=\bot$.

On the other hand, $\bigsqcap_{i\in n}^{\mathfrak{A}}\mathcal{X}_{i}\sqcap\uparrow A\neq\bot$
for the same $\mathcal{X}$ and $A$.
\end{proof}
The above theorems are summarized in the diagram at figure~\ref{fig:id-strd-princ}:

\begin{figure}[ht]
\begin{tikzcd}[
  shift left/.default=.5cm,
  define shortcut/.list={
    \dda\downdownarrows,
    \uua\upuparrows,
    \Strd{\textsf{Strd}},
    \ua{\uparrow}
  },
  column sep=+0pt,
  row sep=large,
  ]
\dda \ID^{\Strd}_{\uparrow A[n]}
  \dar[shift right, "\uua"]\dar[shift left, <-, "\dda"]
  & \sqsupseteq
    & \ua^{\Strd}\id_{A[n]} = \id^{\Strd}_{\ua A[n]}
      \dar[shift right, "\uua"]\dar[shift left, <-, "\dda"] \\
%
\ID^{\Strd}_{\uparrow A[n]} & \sqsupseteq & \uua\ua^{\Strd}\id_{A[n]} = \uua\id^{\Strd}_{\ua A[n]}
\end{tikzcd}

\caption{\label{fig:id-strd-princ}Relationships of identity staroids for principal
filters.}
\end{figure}

\begin{rem}
$\sqsubseteq$ on the diagram means inequality which can become strict
for some $A$ and $n$.
\end{rem}

\subsection{Identity staroids represented as meets and joins}
\begin{prop}
$\id_{a[n]}^{\mathsf{Strd}}=\bigsqcap_{A\in\up a}^{\Anch}\id_{A[n]}=\bigsqcap_{A\in\up a}^{\mathsf{Strd}}\id_{A[n]}$
for every filter $a$ on a powerset.\end{prop}
\begin{proof}
Since $\id_{a[n]}^{\mathsf{Strd}}$ is a staroid (proposition~\ref{id-strd}),
it's enough to prove that $\id_{a[n]}^{\mathsf{Strd}}$ is the greatest lower bound of $\setcond{\uparrow^{\mathsf{Strd}}\id_{A[n]}}{A\in\up a}$.

That $\id_{a[n]}^{\mathsf{Strd}}\sqsubseteq\uparrow^{\mathsf{Strd}}\id_{A[n]}$
for every $A\in\up a$ is obvious.

Let $f\sqsubseteq\uparrow^{\mathsf{Strd}}\id_{A[n]}$ for every $A\in\up a$.
\begin{multline*}
L\in\GR f\Rightarrow \forall A\in\up a:L\in\GR\uparrow^{\mathsf{Strd}}\id_{A[n]}\Leftrightarrow \\
\forall A\in\up a:\prod L\nasymp\id_{A[n]}\Leftrightarrow
\forall A\in\up a:\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp A\Rightarrow \\
\forall A\in\up a:\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp A\Rightarrow
\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp a\Rightarrow L\in\GR\id_{a[n]}^{\mathsf{Strd}}.
\end{multline*}
Thus $f\sqsubseteq\id_{a[n]}^{\mathsf{Strd}}$.\end{proof}
\begin{prop}
$\ID^{\mathsf{Strd}}_{\mathcal{A}[n]}=\bigsqcup_{a\in\atoms\mathcal{A}}\ID^{\mathsf{Strd}}_{a[n]}=\bigsqcup_{a\in\atoms\mathcal{A}}a_{\mathsf{Strd}}^{n}$
where the join may be taken on every of the following posets: anchored
relations, staroids, completary staroids, provided that $\mathcal{A}$
is a filter on a set.\end{prop}
\begin{proof}
$\ID^{\mathsf{Strd}}_{\mathcal{A}[n]}$ is a completary staroid (proposition~\ref{ID-completary}).
Thus, it's enough to prove that $\ID^{\mathsf{Strd}}_{\mathcal{A}[n]}$ is the lowest upper bound of $\setcond{\ID^{\mathsf{Strd}}_{a[n]}}{a\in\atoms\mathcal{A}}$
(also use the fact that $\ID^{\mathsf{Strd}}_{a[n]}=a_{\mathsf{Strd}}^{n}$).

$\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\sqsupseteq\ID_{a[n]}^{\mathsf{Strd}}$
for every $a\in\atoms\mathcal{A}$ is obvious.

Let $f\sqsupseteq\ID_{a[n]}^{\mathsf{Strd}}$ for every $a\in\atoms\mathcal{A}$.
Then $\forall L\in\GR\ID_{a[n]}^{\mathsf{Strd}}:L\in\GR f$ that is
\[
\forall L\in\form f:\left(\MEET\left(\setcond{L_{i}}{i\in n}\cup\{a\}\right)\Rightarrow L\in\GR f\right).
\]
But
\begin{multline*}
\exists a\in\atoms\mathcal{A}:\MEET\left(\setcond{L_{i}}{i\in n}\cup\{a\}\right)\Leftrightarrow\exists a\in\atoms\mathcal{A}:\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp a\Leftarrow\\
\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp\mathcal{A}\Leftrightarrow L\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\end{multline*}


So $L\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Rightarrow L\in\GR f$.
Thus $f\sqsupseteq\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$.\end{proof}
\begin{prop}
$\id_{\mathcal{A}[n]}^{\mathsf{Strd}}=\bigsqcup_{a\in\atoms\mathcal{A}}\id_{a[n]}^{\mathsf{Strd}}$
where the meet may be taken on every of the following posets: anchored
relations, staroids, provided that $\mathcal{A}$ is a filter on a
set.\end{prop}
\begin{proof}
Since $\id^{\mathsf{Strd}}_{\mathcal{A}[n]}$ is a staroid (proposition~\ref{id-strd}),
it's enough to prove the result for join on anchored relations.

$\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\sqsupseteq\id_{a[n]}^{\mathsf{Strd}}$
for every $a\in\atoms\mathcal{A}$ is obvious.

Let $f\sqsupseteq\id_{a[n]}^{\mathsf{Strd}}$ for every $a\in\atoms\mathcal{A}$.
Then $\forall L\in\GR\id_{a[n]}^{\mathsf{Strd}}:L\in\GR f$ that is
\[
\forall L\in\form f:\left(\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp a\Rightarrow L\in\GR f\right).
\]
But $\exists a\in\atoms\mathcal{A}:\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp a\Leftarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\nasymp\mathcal{A}\Leftrightarrow L\in\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$.

So $L\in\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Rightarrow L\in\GR f$.
Thus $f\sqsupseteq\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$.
\end{proof}

\subsection{Finite case}
\begin{thm}
Let $n$ be a finite set.
\begin{enumerate}
\item \label{id-fin-down}$\id_{\mathcal{A}[n]}^{\mathsf{Strd}}=\downdownarrows\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$
if $\mathfrak{A}$ and $\mathfrak{Z}$ are meet-semilattices and $(\mathfrak{A},\mathfrak{Z})$
is a binarily meet-closed filtrator.
\item \label{id-fin-up}$\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}=\upuparrows\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$
if $(\mathfrak{A},\mathfrak{Z})$ is a primary filtrator over a distributive
lattice.
\end{enumerate}
\end{thm}
\begin{proof}
~
\begin{widedisorder}
\item [{\ref{id-fin-down}}] ~
\begin{multline*}
L\in\GR\downdownarrows\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow L\in\GR\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\MEET\left(\setcond{L_{i}}{i\in n}\cup\{\mathcal{A}\}\right)\Leftrightarrow\\
\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\sqcap\mathcal{A}\neq0\Leftrightarrow\text{(by finiteness)}\Leftrightarrow\bigsqcap_{i\in n}^{\mathfrak{Z}}L_{i}\sqcap\mathcal{A}\neq0\Leftrightarrow L\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}
\end{multline*}
 for every $L\in\prod\mathfrak{Z}$.
\item [{\ref{id-fin-up}}] ~
\begin{multline*}
L\in\GR\upuparrows\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\up L\subseteq\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\forall K\in\up L:K\in\GR\id_{\mathcal{A}[n]}^{\mathsf{Strd}}\Leftrightarrow\\
\forall K\in\up L:\bigsqcap_{i\in n}^{\mathfrak{Z}}K_{i}\in\corestar\mathcal{A}\Leftrightarrow\forall K\in\up L:\bigsqcap_{i\in n}^{\mathfrak{Z}}K_{i}\nasymp\mathcal{A}\Leftrightarrow\\
\text{(by finiteness and theorem \ref{up-filt-crit})}\Leftrightarrow\\
\forall K\in\up L:\bigsqcap_{i\in n}^{\mathfrak{A}}K_{i}\nasymp\mathcal{A}\Leftrightarrow\mathcal{A}\in\bigcap\rsupfun{\fullstar}\setcond{\bigsqcap_{i\in n}^{\mathfrak{A}}K_{i}}{K\in\up L}\Leftrightarrow\\
\text{(by the formula for finite meet of filters, theorem \ref{f-fin-filt-meet})}\Leftrightarrow\\
\mathcal{A}\in\bigcap\rsupfun{\fullstar}\up\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\Leftrightarrow\forall K\in\up\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}:\mathcal{A}\in\fullstar K\Leftrightarrow\forall K\in\up\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}:\mathcal{A}\nasymp K\Leftrightarrow\\
\text{(by separability of core, theorem \ref{when-sep-core})}\Leftrightarrow\\
\bigsqcap_{i\in n}^{\mathfrak{A}}L_{i}\nasymp\mathcal{A}\Leftrightarrow L\in\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}.
\end{multline*}

\end{widedisorder}
\end{proof}
\begin{prop}
Let $(\mathfrak{A},\mathfrak{Z})$ be a binarily meet closed filtrator
whose core is a meet-semilattice. $\downdownarrows\ID_{\mathcal{A}[n]}^{\mathsf{Strd}}$
and $\id_{\mathcal{A}[n]}^{\mathsf{Strd}}$ are the same for finite
$n$.\end{prop}
\begin{proof}
Because $\bigsqcap_{i\in\dom L}^{\mathfrak{Z}}L_{i}=\bigsqcap_{i\in\dom L}^{\mathfrak{A}}L_{i}$
for finitary $L$.
\end{proof}

\section{Counter-examples}
\begin{example}
$\upuparrows\downdownarrows f\neq f$ for some staroid $f$ whose
form is an indexed family of filters on a set.\end{example}
\begin{proof}
Let $f=\setcond{\mathcal{A}\in\mathscr{F}(\mho)}{\uparrow\Cor\mathcal{A}\nasymp\Delta}$
for some infinite set $\mho$ where $\Delta$ is some non-principal
filter on $\mho$.
\begin{multline*}
A\sqcup B\in f\Leftrightarrow\uparrow^{\mho}\Cor(A\sqcup B)\nasymp\Delta\Leftrightarrow\uparrow^{\mho}\Cor A\sqcup\uparrow^{\mho}\Cor B\nasymp\Delta\Leftrightarrow\\
\uparrow^{\mho}\Cor A\sqcap\Delta\neq\bot^{\mathscr{F}(\mho)}\vee\uparrow^{\mho}\Cor B\sqcap\Delta\neq\bot^{\mathscr{F}(\mho)}\Leftrightarrow A\in f\vee B\in f.
\end{multline*}


Obviously $\bot^{\mathscr{F}(\mho)}\notin f$. So $f$ is a free star.
But free stars are essentially the same as $1$-staroids.

$\downdownarrows f=\partial\Delta$. $\upuparrows\downdownarrows f=\setcond{Z\in\mathscr{F}}{\up Z\subseteq\corestar\Delta}=\setcond{Z\in\mathscr{F}}{\forall K\in\up Z:K\nasymp\Delta}=\setcond{Z\in\mathscr{F}}{Z\nasymp\Delta}=\star\Delta\neq f$.
\end{proof}
For the below counter-examples we will define a staroid $\vartheta$
with $\arity\vartheta=\mathbb{N}$ and $\GR\vartheta\in\subsets(\mathbb{N}^{\mathbb{N}})$
(based on a suggestion by \noun{Andreas Blass}): 
\[
A\in\GR\vartheta\Leftrightarrow\sup_{i\in\mathbb{N}}\card(A_{i}\cap i)=\mathbb{N}\wedge\forall i\in\mathbb{N}:A_{i}\neq\emptyset.
\]

\begin{prop}
$\vartheta$ is a staroid.\end{prop}
\begin{proof}
$(\val\vartheta)_{i}L=\subsets\mathbb{N}\setminus\{\emptyset\}$ for
every $L\in(\subsets\mathbb{N})^{\mathbb{N}\setminus\{i\}}$ if 
\[
\sup_{j\in\mathbb{N}\setminus\{i\}}\card(A_{j}\cap j)=\mathbb{N}\wedge\forall j\in\mathbb{N}\setminus\{i\}:L_{j}\neq\emptyset.
\]
Otherwise $(\val\vartheta)_{i}L=\emptyset$. Thus $(\val\vartheta)_{i}L$
is a free star. So $\vartheta$ is a staroid. (That $\vartheta$ is
an upper set, is obvious.)\end{proof}
\begin{prop}
$\vartheta$ is a completary staroid.\end{prop}
\begin{proof}
~
\begin{multline*}
A_{0}\sqcup A_{1}\in\GR\vartheta\Leftrightarrow A_{0}\cup A_{1}\in\GR\vartheta\Leftrightarrow\\
\sup_{i\in\mathbb{N}}\card((A_{0}i\cup A_{1}i)\cap i)=\mathbb{N}\wedge\forall i\in\mathbb{N}:A_{0}i\cup A_{1}i\neq\emptyset\Leftrightarrow\\
\sup_{i\in\mathbb{N}}\card((A_{0}i\cap i)\cup(A_{1}i\cap i))=\mathbb{N}\wedge\forall i\in\mathbb{N}:A_{0}i\cup A_{1}i\neq\emptyset.
\end{multline*}


If $A_{0}i=\emptyset$ then $A_{0}i\cap i=\emptyset$ and thus $A_{1}i\cap i\sqsupseteq A_{0}i\cap i$.
Thus we can select $c(i)\in\{0,1\}$ in such a way that $\forall d\in\{0,1\}:\card(A_{c(i)}i\cap i)\sqsupseteq\card(A_{d}i\cap i)$
and $A_{c(i)}i\neq\emptyset$. (Consider the case $A_{0}i,A_{1}i\neq\emptyset$
and the similar cases $A_{0}i=\emptyset$ and $A_{1}i=\emptyset$.)

So 
\begin{multline*}
A_{0}\sqcup A_{1}\in\GR\vartheta\Leftrightarrow\sup_{i\in\mathbb{N}}\card(A_{c(i)}i\cap i)=\mathbb{N}\wedge\forall i\in\mathbb{N}:A_{c(i)}i\neq\emptyset\Leftrightarrow\\
(\mylambda in{A_{c(i_{})}i})\in\GR\vartheta.
\end{multline*}


Thus $\vartheta$ is completary.\end{proof}
\begin{obvious}
$\vartheta$ is non-zero.\end{obvious}
\begin{example}
There is such a nonzero staroid~$f$ on powersets that $f\nsqsupseteq\prod^{\mathsf{Strd}}a$ for every family~$a=a_{i\in\mathbb{N}}$.\end{example}
\begin{proof}
It's enough to prove $\vartheta\nsqsupseteq\prod^{\mathsf{Strd}}a$.

Let $\uparrow^{\mathbb{N}}R_{i}=a_{i}$ if $a_{i}$ is principal and
$R_{i}=\mathbb{N}\setminus i$ if $a_{i}$ is non-principal.

We have $\forall i\in\mathbb{N}:R_{i}\in a_{i}$.

We have $R\notin\GR\vartheta$ because $\sup_{i\in\mathbb{N}}\card(R_{i}\cap i)\neq\mathbb{N}$.

$R\in\prod^{\mathsf{Strd}}a$ because $\forall X\in a_{i}:X\cap R_{i}\neq\emptyset$.

So $\vartheta\nsqsupseteq\prod^{\mathsf{Strd}}a$.\end{proof}
\begin{rem}
At \href{http://mathoverflow.net/questions/60925/special-infinitary-relations-and-ultrafilters}{http://mathoverflow.net/questions/60925/special-infinitary-relations-and-ultrafilters}
there is a proof for arbitrary infinite form, not just for $\mathbb{N}$.\end{rem}
\begin{conjecture}
For every family $a=a_{i\in\mathbb{N}}$ of ultrafilters $\prod^{\mathsf{Strd}}a$
is not an atom nor of the poset of staroids neither of the poset of
completary staroids of the form $\mylambda i{\mathbb{N}}{\Base(a_{i})}$.\end{conjecture}
\begin{conjecture}
There exists a non-completary staroid on powersets.
\end{conjecture}

\begin{conjecture}
There exists a prestaroid which is not a staroid.
\end{conjecture}

\begin{conjecture}
The set of staroids of the form $A^{B}$ where $A$ and $B$ are sets
is atomic.
\end{conjecture}

\begin{conjecture}
The set of staroids of the form $A^{B}$ where $A$ and $B$ are sets
is atomistic.
\end{conjecture}

\begin{conjecture}
The set of completary staroids of the form $A^{B}$ where $A$ and
$B$ are sets is atomic.
\end{conjecture}

\begin{conjecture}
The set of completary staroids of the form $A^{B}$ where $A$ and
$B$ are sets is atomistic.\end{conjecture}
\begin{example}
$\StarComp(a,f\sqcup g)\neq\StarComp(a,f)\sqcup\StarComp(a,g)$ in
the category of binary relations with star-morphisms for some $n$-ary
relation $a$ and an $n$-indexed families $f$ and $g$ of functions.\end{example}
\begin{proof}
Let $n=\{0,1\}$. Let $\GR a=\{(0,1),(1,0)\}$ and $f=\llbracket\{(0,1)\},\{(1,0)\}\rrbracket$,
$g=\llbracket\{(1,0)\},\{(0,1)\}\rrbracket$.

For every $\{0,1\}$-indexed family of $\mu$ of functions:
\begin{multline*}
L\in\StarComp(a,\mu)\Leftrightarrow\exists y\in a:(y_{0}\mathrel{\mu_{0}}L_{0}\wedge y_{1}\mathrel{\mu_{1}}L_{1})\Leftrightarrow\\
\exists y_{0}\in\dom\mu_{0},y_{1}\in\dom\mu_{1}:(y_{0}\mathrel{\mu_{0}}L_{0}\wedge y_{1}\mathrel{\mu_{1}}L_{1})
\end{multline*}
 for every $n$-ary relation $\mu$.

Consequently 
\[
L\in\StarComp(a,f)\Leftrightarrow L_{0}=1\wedge L_{1}=0\Leftrightarrow L=(1,0)
\]
that is $\StarComp(a,f)=\{(1,0)\}$. Similarly

$\StarComp(a,g)=\{(0,1)\}$.

Also 
\begin{multline*}
L\in\StarComp(a,f\sqcup g)\Leftrightarrow\\
\exists y_{0},y_{1}\in\{0,1\}:((y_{0}\mathrel{f_{0}}L_{0}\vee y_{0}\mathrel{g_{0}}L_{0})\wedge(y_{1}\mathrel{f_{1}}L_{1}\vee y_{1}\mathrel{g_{1}}L_{1})).
\end{multline*}
Thus 
\[
\StarComp(a,f\sqcup g)=\{(0,1),(1,0),(0,0),(1,1)\}.
\]
\end{proof}
\begin{cor}
The above inequality is possible also for star-morphisms of funcoids
and star-morphisms of reloids.\end{cor}
\begin{proof}
Because finitary funcoids and reloids between finite sets are essentially
the same as finitary relations and our proof above works for binary
relations.
\end{proof}
The following example shows that the theorem \ref{mfunc-compl-k}
can't be strengthened:
\begin{example}
For some multifuncoid $f$ on powersets complete in argument $k$
the following formula is false:

$\supfun f_{l}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)=\bigsqcup_{x\in X}\supfun f_{l}(L\cup\{(k,x)\})$
for every $X\in\subsets\mathfrak{Z}_{k}$, $L\in\prod_{i\in(\arity f)\setminus\{k,l\}}\mathscr{F}_{i}$.\end{example}
\begin{proof}
Consider multifuncoid $f=\Lambda\id_{\uparrow U[3]}^{\mathsf{Strd}}$
where $U$ is an infinite set (of the form $\mathfrak{Z}^{3}$) and
$L=(Y)$ where $Y$ is a nonprincipal filter on $U$.

$\supfun f_{0}\left(L\cup\left\{ \left(k,\bigsqcup X\right)\right\} \right)=Y\sqcap\bigsqcup X$;

$\bigsqcup_{x\in X}\supfun f_{0}(L\cup\{(k,x)\})=\bigsqcup_{x\in X}(Y\sqcap x)$.

It can be $Y\sqcap\bigsqcup X=\bigsqcup_{x\in X}(Y\sqcap x)$ only
if $Y$ is principal: Really: $Y\sqcap\bigsqcup X=\bigsqcup_{x\in X}(Y\sqcap x)$
implies $Y\nasymp\bigsqcup X\Rightarrow\bigsqcup_{x\in X}(Y\sqcap x)\neq\bot\Rightarrow\exists x\in X:Y\nasymp x$
and thus $Y$ is principal. But we claimed above that it is nonprincipal.\end{proof}
\begin{example}
There exists a staroid $f$ and an indexed family $X$ of principal
filters (with $\arity f=\dom X$ and $(\form f)_{i}=\Base(X_{i})$
for every $i\in\arity f$), such that $f\sqsubseteq\prod^{\mathsf{Strd}}X$
and $Y\sqcap X\notin\GR f$ for some $Y\in\GR f$.\end{example}
\begin{rem}
Such examples obviously do not exist if both $f$ is a principal staroid
and $X$ and $Y$ are indexed families of principal filters (because
for powerset algebras staroidal product is equivalent to Cartesian
product). This makes the above example inspired.\end{rem}
\begin{proof}
(\noun{Monroe Eskew}) Let $a$ be any (trivial or nontrivial) ultrafilter
on an infinite set $U$. Let $A,B\in a$ be such that $A\cap B\subset A,B$.
In other words, $A$, $B$ are arbitrary nonempty sets such that $\emptyset\neq A\cap B\subset A,B$
and $a$ be an ultrafilter on $A\cap B$.

Let $f$ be the staroid whose graph consists of functions $p:U\rightarrow a$
such that either $p(n)\supseteq A$ for all but finitely many $n$
or $p(n)\supseteq B$ for all but finitely many $n$. Let's prove
$f$ is really a staroid.

It's obvious $px\neq\emptyset$ for every $x\in U$. Let $k\in U$,
$L\in a^{U\setminus\{k\}}$. It is enough (taking symmetry into account)
to prove that 
\begin{equation}
L\cup\{(k,x\sqcup y)\}\in\GR f\Leftrightarrow L\cup\{(k,x)\}\in\GR f\vee L\cup\{(k,y)\}\in\GR f.\label{ex-spec-staroid}
\end{equation}
Really, $L\cup\{(k,x\sqcup y)\}\in\GR f$ iff $x\sqcup y\in a$ and
$L(n)\supseteq A$ for all but finitely many $n$ or $L(n)\supseteq B$
for all but finitely many $n$; $L\cup\{(k,x)\}\in\GR f$ iff $x\in a$
and $L(n)\supseteq A$ for all but finitely many $n$ or $L(n)\supseteq B$;
and similarly for $y$.

But $x\sqcup y\in a\Leftrightarrow x\in a\vee y\in a$ because $a$
is an ultrafilter. So, the formula (\ref{ex-spec-staroid}) holds,
and we have proved that $f$ is really a staroid.

Take $X$ be the constant function with value $A$ and $Y$ be the
constant function with value $B$.

$\forall p\in\GR f:p\nasymp X$ because $p_{i}\cap X_{i}\in a$; so
$\GR f\subseteq\GR\prod^{\mathsf{Strd}}X$ that is $f\sqsubseteq\prod^{\mathsf{Strd}}X$.

Finally, $Y\sqcap X\notin\GR f$ because $X\sqcap Y=\lambda i\in U:A\cap B$.
\end{proof}

\section{Conjectures}
\begin{rem}
Below I present special cases of possible theorems. The theorems may
be generalized after the below special cases are proved.\end{rem}
\begin{conjecture}
For every two funcoids $f$ and $g$ we have:
\begin{enumerate}
\item $\torldin a\suprel{f\times^{(DP)}g}\torldin b\Leftrightarrow a\suprel{f\times^{(C)}g}b$
for every funcoids $a\in\mathsf{FCD}(\Src f,\Src g)$, $b\in\mathsf{FCD}(\Dst f,\Dst g)$;
\item $\torldout a\suprel{f\times^{(DP)}g}\torldout b\Leftrightarrow a\suprel{f\times^{(C)}g}b$
for every funcoids $a\in\mathsf{FCD}(\Src f,\Src g)$, $b\in\mathsf{FCD}(\Dst f,\Dst g)$;
\item $\tofcd a\suprel{f\times^{(C)}g}\tofcd b\Leftrightarrow a\suprel{f\times^{(DP)}g}b$
for every reloids $a\in\mathsf{RLD}(\Src f,\Src g)$, $b\in\mathsf{RLD}(\Dst f,\Dst g)$.
\end{enumerate}
\end{conjecture}

\begin{conjecture}
For every two funcoids $f$ and $g$ we have:
\begin{enumerate}
\item $\torldin a\suprel{f\times^{(A)}g}\torldin b\Leftrightarrow a\suprel{f\times^{(C)}g}b$
for every funcoids $a\in\mathsf{FCD}(\Src f,\Src g)$, $b\in\mathsf{FCD}(\Dst f,\Dst g)$;
\item $\torldout a\suprel{f\times^{(A)}g}\torldout b\Leftrightarrow a\suprel{f\times^{(C)}g}b$
for every funcoids $a\in\mathsf{FCD}(\Src f,\Src g)$, $b\in\mathsf{FCD}(\Dst f,\Dst g)$;
\item $\tofcd a\suprel{f\times^{(C)}g}\tofcd b\Leftrightarrow a\suprel{f\times^{(A)}g}b$
for every reloids $a\in\mathsf{RLD}(\Src f,\Src g)$, $b\in\mathsf{RLD}(\Dst f,\Dst g)$.
\end{enumerate}
\end{conjecture}
\begin{conjecture}
\label{conj-meet-two-prod}$\prod^{\mathsf{Strd}}a\nasymp\prod^{\mathsf{Strd}}b\Leftrightarrow b\in\prod^{\mathsf{Strd}}a\Leftrightarrow a\in\prod^{\mathsf{Strd}}b\Leftrightarrow\forall i\in n:a_{i}\nasymp b_{i}$
for every $n$-indexed families $a$ and $b$ of filters on powersets.
\end{conjecture}

\begin{conjecture}
\label{two-prod-c}Let $f$ be a staroid on powersets and $a\in\prod_{i\in\arity f}\Src f_{i}$,
$b\in\prod_{i\in\arity f}\Dst f_{i}$. Then 
\[
\prod^{\mathsf{Strd}}a\suprel{\prod^{(C)}f}\prod^{\mathsf{Strd}}b\Leftrightarrow\forall i\in n:a_{i}\suprel{f_{i}}b_{i}.
\]
\end{conjecture}
\begin{prop}
The conjecture~\ref{two-prod-c} is a consequence of the conjecture~\ref{conj-meet-two-prod}.\end{prop}
\begin{proof}
~

\begin{multline*}
\prod^{\mathsf{Strd}}a\suprel{\prod^{(C)}f}\prod^{\mathsf{Strd}}b\Leftrightarrow\prod^{\mathsf{Strd}}b\nasymp\supfun{\prod^{(C)}f}\prod^{\mathsf{Strd}}a\Leftrightarrow\prod^{\mathsf{Strd}}b\nasymp\prod_{i\in n}^{\mathsf{Strd}}\langle f_{i}\rangle a_{i}\Leftrightarrow\\
\forall i\in n:b_{i}\nasymp\supfun{f_{i}}a_{i}\Leftrightarrow\forall i\in n:a_{i}\suprel{f_{i}}b_{i}.
\end{multline*}
\end{proof}
\begin{conjecture}
For every indexed families $a$ and $b$ of filters and an indexed
family $f$ of pointfree funcoids we have 
\[
\prod^{\mathsf{Strd}}a\suprel{\prod^{(C)}f}\prod^{\mathsf{Strd}}b\Leftrightarrow\prod^{\mathsf{RLD}}a\suprel{\prod^{(DP)}f}\prod^{\mathsf{RLD}}b.
\]

\end{conjecture}

\begin{conjecture}
For every indexed families $a$ and $b$ of filters and an indexed
family $f$ of pointfree funcoids we have 
\[
\prod^{\mathsf{Strd}}a\suprel{\prod^{(C)}f}\prod^{\mathsf{Strd}}b\Leftrightarrow\prod^{\mathsf{RLD}}a\suprel{\prod^{(A)}f}\prod^{\mathsf{RLD}}b.
\]

\end{conjecture}
Strengthening of an above result:
\begin{conjecture}
If $a$ is a completary staroid and $\Dst f_{i}$ is a starrish poset
for every $i\in n$ then $\StarComp(a,f)$ is a completary staroid.
\end{conjecture}
Strengthening of above results:
\begin{conjecture}
~
\begin{enumerate}
\item $\prod^{(D)}F$ is a prestaroid if every $F_{i}$ is a prestaroid.
\item $\prod^{(D)}F$ is a completary staroid if every $F_{i}$ is a completary
staroid.
\end{enumerate}
\end{conjecture}

\begin{conjecture}
If $f_{1}$ and $f_{2}$ are funcoids, then there exists a pointfree
funcoid $f_{1}\times f_{2}$ such that 
\[
\langle f_{1}\times f_{2}\rangle x=\bigsqcup\setcond{\supfun{f_{1}}X\times^{\mathsf{FCD}}\supfun{f_{2}}X}{X\in\atoms x}
\]
for every ultrafilter $x$.
\end{conjecture}

\begin{conjecture}
Let $(\mathfrak{A},\mathfrak{Z})=(\mathfrak{A},\mathfrak{Z})_{i\in n}$
be a family of filtrators on boolean lattices.

A relation $\delta\in\subsets\prod\atoms^{\mathfrak{A}_{i}}$ such
that for every $a\in\prod\atoms^{\mathfrak{A}_{i}}$ 
\begin{equation}
\forall A\in a:\delta\cap\prod_{i\in n}\atoms\uparrow^{\mathfrak{Z}_{i}}A_{i}\neq\emptyset\Rightarrow a\in\delta\label{m-for-atoms}
\end{equation}
can be continued till the function $\upuparrows f$ for a unique staroid
$f$ of the form $\lambda i\in n:\mathfrak{A}_{i}$. The funcoid $f$
is completary.
\end{conjecture}

\begin{conjecture}
For every $\mathcal{X}\in\prod_{i\in n}\mathscr{F}(\mathfrak{A}_{i})$
\begin{equation}
\mathcal{X}\in\GR\upuparrows f\Leftrightarrow\delta\cap\prod_{i\in n}\atoms\mathcal{X}_{i}\neq\emptyset.\label{m-ast-atoms}
\end{equation}

\end{conjecture}

\begin{conjecture}
Let $R$ be a set of staroids of the form $\mylambda in{\mathscr{F}(\mathfrak{A}_{i})}$
where every $\mathfrak{A}_{i}$ is a boolean lattice. If $x\in\prod_{i\in n}\atoms^{\mathscr{F}(\mathfrak{A}_{i})}$
then $x\in\GR\upuparrows\bigsqcap R\Leftrightarrow\forall f\in R:x\in\upuparrows f$.

There exists a completary staroid $f$ and an indexed family $X$
of principal filters (with $\arity f=\dom X$ and $(\form f)_{i}=\Base(X_{i})$
for every $i\in\arity f$), such that $f\sqsubseteq\prod^{\mathsf{Strd}}X$
and $Y\sqcap X\notin\GR f$ for some $Y\in\GR f$.
\end{conjecture}

\begin{conjecture}
There exists a staroid $f$ and an indexed family $x$ of ultrafilters
(with $\arity f=\dom x$ and $(\form f)_{i}=\Base(x_{i})$ for every
$i\in\arity f$), such that $f\sqsubseteq\prod^{\mathsf{Strd}}x$
and $Y\sqcap x\notin\GR f$ for some $Y\in\GR f$.
\end{conjecture}
Other conjectures:
\begin{conjecture}
If staroid $\bot\neq f\sqsubseteq a_{\mathsf{Strd}}^{n}$ for an ultrafilter
$a$ and an index set $n$, then $n\times\{a\}\in\GR f$. (Can it
be generalized for arbitrary staroidal products?)
\end{conjecture}

\begin{conjecture}
The following posets are atomic:
\begin{enumerate}
\item anchored relations on powersets;
\item staroids on powersets;
\item completary staroids on powersets.
\end{enumerate}


\begin{conjecture}
The following posets are atomistic:
\begin{enumerate}
\item anchored relations on powersets;
\item staroids on powersets;
\item completary staroids on powersets.
\end{enumerate}
\end{conjecture}
\end{conjecture}
The above conjectures seem difficult, because we know almost nothing
about structure of atomic staroids.
\begin{conjecture}
A staroid on powersets is principal iff it is complete in every argument.
\end{conjecture}

\begin{conjecture}
If $a$ is an ultrafilter, then $\id_{a[n]}^{\mathsf{Strd}}$ is an
atom of the lattice of:
\begin{enumerate}
\item anchored relations of the form $(\subsets\Base(a))^{n}$;
\item staroids of the form $(\subsets\Base(a))^{n}$;
\item completary staroids of the form $(\subsets\Base(a))^{n}$.
\end{enumerate}
\end{conjecture}

\begin{conjecture}
If $a$ is an ultrafilter, then $\upuparrows\id_{a[n]}^{\mathsf{Strd}}$
is an atom of the lattice of:
\begin{enumerate}
\item anchored relations of the form $\mathscr{F}(\Base(a))^{n}$;
\item staroids of the form $\mathscr{F}(\Base(a))^{n}$;
\item completary staroids of the form $\mathscr{F}(\Base(a))^{n}$.
\end{enumerate}
\end{conjecture}

\subsection{On finite unions of infinite Cartesian products}

Let $\mathfrak{A}$ be an indexed family of sets.

\emph{Products} are $\prod A$ for $A\in\prod\mathfrak{A}$.

Let the lattice $\Gamma$ consists of all finite unions of products.

Let the lattice $\Gamma^{\ast}$ be the lattice of complements of
elements of the lattice~$\Gamma$.
\begin{problem}
Is $\bigsqcap^{\mathsf{FCD}}$ a bijection from a. $\mathfrak{F}\Gamma$;
b. $\mathfrak{F}\Gamma^{\ast}$ to:
\begin{enumerate}
\item prestaroids on $\mathfrak{A}$;
\item staroids on $\mathfrak{A}$;
\item completary staroids on $\mathfrak{A}$?
\end{enumerate}
If yes, is $\up^{\Gamma}$ defining the inverse bijection?

If not, characterize the image of the function $\bigsqcap^{\mathsf{FCD}}$
defined on a. $\mathfrak{F}\Gamma$; b. $\mathfrak{F}\Gamma^{\ast}$.
\end{problem}

\subsection{Informal questions}

Do products of funcoids and reloids coincide with Tychonoff topology?

Limit and generalized limit for multiple arguments.

Is product of connected spaces connected?

Product of $T_{0}$-separable is $T_{0}$, of $T_{1}$ is $T_{1}$?

Relationships between multireloids and staroids.

Generalize the section ``Specifying funcoids by functions or relations
on atomic filters'' from \cite{pointfree}.

Generalize ``Relationships between funcoids and reloids''.

Explicitly describe the set of complemented funcoids.

Formulate and prove associativity of staroidal product.

What are necessary and sufficient conditions for $\up f$ to be a filter (for a funcoid~$f$)? (See also proposition~\ref{up-f-filt}.)
