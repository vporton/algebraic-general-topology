\chapter{Bases on filtrators}

In this chapter I consider generalization of filter bases
for the filtrator of funcoids (and more general filtrators).

Below I present mainly unproved conjectures.

\begin{lem}
$\up (f \sqcap^{\mathsf{FCD}} g) \subseteq \bigcup \setcond{
\up (F \sqcap^{\mathsf{FCD}} G) }{ F \in \up f, G \in \up g }$
or equivalently: If $Z\in\up (f \sqcap^{\mathsf{FCD}} g)$ then there exists
$F \in \up f$, $G \in \up g$ such that $Z\in\up (F \sqcap^{\mathsf{FCD}} G)$.
\fxnote{Which of the two statements is easier to show?}
\fxnote{What's about an infinitary variant of this lemma (and its consequences)?}
\end{lem}

\begin{proof}
$X \in \up (f \sqcap^{\mathsf{FCD}} g) \Rightarrow X \in \setcond{
X \sqcup Y }{ Y \in \up (f
\sqcap^{\mathsf{FCD}} g) } = X \in \setcond{ Z }{ Z \in \up (X \sqcup (f \sqcap^{\mathsf{FCD}} g))
} \Leftrightarrow X \in \up (X \sqcup (f
\sqcap^{\mathsf{FCD}} g)) \Rightarrow X \in \up (X
\sqcap^{\mathsf{FCD}} g) \Rightarrow X \in \bigcup \setcond{ \up (F
\sqcap^{\mathsf{FCD}} g) }{ F \in \up f
}$ that is $\up (f \sqcap^{\mathsf{FCD}} g) \subseteq
\bigcup \setcond{ \up (F \sqcap^{\mathsf{FCD}} g) }{
F \in \up f }$. Apply this formula second time:

$\up (F \sqcap^{\mathsf{FCD}} g) \subseteq \bigcup \setcond{
\up (F \sqcap^{\mathsf{FCD}} G) }{ G \in
\up g }$. So

$\up (f \sqcap^{\mathsf{FCD}} g) \subseteq \bigcup \setcond{
\bigcup \setcond{ \up (F \sqcap^{\mathsf{FCD}} G) }{ G \in \up g } }{ F \in
\up f } = \bigcup \setcond{ \up (F
\sqcap^{\mathsf{FCD}} G) }{ F \in \up f,
G \in \up g }$.
\end{proof}

\begin{prop}
$\up (f \sqcap^{\mathsf{FCD}} g) \subseteq \setcond{ F \sqcap G }{ F \in \up f, G \in \up g }$.
\end{prop}

\begin{proof}
$\up (F \sqcap^{\mathsf{FCD}} G) \subseteq \up (F
\sqcap G)$. So $\up (f \sqcap^{\mathsf{FCD}} g) \subseteq \bigcup
\setcond{ \up (F \sqcap G) }{ F \in \up f,
G \in \up g } \subseteq \setcond{ F \sqcap G }{ F \in \up f, G \in \up g }$ because every
element of $X \in \up (F \sqcap G)$ can be represented as $F' \sqcap G'$
for $F' \in \up f$, $G' \in \up g$ (take $F' = F \sqcup X$ and $G'
= G \sqcup X$; then $F' \sqcap G' = (F \sqcup X) \sqcap (G \sqcup X) = (F
\sqcap G) \sqcup X = X$).
\end{proof}

\begin{cor}
$\up (f_0 \sqcap^{\mathsf{FCD}} \ldots
\sqcap^{\mathsf{FCD}} f_n) \subseteq \setcond{ F_0 \sqcap \ldots \sqcap
F_n }{ F_0 \in \up f_0 \wedge \ldots \wedge F_n \in \up f_n }$.
\end{cor}

\begin{proof}
~
\begin{multline*}
\up (f_0 \sqcap^{\mathsf{FCD}} \ldots
\sqcap^{\mathsf{FCD}} f_{n + 1}) \subseteq \setcond{ F \sqcap G
}{ F \in \up (f_0 \sqcap^{\mathsf{FCD}}
\ldots \sqcap^{\mathsf{FCD}} f_n), G \in \up f_{n + 1} } \subseteq \\
\setcond{ F \sqcap G }{ F \in \setcond{ F_0
\sqcap \ldots \sqcap F_n }{ F_0 \in \up f_0
\wedge \ldots \wedge F_n \in \up f_n }, G \in \up f_{n + 1} } = \\
\setcond{ F_0 \sqcap \ldots \sqcap F_{n + 1} }{
F_0 \in \up f_0 \wedge \ldots \wedge F_{n + 1} \in
\up f_{n + 1} }.
\end{multline*}
\end{proof}

\fxwarning{Base must be nonempty.}

\begin{defn}
  A set $S$ of binary relations is a base of a funcoid $f$ when all elements
  of $S$ are above $f$ and $\forall X \in \up f \exists T \in S : T
  \sqsubseteq X$.
\end{defn}

\begin{lem}
  Let for every $X, Y \in S$ and $Z \in \up (X
  \sqcap^{\mathsf{FCD}} Y)$ there is a $T \in S$ such that $T
  \sqsubseteq Z$.
  
  Then for every $X_0, \ldots, X_n \in S$ and $Z \in \up (X_0
  \sqcap^{\mathsf{FCD}} \ldots \sqcap^{\mathsf{FCD}} X_n)$ there
  is a $T \in S$ such that $T \sqsubseteq Z$. [The reverse implication is
  trivial.]
\end{lem}

\begin{proof}
Prove by induction: Let it holds for $n$. Let $Z \in \up (X_0
\sqcap^{\mathsf{FCD}} \ldots \sqcap^{\mathsf{FCD}} X_{n + 1})$.

$Z \in \up (Q \sqcap^{\mathsf{FCD}} X_{n + 1})$ for some $Q \in
\up (X_0 \sqcap^{\mathsf{FCD}} \ldots
\sqcap^{\mathsf{FCD}} X_n)$ (first lemma).

We have $T \in S$ such that $T \sqsubseteq Q$. So $Z \in \up (T
\sqcap^{\mathsf{FCD}} X_{n + 1})$; thus there is $T' \in S$ such that
$T' \sqsubseteq Z$.
\end{proof}

\begin{lem}
  Let for every $X, Y \in S$ and $Z \in \up (X
  \sqcap^{\mathsf{FCD}} Y)$ there is a $T \in S$ such that $T
  \sqsubseteq Z$.
  
  If $Z \in \up \bigsqcap S$ then $Z \in \up (X_0
  \sqcap^{\mathsf{FCD}} \ldots \sqcap^{\mathsf{FCD}} X_n)$ for
  some $n \in \mathbb{N}$, $X_0, \ldots, X_n \in S$.
\end{lem}

\begin{proof}
  $\bigsqcap S = \bigsqcap \up \bigsqcap S$ ??
  
  $Z \in \up \bigsqcap \up \bigsqcap S \Leftrightarrow Z \in
  \up \bigsqcap S \Rightarrow ? ?$
\end{proof}

\begin{prop}
  A set $S$ of binary relations [generalize for sets of funcoids] is a base of
  a funcoid iff for every $X, Y \in S$ and $Z \in \up (X
  \sqcap^{\mathsf{FCD}} Y)$ there is a $T \in S$ such that $T
  \sqsubseteq Z$.
\end{prop}

\begin{proof}
  ~
  \begin{description}
    \item[$\Rightarrow$] Let $S$ be a base of a funcoid $f$. Take $X, Y \in S$
    and $Z \in \up (X \sqcap^{\mathsf{FCD}} Y)$. Thus $Z \in
    \up f$. Thus $\exists T \in S : T \sqsubseteq Z$.
    
    \item[$\Leftarrow$] Take $f = \bigsqcap^{\mathsf{FCD}} S$. Because
    the filtrators of funcoids is filtered, $f =
    \bigsqcap^{\mathsf{FCD}} \up f$.
    
    ?? For every $X \in S$ [need $X \in \up f$ instead] and $Z \in
    \up X$ there is $T \in S$ such that $T \sqsubseteq Z$. Take $Z = X$
    and we have $T \sqsubseteq X$.
    
    ??
  \end{description}
\end{proof}

\fxnote{It seems that the above (when complete) can be easily generalized for more general filtrators.}

Note that the initial incentive to consider all above was to prove this conjecture~\bookref{fcd-comp-ent}.