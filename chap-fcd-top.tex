\chapter{Mappings between endofuncoids and topological spaces}

Oreder topologies reversely to set-theoretic inclusion. That is
for topologies~$t$ and~$s$ we set
$t\sqsubseteq s\Leftrightarrow t\supseteq s$. (Intuitively:
The less is the topology, the lesser are its open sets.)

Let's study mappings between topological spaces and endofuncoids.

\begin{defn}
  Let $t$ be a topology.
  \begin{enumerate}
    \item $F^{\fullstar} t = \bigsqcup_{x \in \Ob t} \left( \{ x \} \times
    \bigsqcap^{\mathscr{F}} \setcond{ E \in t }{ x \in
    E } \right)$;
    
    \item $(F_{\fullstar} t) E = \bigcap \setcond{ D \in t }{ E \subseteq D }$.
  \end{enumerate}
\end{defn}

\begin{prop}
  Let $t$ be a topology.
  \begin{enumerate}
    \item $F^{\fullstar} t$ is complete, reflexive, transitive funcoid.
    
    \item $F_{\fullstar} t$ is co-complete, reflexive, transitive funcoid.
    
    \item $F^{\fullstar}$ and $F_{\fullstar}$ are injections.
    
    \item $F_{\fullstar} t = (F^{\fullstar} t)^{- 1}$.
  \end{enumerate}
\end{prop}

\begin{proof}
  By theorem~\bookref{top-two}.
\end{proof}

\begin{defn}
  Let $f$ be an endofuncoid.
  \[ T f = \setcond{ E \in \subsets \Ob f }{
     \forall x \in E : \supfun{f} \{ x \} \sqsubseteq E } . \]
\end{defn}

\begin{prop}
  $T f$ is a topology.
\end{prop}

\begin{proof}
  
  \begin{description}
    \item[Union of open sets is open] $S \subseteq T f \Rightarrow \forall E
    \in S \forall x \in E : \supfun{f} x \sqsubseteq E \Rightarrow
    \forall x \in \bigcup S : \supfun{f} x \sqsubseteq \bigcup S$
    
    \item[Intersection of two open sets is open] Let $X, Y \in T f$. Then
    $\forall x \in X : \supfun{f} x \sqsubseteq X$ and $\forall x \in Y
    : \supfun{f} x \sqsubseteq Y$. So if $x \in X \cap Y$ then $\langle
    f \rangle x \sqsubseteq X$ and $\supfun{f} x \sqsubseteq Y$, so
    $\supfun{f} x \sqsubseteq X \cap Y$. So $X \cap Y \in T f$.
    
    \item[$\Ob f$ is an open set] Obvious.
  \end{description}
\end{proof}

\begin{obvious}
$T f = \setcond{ E \in \subsets \Ob f }{ \langle
\Compl f \rangle E \sqsubseteq E }$.
\end{obvious}

In some reason when starting this research I assumed that the
following funcoid (for every endofuncoid~$f$) is a Kuratowski closure:
\[
1 \sqcup \CoCompl f \sqcup (\CoCompl f)^2 \sqcup \ldots.
\]
It is not true:

\begin{example}
There exists such a co-complete endofuncoid~$f$ that
$1 \sqcup f \sqcup f^2 \sqcup \ldots$ is not transitive that
is
\[(1 \sqcup f \sqcup f^2 \sqcup \ldots)\circ
(1 \sqcup f \sqcup f^2 \sqcup \ldots) \ne
1 \sqcup f \sqcup f^2 \sqcup \ldots
\]
\end{example}

\begin{proof}
Take $f=\cl\circ g$ where $g$ is the principal funcoid which maps
every real number~$a$ into the closed interval
$\left[ \frac{- 1 - | a |}{2} ; \frac{1 + | a |}{2} \right]$.

Take $X = \left[ - \frac{1}{2} ; \frac{1}{2} \right]$. $\langle f^n
\rangle^{\ast} X = \left[ - 1 + \frac{1}{2^{n + 1}} ; 1 - \frac{1}{2^{n + 1}}
\right]$.

We have $\langle 1 \sqcup f \sqcup f^2 \sqcup \ldots \rangle^{\ast} X =] - 1 ;
1 [$;

$\langle 1 \sqcup f \sqcup f^2 \sqcup \ldots \rangle^{\ast} \langle 1 \sqcup f
\sqcup f^2 \sqcup \ldots \rangle^{\ast} X = [- 1 ; 1]$.

Thus follows our inequality.
\end{proof}

That $F^{\star}$ and $F_{\star}$ are functors (if we map morphisms to
themselves except of changing the objects) follows from
conjecture~\bookref{top-cont}.

\begin{thm}
$T$ (if we map morphisms to
themselves except of changing the objects) is a functor.
\end{thm}

\begin{proof}
  Based on \url{https://math.stackexchange.com/a/2792239/4876}

  Let $f : \mu \rightarrow \nu$ that is $f \circ \mu \sqsubseteq \nu \circ f$.
  We need to prove $f : T \mu \rightarrow T \nu$ that is $E \in T \nu
  \Rightarrow \langle f^{- 1} \rangle^{\ast} E \in T \mu$.

  Suppose $E \in T \nu$ that is $\langle \nu \rangle^{\ast} E \sqsubseteq E$.
  We will prove $\langle \mu \rangle^{\ast} \langle f^{- 1} \rangle^{\ast} E
  \sqsubseteq \langle f^{- 1} \rangle^{\ast} E$.

  \fxnote{Can we use arbitrary filters rather than atoms?}

  Really, let atom $y \sqsubseteq \langle \mu \rangle^{\ast} \langle f^{- 1}
  \rangle^{\ast} E$. Then there exists atom $x \sqsubseteq \langle f^{- 1}
  \rangle^{\ast} E$ such that $x \mathrel{[\mu]^{\ast}} y$.

  $x \mathrel{[f \circ \mu]^{\ast}} \langle f \rangle y$ and thus $x
  \mathrel{[\nu \circ f]^{\ast}} \langle f \rangle y$, so $\langle f \rangle x
  \mathrel{[\nu]^{\ast}} \langle f \rangle y$. But $\langle f \rangle x
  \sqsubseteq E$, so $\langle f \rangle y \sqsubseteq \langle \nu
  \rangle^{\ast} E \sqsubseteq E$, that is $\langle \mu \rangle^{\ast} \langle
  f^{- 1} \rangle^{\ast} E \sqsubseteq E$.
\end{proof}

\begin{prop}
  $f \in \mathrm{C} (\mu, \nu) \Rightarrow f \in \mathrm{C} (\mu^n, \nu^n)$
  for every endofuncoids $\mu$ and $\nu$ and positive natural
  number~$n$.
  \fxnote{Move this proposition to the book.}
\end{prop}

\begin{proof}
  $f \circ \mu \sqsubseteq \nu \circ f$; $f \circ \mu \circ \mu \sqsubseteq
  \nu \circ f \circ \mu$; $f \circ \mu^2 \sqsubseteq \nu^2 \circ f$; $f \circ
  \mu^3 \sqsubseteq \nu^3 \circ f$...
\end{proof}

\begin{prop}
  For every endofuncoid $\mu$:
  \begin{enumerate}
    \item $F_{\fullstar} T \mu \sqsupseteq \Compl \mu$;
    \item $F^{\fullstar} T \mu \sqsupseteq \Compl \mu$;
    \item $F_{\fullstar} T \mu \sqsupseteq \CoCompl \mu$;
    \item $F^{\fullstar} T \mu \sqsupseteq \CoCompl \mu$;
  \end{enumerate}
\end{prop}

\begin{proof}
  We will prove only the first two as the rest are dual.
  
  $\langle F_{\fullstar} T \mu \rangle^{\ast} E =
  \bigcap \setcond{ D \in T \mu
  }{ D \supseteq E } = \bigcap \setcond{ D \in
  \subsets \Ob \mu }{ \langle \Compl
  \mu \rangle^{\ast} D \sqsubseteq D \wedge D \supseteq E } \sqsupseteq
  \bigsqcap \setcond{ \langle \Compl \mu \rangle^{\ast} D }{
  D \in \subsets \Ob \mu, \langle \Compl \mu
  \rangle^{\ast} D \sqsubseteq D \wedge D \supseteq E } \sqsupseteq
  \langle \Compl \mu \rangle^{\ast} E$.
  
  $\langle F^{\fullstar} T \mu \rangle^{\ast} \{ x \} = \bigsqcap^{\mathscr{F}}
  \setcond{ E \in T \mu }{ x \in E } =
  \bigsqcap^{\mathscr{F}} \setcond{ E \in \Ob \mu }{
  x \in E, \left\langle \Compl \mu \right\rangle^{\ast} E
  \sqsubseteq E } \sqsupseteq \bigsqcap^{\mathscr{F}} \setcond{ \langle
  \Compl \mu \rangle^{\ast} E }{ E \in \Ob
  \mu, x \in E, \langle \Compl \mu \rangle^{\ast} E \sqsubseteq E }
  \sqsupseteq \langle \Compl \mu \rangle^{\ast} \{ x \}$.
\end{proof}

\begin{lem}
  For every endofuncoid $\mu$:
  \begin{enumerate}
    \item $F_{\fullstar} T \mu \sqsubseteq 1 \sqcup \Compl \mu \sqcup
    (\Compl \mu)^2 \sqcup \ldots$;
    
    \item $F^{\fullstar} T \mu \sqsubseteq 1 \sqcup \CoCompl \mu \sqcup
    (\CoCompl \mu)^2 \sqcup \ldots$
  \end{enumerate}
\end{lem}

\begin{proof}
  We will prove only the first as the second is dual.
  
  $\langle 1 \sqcup \Compl \mu \sqcup (\Compl \mu)^2 \sqcup \ldots
  \rangle^{\ast} E = E \sqcup \langle \Compl \mu \rangle^{\ast} E \sqcup
  \langle (\Compl \mu)^2 \rangle^{\ast} E \sqcup \ldots$
  
  Take $D = E \sqcup \langle \Compl \mu \rangle^{\ast} E \sqcup \langle
  (\Compl \mu)^2 \rangle^{\ast} E \sqcup \ldots$ We have $\langle
  \Compl \mu \rangle^{\ast} D \sqsubseteq \langle \Compl \mu
  \rangle^{\ast} E \sqcup \langle (\Compl \mu)^2 \rangle^{\ast} E \sqcup
  \ldots \sqsubseteq D$. So
  
  $\bigcap \setcond{ D \in \subsets \Ob \mu }{
  \langle \Compl \mu \rangle^{\ast} D \sqsubseteq D \wedge D \supseteq E
  } \subseteq D \sqsubseteq \langle 1 \sqcup \Compl \mu \sqcup
  (\Compl \mu)^2 \sqcup \ldots \rangle^{\ast} E$.
\end{proof}

\begin{thm}
  If we restrict the functor $T$ only to complete endofuncoids (=~complete
  endoreloids), then $T$ is a left adjoint of both $F_{\fullstar}$ and
  $F^{\fullstar}$.
\end{thm}

\begin{proof}
  We will prove only for $F_{\fullstar}$ as the other is dual.
  
  We will disprove $f \in \mathrm{C} (T \mu, s) \Leftrightarrow f \in
  \mathrm{C} (\mu, F_{\fullstar} s)$ what is equivalent (because $F_{\fullstar}$ is
  full and faithful) to
  \[ f \in \mathrm{C} (F_{\fullstar} T \mu, F_{\fullstar} s) \Leftrightarrow f \in
     \mathrm{C} (\mu, F_{\fullstar} s) ; \]
  $F_{\fullstar} T \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f
  \Leftrightarrow \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f$.
  
  $F_{\fullstar} T \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f \Rightarrow
  \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f$ because $F_{\fullstar} T \mu
  \sqsupseteq \mu$.
  
  If $\mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f$ then $\mu^n
  \sqsubseteq f^{- 1} \circ (F_{\fullstar} s)^n \circ f = f^{- 1} \circ F_{\fullstar}
  s \circ f$. Also obviously $1 \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ
  f$. Thus
  \[ 1 \sqcup \mu \sqcup \mu^2 \sqcup \ldots \sqsubseteq f^{- 1} \circ
     F_{\fullstar} s \circ f \]
  and so $1 \sqcup \Compl \mu \sqcup (\Compl \mu)^2 \sqcup \ldots
  \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f$. So $F_{\fullstar} T \mu
  \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ F$.
\end{proof}

\fxnote{$F$ and $T$ are also a Galois connection, isn't it?}

\begin{example}
  $T$ is a not left adjoint of both $F_{\star}$ and $F^{\star}$, with bijection
  which preserves the ``function'' part of the morphism.
\end{example}

\begin{proof}
  We will disprove only from $F_{\fullstar}$ as the other is dual.
  
  We will disprove $f \in \mathrm{C} (T \mu, s) \Leftrightarrow f \in \mathrm{C}
  (\mu, F_{\fullstar} s)$ what is equivalent
  (because $F_{\star}$ is full and faithful) to
  \[ f \in \mathrm{C} (F_{\fullstar} T \mu, F_{\fullstar} s) \Leftrightarrow f \in
     \mathrm{C} (\mu, F_{\fullstar} s) ; \]
  $F_{\fullstar} T \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f
  \Leftrightarrow \mu \sqsubseteq f^{- 1} \circ F_{\fullstar} s \circ f$.
  
  This equivalence does not hold: Take $s$ the discrete space
  on~$\mathbb{R}$, $f=\id_{\mathbb{R}}$, and
  $\rsupfun{\mu}X=X$ for finite sets~$X$ and $\rsupfun{\mu}X=\top$
  for infinite~$X$.
\end{proof}
