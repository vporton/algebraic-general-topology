\chapter{On ``Each regular paratopological group is completely regular'' article}

In this chapter I attempt to rewrite the paper~\cite{2014arXiv1410.1504B} in more general setting of funcoids and reloids.
I attempt to construct a ``royal road'' to finding proofs of statements of this paper and similar ones, what is
important because we lose 60 years waiting for any proof.

\section{Definition of normality}

By definition (slightly generalizing the special case if $f$ is a
quasi-uniform space) a pair of an endo-reloid~$f$ and a co-complete funcoid~$g$ (playing role of a generalization of a topological space)
on a set $U$ is \emph{normal} when
\[ \rsupfun{g} A \sqsubseteq \rsupfun{
g^{\circ}} \rsupfun{g } \rsupfun{F} A \] for every entourage $F \in
\up f$ of $f$ and every set $A \subseteq U$.

Note that this is \emph{not} the same as customary definition of normal topological spaces.

\begin{thm}
  An endoreloid $f$ is normal iff
  \[ g^{- 1} \circ g \sqsubseteq
  g \circ (\mathsf{FCD}) f. \]
\end{thm}

\begin{proof}
  Equivalently transforming the criterion of normality (which should hold for
  all $F \in \up f$) using proposition~\ref{get-rid-interior}:

  $\rsupfun{g^{- 1}}
  \rsupfun{g} A \sqsubseteq
  \rsupfun{g} \rsupfun{F} A$.

  Also note
  
  $\bigsqcap^{\mathscr{F}}_{F \in \up f} \rsupfun{ g
  } \langle F \rangle^{\ast} A = \text{(because funcoids preserve
  filtered meets)} = \rsupfun{ g
  }  \bigsqcap^{\mathscr{F}}_{F \in \up f} \rsupfun{F} A =
  \rsupfun{ g }
  \rsupfun{ (\mathsf{FCD}) f } A$.

  Thus the above is equivalent to
  $\rsupfun{g^{-1}}
  \rsupfun{g} A \sqsubseteq
  \rsupfun{ g }
  \rsupfun{ (\mathsf{FCD}) f } A$.

  And this is in turn equivalent to
  \[ g^{-1} \circ g \sqsubseteq
  g \circ (\mathsf{FCD}) f. \]
\end{proof}

\begin{cor}
If $g$ is a symmetric endoreloid and $\tofcd f\sqsupseteq g$, then it is normal.
\fxnote{Not quite the same as \noun{Banakh}'s theorem, because the induced topological space is $\CoCompl\tofcd f$ not $\tofcd f$.}
\end{cor}

\section{Urysohn's lemma and friends}

For a detailed proof of Urysohn's lemma see also:\\
\url{http://homepage.math.uiowa.edu/~jsimon/COURSES/M132Fall07/UrysohnLemma_v5.pdf}\\
\url{https://proofwiki.org/wiki/Urysohn's_Lemma}\\
\url{http://planetmath.org/proofofurysohnslemma}

\url{https://en.wikipedia.org/wiki/Proximity_space} says that
``The resulting topology is always completely regular. This can be proven by imitating the usual proofs of Urysohn's lemma, using the last property of proximal neighborhoods to create the infinite increasing chain used in proving the lemma.''

Below follows an alternative proof of Urysohn lemma. Warning: This proof is conditional,
based on unproved conjecture~\bookref{fcd-comp-ent}.

\begin{lem}
  If $\langle \mu \rangle \mathcal{A} \asymp \mathcal{B}$ for a complete
  funcoid $\mu$ and $\mathcal{A}$, $\mathcal{B}$ are filters on relevant
  sets, then there exists $U \in \up \mu$ such that $\langle U
  \rangle \mathcal{A} \asymp \mathcal{B}$.
\end{lem}

\begin{proof}
  Prove that $\setcond{ \supfun{U} \mathcal{A} }{
  U \in \up \mu }$ is a filter base. That it
  is nonempty is obvious.
  
  Let $\mathcal{X}, \mathcal{Y} \in \setcond{ \supfun{U} \mathcal{A}
  }{ U \in \up \mu }$. Then
  $\mathcal{X} = \supfun{U_{\mathcal{X}}} \mathcal{A}$, $Y = \supfun{
  U_{\mathcal{Y}}} \supfun{A}$. Because $\mu$ is complete, we have
  (proposition~\bookref{up-f-filt}) $U_{\mathcal{X}} \sqcap U_{\mathcal{Y}} \in \up
  \mu$. Thus $\mathcal{X}, \mathcal{Y} \sqsupseteq \langle
  U_{\mathcal{X}} \sqcap U_{\mathcal{Y}} \rangle \mathcal{A} \in \setcond{
  \supfun{U} \mathcal{A} }{ U \in \up \mu }$.
  
  Thus $\langle \mu \rangle \mathcal{A} \asymp \mathcal{B}
  \Leftrightarrow \mathcal{B} \sqcap \langle \mu \rangle \mathcal{A} =
  \bot \Leftrightarrow \exists U \in \up \mu: \mathcal{B} \sqcap
  \supfun{U} \mathcal{A} = \bot \Leftrightarrow \exists U \in \up
  \mu: \supfun{U} \mathcal{A} \asymp \mathcal{B}$.
\end{proof}

\begin{cor}\label{disj-mu}
  If $\langle \mu \rangle \mathcal{A} \asymp \langle \mu \rangle
  \mathcal{B}$ for a complete funcoid $\mu$ and $\mathcal{A}$,
  $\mathcal{B}$ are filters on relevant sets, then there exists $U \in
  \up \mu$ such that $\supfun{U} \mathcal{A} \asymp \supfun{U} \mathcal{B}$.
\end{cor}

\begin{proof}
  Applying the lemma twice we can obtain $P, Q \in \up \mu$
  such that $\supfun{P} \mathcal{A} \asymp \supfun{Q} \mathcal{B}$. But because
  $\mu$ is complete, we have $U = P \sqcap Q \in \up \mu$,
  while obviously $\supfun{U} \mathcal{A} \asymp \supfun{U} \mathcal{B}$.
\end{proof}

\begin{lem}
  (assuming conjecture~\bookref{fcd-comp-ent}) For every $U \in \up \mu$ (where $\mu$ is a $T_4$ topological space) such that
  $\neg \left( A \rsuprel{U \circ U^{- 1}} B \right)$ there is $W \in
  \up \mu$ such that $U \circ U^{- 1} \sqsupseteq W \circ W^{- 1}
  \circ W \circ W^{- 1}$. For it holds $\neg \left( A \rsuprel{W \circ W^{-
  1}} B \right)$.
  We can assume that $\rsupfun{W}X$ is open for every set~$X$.
\end{lem}

\begin{proof}
  $U \circ U^{- 1} \in \up (\mu \circ \mu^{- 1}) \subseteq
  \up (\mu \circ \mu^{- 1} \circ \mu \circ
  \mu^{- 1})$ (normality used). Thus by the conjecture there exists $W
  \in \up \mu$ such that $U \circ U^{- 1} \sqsupseteq W \circ W^{-
  1} \circ W \circ W^{- 1}$. $W \circ W^{- 1} \sqsubseteq U \circ U^{- 1}$
  thus $\neg \left( A \rsuprel{W \circ W^{- 1}} B \right)$.
  
  To prove that $\rsupfun{W}X$ is open for every set~$X$, replace every $\rsupfun{W}\{x\}$
  with an open neighborhood $E\subseteq\rsupfun{W}X$ of $\rsupfun{\mu}\{x\}$
  (and note that union of open sets is open).
  This new $W$ holds all necessary properties.
\end{proof}

\begin{lem}
  (assuming conjecture~\bookref{fcd-comp-ent}) For every $U \in \up \mu$ (where $\mu$ is a $T_4$ topological space) such that
  $\neg \left( A \rsuprel{U \circ U^{- 1}} B \right)$ there is $W \in \up\mu$
  such that $U \circ U^{- 1} \sqsupseteq \mu^{-1} \circ W \circ W^{-1}\circ W \circ W^{- 1}$.
  For it holds $\neg \left( A \rsuprel{W \circ W^{-
  1}} B \right)$.
  We can assume that $\rsupfun{W}X$ is open for every set~$X$.
\end{lem}

\begin{proof}
Applying the previous lemma twice, we have some open~$W\in\up\mu$ such that
\[ U\circ U^{-1} \sqsupseteq W \circ W^{-1}\circ W \circ W^{- 1} \circ W \circ W^{-1}\circ W \circ W^{- 1} \]
and $\neg \left( A \rsuprel{W \circ W^{-1}} B \right)$.
From this easily follows that \[ U \circ U^{- 1} \sqsupseteq \mu^{-1} \circ W \circ W^{-1}\circ W \circ W^{- 1}. \]
\end{proof}

A modified proof of Urysohn's lemma follows. This proof is in part based on~\cite{2014arXiv1410.1504B}.
(I attempt to find common generalization of Urysohn's lemma and results from~\cite{2014arXiv1410.1504B}).

$\mathbb{Q}_2 \eqdef \setcond{ k/2^n }{k, n \in \mathbb{N}, 0 < k < 2^n }$.

\begin{thm}
Urysohn's lemma (see Wikipedia) for disjoint closed sets~$A$ and~$B$ and function~$f$ on a topological space~$\mu$
(considered as complete funcoid). \fxwarning{The proof was not thoroughly checked for errors.}
\end{thm}

\begin{proof}
(assuming conjecture~\bookref{fcd-comp-ent}) (used ProofWiki among other sources)

Because $A$ and $B$ are disjoint closed sets, we
have $\rsupfun{\mu} A \asymp \langle \mu
\rangle^{\ast} B$. Thus by the corollary~\ref{disj-mu} take $S_0 \in \up
\mu$ and $\neg \left( A \rsuprel{S_0 \circ S_0^{- 1}} B
\right)$.

We have $\mu \circ \mu^{- 1} \circ \mu \circ \mu^{- 1}
\sqsubseteq \mu \circ \mu^{- 1}$ that is $\up (\mu
\circ \mu^{- 1} \circ \mu \circ \mu^{- 1}) \supseteq
\up (\mu \circ \mu^{- 1})$.

Let's prove by induction: There is a sequence $S$ of binary relations starting
with $S_0$ such that $\neg \left( A \rsuprel{S_i \circ S_i^{- 1}} B
\right)$ and $S_i \circ S_i^{- 1} \sqsupseteq \mu^{-1} \circ S_{i + 1} \circ S_{i + 1}^{- 1}
\circ S_{i + 1} \circ S_{i + 1}^{- 1}$. It directly follows from the lemma
(and uses the conjecture).

Denote $U_i = S_{i + 1} \circ S_{i + 1}^{- 1}$. We have $U_i \sqsupseteq \mu^{-1} \circ U_{i +
1} \circ U_{i + 1}$ and $\neg \left( A \rsuprel{U_i} B \right)$.

By reflexivity of~$\mu$ we have $U_{i+1} \subseteq U_{i+1}\circ U_{i+1} \subseteq U_i$.

Define fractional degree of $U$: $U^r \eqdef U_1^{r_1} \circ
\ldots \circ U_{l_r}^{r_{l_r}}$ for every $r \in \mathbb{Q}_2$ where $r_1
\ldots r_{l_r}$ is the binary expansion of $r$.

Prove $U_r\subseteq U_0$. It is enough to prove
$U_0 \supseteq U_1 \circ \ldots \circ U_{l_r}$. It follows from $U_2 \circ
\ldots \circ U_{l_r} \subseteq U_1$, $U_3 \circ \ldots \circ U_{l_r} \subseteq
U_2$, \dots, $U_{l_r} \subseteq U_{l_r - 1}$ what was shown above.

Let's prove: For each $p,q\in\mathbb{Q}_2$ such that $p<q$ we have $\mu^{-1}\circ U^p\sqsubseteq U^q$.
We can assume binary expansion of~$p$ and~$q$ be the same length~$c$ (add zeros at the end of the shorter one).
Now it is enough to prove
\[ U_k\circ U_{k+1}^{q_{k+1}}\circ\dots\circ U_c^{q_c}\sqsupseteq\mu^{-1}\circ U_{k+1}^{p_{k+1}}\circ U_{k+2}^{p_{k+2}}\circ\dots\circ U_c^{p_c}. \]
But for this it's enough
\[ U_k\sqsupseteq\mu^{-1}\circ U_{k+1}\circ U_{k+2}\circ\dots\circ U_c \]
what can be easily proved by induction:
If $k=c$ then it takes the form $U_k\sqsupseteq\mu^{-1}$
what is obvious.
Suppose it holds for~$k$. Then $U_{k-1}\sqsupseteq\mu^{-1}\circ U_k\circ U_k\sqsupseteq
\mu^{-1}\circ U_k\circ \mu^{-1}\circ U_{k+1}\circ U_{k+2}\circ\dots\circ U_c\sqsupseteq
\mu^{-1}\circ U_k\circ U_{k+1}\circ U_{k+2}\circ\dots\circ U_c$, that is it holds
for all natural $k\leq c$.

It is easy to prove that $\rsupfun{U^r}X$ is open for every set~$X$.

We have $\rsupfun{\mu^{-1}}\rsupfun{U^p}X\sqsubseteq\rsupfun{U^q}X$.

\[ f (z) \eqdef \inf \left( \{ 1 \} \cup \setcond{ q \in
   \mathbb{Q}_2 }{ z \in \rsupfun{U^q}
   A } \right). \]
$f$ is properly defined because $\{ 1 \} \cup \setcond{ q \in \mathbb{Q}_2
}{ z \in \rsupfun{U^q} A }$ is
nonempty and bounded.

If $z \in A$ then $z \in \rsupfun{U^q} A$ for every $q \in
\mathbb{Q}_2$, thus $f (z) = 0$, because obviously $U^q \sqsupseteq 1$.

If $z \in B$ then $z \notin \rsupfun{U^q} A$ for every $q \in
\mathbb{Q}_2$, thus $f (z) = 1$, because $U^q \sqsubseteq U_0$.

It remains to prove that $f$ is continuous.

Let $D (x) = \{ 1 \} \cup \setcond{ q \in \mathbb{Q}_2 }{
z \in \rsupfun{U^q} A }$.

To show that f is continuous, we first prove two smaller results:

(a) $x\in\rsupfun{U^r}A \Rightarrow f(x)\leq r$.

We have $x\in\rsupfun{\mu^{-1}}\rsupfun{U^r}A \Rightarrow \forall s>r:x\in\rsupfun{U^s}A$,
so $D(x)$ contains all rationals greater than $r$. Thus $f(x)\leq r$ by definition of~$f$.

(b) $x\notin\rsupfun{U^r}A \Rightarrow f(x)\geq r$.

We have $x\notin\rsupfun{U^r}A \Rightarrow \forall s<r:x\notin\rsupfun{U^s}A$.
So $D(x)$ contains no rational less than $r$. Thus $f(x)\geq r$.

Let $x_0\in S$ and let $]c;d[$ be an open real interval containing $f(x)$.
We will find a neighborhood $T$ of $x_0$ such that $\rsupfun{f}T\subseteq]c;d[$.

Choose $p,q\in\mathbb{Q}$ such that $c < p < f(x_0) < q < d$. Let $T=\rsupfun{U^q}A\setminus\rsupfun{\mu^{-1}}\rsupfun{U^p}A$.

Then since $f(x_0)<q$, we have that (b) implies vacuously that $x\in\rsupfun{U^q}A$.

Since $f(x_0)>p$, (a) implies $x_0\notin\rsupfun{U^p}A$.

Hence $x_0\in T$.

Finally, let $x\in T$.

Then $x\in\rsupfun{U^q}A\subseteq\rsupfun{\mu^{-1}}\rsupfun{U^q}A$. So $f(x)<q$ by~(a).

Also $x\notin\rsupfun{\mu^{-1}}\rsupfun{U^p}A$, so $x\notin\rsupfun{U^p}A$ and $f(x)\geq p$ by~(b).

Thus: $f(x)\in[p;q]\subseteq]c;d[$.

Therefore $f$ is continuous.

\begin{grayed}
Claim A: $f (x) > q \Rightarrow x \notin \langle \mu^{- 1}
\rangle^{\ast} \rsupfun{U^q} A$

Claim B: $f (x) < q \Rightarrow x \in \rsupfun{U^q} A$

Proof of claim A: If $f (x) > q$ then then there must be some gap between $q$
and $D (x)$; in particular, there exists some $q'$ such that $q < q' < f (x)$.
But $q' < f (x) \Rightarrow x \notin \rsupfun{U^q} A \Rightarrow x
\notin \rsupfun{\mu^{- 1}} \rsupfun{U^q} A$ (using that $\rsupfun{U^r}X$ is open).

Proof of claim B: If $f (x) < q$ then there exists $q' \in D (x)$ such that $f
(x) < q' < q$, in which case $q \in D (x)$, so $x \in \langle U^q
\rangle^{\ast} A$.

To show that $f$ is continuous, it's enough to prove that preimages of $] a ;
1]$ and $[0 ; a [$ are open.

Suppose $f (x) \in] a ; 1]$. Pick some $q$ with $a < q < f (x)$. We claim that
the open set $W = X \setminus \rsupfun{f^{- 1}} \langle U^q
\rangle^{\ast} A$ is a neighborhood of $x$ that is mapped by $f$ into $] a ;
1]$. First, by (A), $f (x) > q \Rightarrow x \in W$, so $W$ is a neighborhood
of $x$. If $y$ is any point of $W$, then $f (y)$ must be $\geq q > a$;
otherwise, if $f (y) < q$, then, by (B) $y \in \rsupfun{U^q} A
\subseteq \rsupfun{f^{- 1}} \rsupfun{U^q} A$.

Suppose $x \in f^{- 1} [0 ; b [$ that is $f (x) < b$ and pick $q$ such that $f
(x) < q < b$. By (B) $x \in \rsupfun{U^q} A$. We claim that the
neighborhood $\rsupfun{U^q} A$ is mapped by $f$ into $[0 ; b [$.
Suppose $y$ is any point of $\rsupfun{U^q} A$. Then $q \in D
(y)$, so $f (y) \leq q < b$.
\end{grayed}
\end{proof}